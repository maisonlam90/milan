2025-11-09T02:06:45.134587Z ERROR milan::core::error: ‚ùå SQLx error: PoolTimedOut
2025-11-09T02:18:27.985338Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:18:28.002970Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:22:37.617621Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:22:37.641034Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:46:32.213780Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:46:32.232222Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:49:54.128095Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:49:54.147347Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:55:06.798817Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T02:55:06.815996Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T03:14:51.294012Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T03:14:51.295928Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:25.391018Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:25.398825Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:25.722795Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:25.724069Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:26.872214Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:17:26.888295Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-11-09T04:19:04.701493Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T04:19:04.718767Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T16:03:48.213189Z  INFO milan::infra::wasm_loader: ‚úÖ Loaded module: school
2025-11-09T16:03:48.213306Z  INFO milan: ‚úÖ Loaded 1 modules ngo√†i binary t·ª´ "../modules"
2025-11-09T16:03:48.214458Z  INFO milan::api::external_modules: ‚úÖ Registered routes cho module: school
2025-11-09T16:07:33.731957Z  INFO milan::infra::wasm_loader: ‚úÖ Loaded module: school
2025-11-09T16:07:33.732072Z  INFO milan: ‚úÖ Loaded 1 modules ngo√†i binary t·ª´ "../modules"
2025-11-09T16:07:33.733213Z  INFO milan::api::external_modules: ‚úÖ Registered routes cho module: school
2025-11-09T16:07:38.564650Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:07:38.565551Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:07:39.691514Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:07:39.706712Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:07:40.062883Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=362.789186ms elapsed_secs=0.362789186
2025-11-09T16:07:40.153894Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=333.322345ms elapsed_secs=0.333322345
2025-11-09T16:07:42.056187Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:07:42.058037Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:07:42.391875Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:07:42.728946Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=333.127536ms elapsed_secs=0.333127536
2025-11-09T16:07:42.730777Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:07:42.739189Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=4.828567ms elapsed_secs=0.004828567
2025-11-09T16:08:00.822563Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:08:09.320141Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:08:09.323469Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:08:23.021800Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:08:23.024236Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:08:31.917348Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:08:31.958255Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=35.508568ms elapsed_secs=0.035508568
2025-11-09T16:08:31.960045Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:08:31.971513Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=7.485861ms elapsed_secs=0.007485861
2025-11-09T16:08:46.274210Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:12:35.710471Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:12:35.714795Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:12:35.782625Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:12:35.793354Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:12:36.833757Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:12:36.892489Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=52.364742ms elapsed_secs=0.052364742
2025-11-09T16:12:36.904651Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:12:36.917263Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.713134ms elapsed_secs=0.006713134
2025-11-09T16:12:37.452579Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:12:37.509728Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:12:37.710561Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=252.806247ms elapsed_secs=0.252806247
2025-11-09T16:12:37.756395Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=241.843823ms elapsed_secs=0.241843823
2025-11-09T16:14:20.891006Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:20.893723Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:21.023267Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:21.024269Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:21.961167Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:21.990411Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=23.881844ms elapsed_secs=0.023881844
2025-11-09T16:14:22.012585Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:22.027211Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=8.432949ms elapsed_secs=0.008432949
2025-11-09T16:14:22.497193Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:22.509370Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=7.346686ms elapsed_secs=0.007346686
2025-11-09T16:14:22.520236Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:22.535910Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=10.422376ms elapsed_secs=0.010422376
2025-11-09T16:14:32.443955Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:32.445038Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:14:32.777120Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:32.794442Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=13.227622ms elapsed_secs=0.013227622
2025-11-09T16:14:32.797190Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:14:32.804497Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=3.837754ms elapsed_secs=0.003837754
2025-11-09T16:14:50.072389Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:14:56.228491Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:15:23.435363Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:15:23.437266Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:15:23.755522Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:15:23.776465Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=17.41813ms elapsed_secs=0.01741813
2025-11-09T16:15:23.778263Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:15:23.792386Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=9.497989ms elapsed_secs=0.009497989
2025-11-09T16:15:27.406618Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:15:27.409267Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:15:27.740392Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:15:27.757131Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=12.551527ms elapsed_secs=0.012551527
2025-11-09T16:15:27.761801Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:15:27.771697Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=5.83532ms elapsed_secs=0.00583532
2025-11-09T16:15:43.241728Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=76.204502ms elapsed_secs=0.076204502
2025-11-09T16:15:43.281824Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=37.317626ms elapsed_secs=0.037317626
2025-11-09T16:15:55.564359Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /monthly-interest
2025-11-09T16:15:55.582528Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /stats?year=2025&range=monthly&month=11
2025-11-09T16:15:55.582996Z  WARN milan::core::cache: REDIS_URL not set, using in-memory cache fallback
2025-11-09T16:15:55.757218Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=169.107035ms elapsed_secs=0.169107035
2025-11-09T16:15:55.761720Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=193.23661ms elapsed_secs=0.19323661
2025-11-09T16:15:55.851858Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /dashboard-stats
2025-11-09T16:15:55.852680Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /contract-status
2025-11-09T16:15:55.853862Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /portfolio-quality
2025-11-09T16:15:55.858351Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /top-contracts
2025-11-09T16:15:55.878538Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=22.078888ms elapsed_secs=0.022078888
2025-11-09T16:15:55.887441Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=28.066946ms elapsed_secs=0.028066946
2025-11-09T16:15:56.205560Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=311.613482ms elapsed_secs=0.311613482
2025-11-09T16:15:56.323743Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=525.71213ms elapsed_secs=0.52571213
2025-11-09T16:15:56.345361Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=545.848776ms elapsed_secs=0.545848776
2025-11-09T16:15:56.373033Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=40.086544ms elapsed_secs=0.040086544
2025-11-09T16:15:56.377598Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=22.418713ms elapsed_secs=0.022418713
2025-11-09T16:15:56.405344Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=22.793574ms elapsed_secs=0.022793574
2025-11-09T16:15:56.423177Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=12.76036ms elapsed_secs=0.01276036
2025-11-09T16:15:56.436352Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=7.11822ms elapsed_secs=0.00711822
2025-11-09T16:15:56.469107Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=537.362824ms elapsed_secs=0.537362824
2025-11-09T16:15:56.472863Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=27.498222ms elapsed_secs=0.027498222
2025-11-09T16:15:56.487139Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=9.602621ms elapsed_secs=0.009602621
2025-11-09T16:15:56.491973Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=13.986786ms elapsed_secs=0.013986786
2025-11-09T16:15:56.494596Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=549.667753ms elapsed_secs=0.549667753
2025-11-09T16:15:56.506805Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=9.965024ms elapsed_secs=0.009965024
2025-11-09T16:15:56.520483Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=20.702306ms elapsed_secs=0.020702306
2025-11-09T16:15:56.525097Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=12.16194ms elapsed_secs=0.01216194
2025-11-09T16:15:56.540302Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=6.78829ms elapsed_secs=0.00678829
2025-11-09T16:15:56.555460Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=9.948695ms elapsed_secs=0.009948695
2025-11-09T16:15:56.557487Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /activity-report
2025-11-09T16:15:56.575106Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=362.434655ms elapsed_secs=0.362434655
2025-11-09T16:15:56.599048Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=15.323564ms elapsed_secs=0.015323564
2025-11-09T16:15:56.617251Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=662.45849ms elapsed_secs=0.66245849
2025-11-09T16:15:56.626806Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=18.403204ms elapsed_secs=0.018403204
2025-11-09T16:15:56.633395Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=10.631873ms elapsed_secs=0.010631873
2025-11-09T16:15:56.646127Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=13.672079ms elapsed_secs=0.013672079
2025-11-09T16:15:56.661693Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=21.637281ms elapsed_secs=0.021637281
2025-11-09T16:15:56.663394Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=174.57486ms elapsed_secs=0.17457486
2025-11-09T16:15:56.692819Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=36.877022ms elapsed_secs=0.036877022
2025-11-09T16:15:56.696714Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=29.203748ms elapsed_secs=0.029203748
2025-11-09T16:15:56.702505Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=33.970291ms elapsed_secs=0.033970291
2025-11-09T16:15:56.722010Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=15.9139ms elapsed_secs=0.0159139
2025-11-09T16:15:56.735533Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=9.043816ms elapsed_secs=0.009043816
2025-11-09T16:15:56.772024Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=26.472935ms elapsed_secs=0.026472935
2025-11-09T16:15:56.790840Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=7.67511ms elapsed_secs=0.00767511
2025-11-09T16:15:56.807820Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=11.650703ms elapsed_secs=0.011650703
2025-11-09T16:15:56.809693Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /recent-activities
2025-11-09T16:15:56.960787Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=397.032778ms elapsed_secs=0.397032778
2025-11-09T16:15:56.981828Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=16.489116ms elapsed_secs=0.016489116
2025-11-09T16:15:57.000322Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=12.842696ms elapsed_secs=0.012842696
2025-11-09T16:15:57.021886Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=497.229196ms elapsed_secs=0.497229196
2025-11-09T16:15:57.025660Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=18.465702ms elapsed_secs=0.018465702
2025-11-09T16:15:57.068421Z DEBUG sqlx::query: summary="SELECT lt.id, lt.transaction_type, lt.amount, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date,\n  lt.note,\n  lc.contract_number,\n  c.name as contact_name\nFROM\n  loan_transaction lt\n  JOIN loan_contract lc ON lt.contract_id = lc.id\n  JOIN contact c ON lc.contact_id = c.id\nWHERE\n  lt.tenant_id = $1\nORDER BY\n  lt.date DESC,\n  lt.created_at DESC\nLIMIT\n  5\n" rows_affected=5 rows_returned=5 elapsed=247.726108ms elapsed_secs=0.247726108
2025-11-09T16:15:57.070170Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /stats?year=2025&range=monthly&month=11
2025-11-09T16:15:57.071449Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /contract-status
2025-11-09T16:15:57.072849Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /recent-activities
2025-11-09T16:15:57.113026Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=74.139409ms elapsed_secs=0.074139409
2025-11-09T16:15:57.113060Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=71.519264ms elapsed_secs=0.071519264
2025-11-09T16:15:57.131132Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=8.940303ms elapsed_secs=0.008940303
2025-11-09T16:15:57.135965Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=13.876183ms elapsed_secs=0.013876183
2025-11-09T16:15:57.157748Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=18.138064ms elapsed_secs=0.018138064
2025-11-09T16:15:57.162714Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=17.019479ms elapsed_secs=0.017019479
2025-11-09T16:15:57.180553Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=18.115982ms elapsed_secs=0.018115982
2025-11-09T16:15:57.187307Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=15.019245ms elapsed_secs=0.015019245
2025-11-09T16:15:57.196098Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=4.314074ms elapsed_secs=0.004314074
2025-11-09T16:15:57.209266Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=16.202741ms elapsed_secs=0.016202741
2025-11-09T16:15:57.219126Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=12.098848ms elapsed_secs=0.012098848
2025-11-09T16:15:57.252947Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=38.971508ms elapsed_secs=0.038971508
2025-11-09T16:15:57.281878Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=56.654541ms elapsed_secs=0.056654541
2025-11-09T16:15:57.286268Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=21.949506ms elapsed_secs=0.021949506
2025-11-09T16:15:57.299210Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=8.875694ms elapsed_secs=0.008875694
2025-11-09T16:15:57.305444Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=12.755161ms elapsed_secs=0.012755161
2025-11-09T16:15:57.306706Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /activity-report
2025-11-09T16:15:57.343520Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=31.735641ms elapsed_secs=0.031735641
2025-11-09T16:15:57.345492Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /portfolio-quality
2025-11-09T16:15:57.364164Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=653.101772ms elapsed_secs=0.653101772
2025-11-09T16:15:57.386944Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=13.981013ms elapsed_secs=0.013981013
2025-11-09T16:15:57.387791Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=584.623271ms elapsed_secs=0.584623271
2025-11-09T16:15:57.398027Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=906.303914ms elapsed_secs=0.906303914
2025-11-09T16:15:57.402259Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=10.464707ms elapsed_secs=0.010464707
2025-11-09T16:15:57.402259Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=9.917757ms elapsed_secs=0.009917757
2025-11-09T16:15:57.414052Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=10.20602ms elapsed_secs=0.01020602
2025-11-09T16:15:57.418707Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=11.159546ms elapsed_secs=0.011159546
2025-11-09T16:15:57.434999Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=12.126586ms elapsed_secs=0.012126586
2025-11-09T16:15:57.444073Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=19.513952ms elapsed_secs=0.019513952
2025-11-09T16:15:57.457059Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=7.021642ms elapsed_secs=0.007021642
2025-11-09T16:15:57.470315Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=7.464408ms elapsed_secs=0.007464408
2025-11-09T16:15:57.478917Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=3.546815ms elapsed_secs=0.003546815
2025-11-09T16:15:57.490981Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=7.710266ms elapsed_secs=0.007710266
2025-11-09T16:15:57.506828Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=10.84103ms elapsed_secs=0.01084103
2025-11-09T16:15:57.519193Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=7.345342ms elapsed_secs=0.007345342
2025-11-09T16:15:57.521023Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /monthly-interest
2025-11-09T16:15:57.522361Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=118.461992ms elapsed_secs=0.118461992
2025-11-09T16:15:57.535137Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=7.959998ms elapsed_secs=0.007959998
2025-11-09T16:15:57.602519Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=65.846711ms elapsed_secs=0.065846711
2025-11-09T16:15:57.614528Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=6.972071ms elapsed_secs=0.006972071
2025-11-09T16:15:57.624801Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=8.444203ms elapsed_secs=0.008444203
2025-11-09T16:15:57.636606Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=5.846172ms elapsed_secs=0.005846172
2025-11-09T16:15:57.687165Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=245.376604ms elapsed_secs=0.245376604
2025-11-09T16:15:57.696305Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=4.334675ms elapsed_secs=0.004334675
2025-11-09T16:15:57.698484Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /dashboard-stats
2025-11-09T16:15:57.718607Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=79.462678ms elapsed_secs=0.079462678
2025-11-09T16:15:57.728994Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=6.461381ms elapsed_secs=0.006461381
2025-11-09T16:15:57.733305Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=2.926061ms elapsed_secs=0.002926061
2025-11-09T16:15:57.743195Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=5.581655ms elapsed_secs=0.005581655
2025-11-09T16:15:57.752224Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=4.673577ms elapsed_secs=0.004673577
2025-11-09T16:15:57.758964Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=0 elapsed=5.151484ms elapsed_secs=0.005151484
2025-11-09T16:15:57.767251Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=4.248035ms elapsed_secs=0.004248035
2025-11-09T16:15:57.774753Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=0 elapsed=6.011922ms elapsed_secs=0.006011922
2025-11-09T16:15:57.782694Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=3.805159ms elapsed_secs=0.003805159
2025-11-09T16:15:57.793219Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=9.059168ms elapsed_secs=0.009059168
2025-11-09T16:15:57.795094Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /top-contracts
2025-11-09T16:16:00.048383Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:16:00.080494Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=28.720325ms elapsed_secs=0.028720325
2025-11-09T16:16:00.082098Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:16:00.103220Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=17.375006ms elapsed_secs=0.017375006
2025-11-09T16:16:10.712066Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:16:25.528640Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:16:25.529746Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:16:25.847787Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:16:25.909550Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=58.349153ms elapsed_secs=0.058349153
2025-11-09T16:16:25.911085Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:16:25.987193Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=72.811159ms elapsed_secs=0.072811159
2025-11-09T16:16:35.640069Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:19:46.495369Z  INFO milan::infra::wasm_loader: ‚úÖ Loaded module: school
2025-11-09T16:19:46.495502Z  INFO milan: ‚úÖ Loaded 1 modules ngo√†i binary t·ª´ "../modules"
2025-11-09T16:19:46.496710Z  INFO milan::api::external_modules: ‚úÖ Registered routes cho module: school
2025-11-09T16:19:51.539086Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:19:51.539194Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:19:51.539210Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:19:51.539258Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:19:51.540529Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:19:51.540624Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:19:51.540643Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:19:51.540681Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:19:51.835923Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:51.836018Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:51.836044Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:51.837560Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:51.837647Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:51.837672Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:51.837720Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:19:51.859453Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:51.859566Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:51.859599Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:52.042429Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=197.51411ms elapsed_secs=0.19751411
2025-11-09T16:19:52.044196Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:52.044312Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:52.044346Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:52.044414Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:19:52.053900Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=5.744009ms elapsed_secs=0.005744009
2025-11-09T16:19:54.137917Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:19:54.138017Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:19:54.138035Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:19:54.138096Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:19:54.139652Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:19:54.139736Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:19:54.139754Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:19:54.139794Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:19:54.465148Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:54.465246Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:54.465269Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:54.465882Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:54.465956Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:54.465983Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:54.466024Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:19:54.487429Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=16.296923ms elapsed_secs=0.016296923
2025-11-09T16:19:54.488461Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:54.488596Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:54.488624Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:54.489727Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:19:54.489859Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:19:54.489899Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:19:54.489992Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:19:54.502717Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=7.763819ms elapsed_secs=0.007763819
2025-11-09T16:20:02.191962Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:20:02.192120Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:02.192166Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:02.192231Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:20:02.192596Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:20:02.192665Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:02.192692Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:02.193095Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: aaaAt least 1 transaction is required
2025-11-09T16:20:42.031969Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:20:42.032117Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:42.032157Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:42.032235Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:20:42.032860Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:20:42.032926Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:42.032948Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:42.032995Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:20:45.949430Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:20:45.949572Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:45.949599Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:45.951166Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:20:45.951338Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:45.951371Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:45.951450Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:20:45.967637Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:20:45.967809Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:45.967837Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:45.971720Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:20:45.971891Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:20:45.971932Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:20:45.972007Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:20:46.014687Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=58.035281ms elapsed_secs=0.058035281
2025-11-09T16:20:46.324574Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=249.935508ms elapsed_secs=0.249935508
2025-11-09T16:21:31.026556Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:21:31.026659Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.026679Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.026715Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:21:31.027966Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:21:31.028065Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.028090Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.028149Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:21:31.461760Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:31.461878Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.461908Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.462533Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:31.462596Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.462619Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.462663Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:31.480983Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:31.481089Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.481116Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.526334Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=60.295598ms elapsed_secs=0.060295598
2025-11-09T16:21:31.527971Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:31.528086Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:31.528115Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:31.528174Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:31.540713Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=8.09814ms elapsed_secs=0.00809814
2025-11-09T16:21:33.891418Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:33.891558Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:33.891594Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:33.893205Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:33.893325Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:33.893352Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:33.893407Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:33.912958Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:33.913127Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:33.913161Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:34.149246Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=252.049488ms elapsed_secs=0.252049488
2025-11-09T16:21:34.151080Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:34.151164Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:34.151211Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:34.151259Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:34.264599Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=109.601995ms elapsed_secs=0.109601995
2025-11-09T16:21:35.271157Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.271263Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.271292Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.271347Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:21:35.458267Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=181.751048ms elapsed_secs=0.181751048
2025-11-09T16:21:35.460415Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.460545Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.460580Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.460643Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:21:35.620059Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=155.028241ms elapsed_secs=0.155028241
2025-11-09T16:21:35.878748Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.878860Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.878883Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.878926Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:35.879577Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.879702Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.879735Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.905279Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=22.012564ms elapsed_secs=0.022012564
2025-11-09T16:21:35.906070Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.906150Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.906180Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.907022Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:35.907097Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:35.907122Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:35.907171Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:35.917479Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=6.801689ms elapsed_secs=0.006801689
2025-11-09T16:21:36.540973Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:36.541357Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:36.541411Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:36.543530Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:36.543654Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:36.543684Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:36.544278Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:36.544353Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:36.544379Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:36.544422Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:36.574260Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=25.011898ms elapsed_secs=0.025011898
2025-11-09T16:21:36.575898Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:21:36.575987Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:21:36.576006Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:21:36.576045Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:21:36.586745Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.513387ms elapsed_secs=0.006513387
2025-11-09T16:27:05.241767Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:27:05.242040Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.242091Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.242201Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:27:05.244700Z DEBUG milan::core::i18n: üåê Accept-Language header: en
2025-11-09T16:27:05.244829Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.244860Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.244945Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:27:05.542498Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:05.542585Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.542603Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.543345Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:05.543444Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.543475Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.543521Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:05.565883Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:05.566040Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.566076Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.572446Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=23.748553ms elapsed_secs=0.023748553
2025-11-09T16:27:05.574395Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:05.574576Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:05.574611Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:05.574678Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:05.585400Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.827641ms elapsed_secs=0.006827641
2025-11-09T16:27:41.621290Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:27:41.621375Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:27:41.621394Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:27:41.689114Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=65.923458ms elapsed_secs=0.065923458
2025-11-09T16:27:41.728100Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=36.168534ms elapsed_secs=0.036168534
2025-11-09T16:27:46.465581Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:46.465719Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:46.465757Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:46.465821Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:46.466383Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:46.466452Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:46.466476Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:46.487916Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=18.205827ms elapsed_secs=0.018205827
2025-11-09T16:27:46.490474Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:46.490637Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:46.490670Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:46.490736Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:46.491603Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:46.491738Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:46.491772Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:46.504645Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=8.766791ms elapsed_secs=0.008766791
2025-11-09T16:27:47.373456Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:47.373603Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:47.373641Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:47.375725Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:47.375848Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:47.375877Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:47.376447Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:47.376525Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:47.376550Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:47.376603Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-11-09T16:27:47.391442Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=3 rows_returned=3 elapsed=10.466373ms elapsed_secs=0.010466373
2025-11-09T16:27:47.393122Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:47.393244Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:47.393271Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:47.393325Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-11-09T16:27:47.405472Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=3 rows_returned=3 elapsed=8.62041ms elapsed_secs=0.00862041
2025-11-09T16:27:48.931372Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:48.931461Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:48.931480Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:48.931519Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /monthly-interest
2025-11-09T16:27:48.945051Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:48.945209Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:48.945241Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:48.945308Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /stats?year=2025&range=monthly&month=11
2025-11-09T16:27:48.945621Z  WARN milan::core::cache: REDIS_URL not set, using in-memory cache fallback
2025-11-09T16:27:48.946471Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:48.946575Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:48.946605Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:48.946661Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /dashboard-stats
2025-11-09T16:27:49.003333Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=66.061651ms elapsed_secs=0.066061651
2025-11-09T16:27:49.008452Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=52.748126ms elapsed_secs=0.052748126
2025-11-09T16:27:49.220560Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:49.220653Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:49.220668Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:49.220710Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /contract-status
2025-11-09T16:27:49.223866Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:49.223954Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:49.223979Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:49.224029Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /portfolio-quality
2025-11-09T16:27:49.224525Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:49.224600Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:49.224624Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:49.224680Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /top-contracts
2025-11-09T16:27:49.244406Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=16.772348ms elapsed_secs=0.016772348
2025-11-09T16:27:49.265012Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=36.141372ms elapsed_secs=0.036141372
2025-11-09T16:27:49.422081Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=151.282058ms elapsed_secs=0.151282058
2025-11-09T16:27:49.473516Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=390.090919ms elapsed_secs=0.390090919
2025-11-09T16:27:49.499705Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=19.149672ms elapsed_secs=0.019149672
2025-11-09T16:27:49.616509Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=514.764008ms elapsed_secs=0.514764008
2025-11-09T16:27:49.624217Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=196.358664ms elapsed_secs=0.196358664
2025-11-09T16:27:49.644001Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=20.941316ms elapsed_secs=0.020941316
2025-11-09T16:27:49.663552Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=33.246117ms elapsed_secs=0.033246117
2025-11-09T16:27:49.697123Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=41.601328ms elapsed_secs=0.041601328
2025-11-09T16:27:49.701881Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=29.866897ms elapsed_secs=0.029866897
2025-11-09T16:27:49.753937Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=648.245148ms elapsed_secs=0.648245148
2025-11-09T16:27:49.758696Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=51.840159ms elapsed_secs=0.051840159
2025-11-09T16:27:49.780626Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=16.123711ms elapsed_secs=0.016123711
2025-11-09T16:27:49.789937Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=25.934215ms elapsed_secs=0.025934215
2025-11-09T16:27:49.809965Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=20.747023ms elapsed_secs=0.020747023
2025-11-09T16:27:49.820055Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=21.628141ms elapsed_secs=0.021628141
2025-11-09T16:27:49.826201Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=9.211797ms elapsed_secs=0.009211797
2025-11-09T16:27:49.838558Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=7.068113ms elapsed_secs=0.007068113
2025-11-09T16:27:49.845004Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=17.624829ms elapsed_secs=0.017624829
2025-11-09T16:27:49.877042Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=22.837557ms elapsed_secs=0.022837557
2025-11-09T16:27:49.881618Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=37.083842ms elapsed_secs=0.037083842
2025-11-09T16:27:49.924913Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=35.223236ms elapsed_secs=0.035223236
2025-11-09T16:27:49.929386Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=35.035877ms elapsed_secs=0.035035877
2025-11-09T16:27:49.946162Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=10.223625ms elapsed_secs=0.010223625
2025-11-09T16:27:49.950202Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=16.973285ms elapsed_secs=0.016973285
2025-11-09T16:27:49.950834Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:49.950894Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:49.950912Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:49.950945Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /activity-report
2025-11-09T16:27:50.009366Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=53.752984ms elapsed_secs=0.053752984
2025-11-09T16:27:50.019803Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=63.096475ms elapsed_secs=0.063096475
2025-11-09T16:27:50.069958Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=56.439875ms elapsed_secs=0.056439875
2025-11-09T16:27:50.080366Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=765.058687ms elapsed_secs=0.765058687
2025-11-09T16:27:50.097877Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=70.801164ms elapsed_secs=0.070801164
2025-11-09T16:27:50.134545Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=44.396182ms elapsed_secs=0.044396182
2025-11-09T16:27:50.139582Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=32.556124ms elapsed_secs=0.032556124
2025-11-09T16:27:50.139878Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=59.346548ms elapsed_secs=0.059346548
2025-11-09T16:27:50.163164Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=16.256494ms elapsed_secs=0.016256494
2025-11-09T16:27:50.166289Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.166412Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.166437Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.166491Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /recent-activities
2025-11-09T16:27:50.212786Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=67.274467ms elapsed_secs=0.067274467
2025-11-09T16:27:50.287246Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=59.783433ms elapsed_secs=0.059783433
2025-11-09T16:27:50.302812Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=10.517764ms elapsed_secs=0.010517764
2025-11-09T16:27:50.338563Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=30.310185ms elapsed_secs=0.030310185
2025-11-09T16:27:50.363208Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=14.805831ms elapsed_secs=0.014805831
2025-11-09T16:27:50.373412Z  WARN sqlx::query: slow statement: execution time exceeded alert threshold summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=1.064477348s elapsed_secs=1.064477348 slow_threshold=1s
2025-11-09T16:27:50.385707Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=5.453919ms elapsed_secs=0.005453919
2025-11-09T16:27:50.389882Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=11.177189ms elapsed_secs=0.011177189
2025-11-09T16:27:50.397371Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=891.346685ms elapsed_secs=0.891346685
2025-11-09T16:27:50.403074Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=8.604017ms elapsed_secs=0.008604017
2025-11-09T16:27:50.407387Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=11.864772ms elapsed_secs=0.011864772
2025-11-09T16:27:50.421282Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=14.239635ms elapsed_secs=0.014239635
2025-11-09T16:27:50.434704Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=26.373881ms elapsed_secs=0.026373881
2025-11-09T16:27:50.445519Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=30.141625ms elapsed_secs=0.030141625
2025-11-09T16:27:50.464613Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=31.018852ms elapsed_secs=0.031018852
2025-11-09T16:27:50.469876Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=27.524288ms elapsed_secs=0.027524288
2025-11-09T16:27:50.471462Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.471577Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.471600Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.475083Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.475579Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.475818Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.476026Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:50.499569Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=44.854928ms elapsed_secs=0.044854928
2025-11-09T16:27:50.500769Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=363.760806ms elapsed_secs=0.363760806
2025-11-09T16:27:50.504973Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=33.976394ms elapsed_secs=0.033976394
2025-11-09T16:27:50.519293Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=13.036562ms elapsed_secs=0.013036562
2025-11-09T16:27:50.523798Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=19.045214ms elapsed_secs=0.019045214
2025-11-09T16:27:50.527933Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=18.138516ms elapsed_secs=0.018138516
2025-11-09T16:27:50.573986Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=49.153212ms elapsed_secs=0.049153212
2025-11-09T16:27:50.581180Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=51.127933ms elapsed_secs=0.051127933
2025-11-09T16:27:50.612388Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=71.811129ms elapsed_secs=0.071811129
2025-11-09T16:27:50.632955Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=54.752484ms elapsed_secs=0.054752484
2025-11-09T16:27:50.640024Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=51.826436ms elapsed_secs=0.051826436
2025-11-09T16:27:50.649175Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=13.026921ms elapsed_secs=0.013026921
2025-11-09T16:27:50.659144Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=13.416581ms elapsed_secs=0.013416581
2025-11-09T16:27:50.664064Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=10.579218ms elapsed_secs=0.010579218
2025-11-09T16:27:50.726648Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=63.451029ms elapsed_secs=0.063451029
2025-11-09T16:27:50.727494Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=55.575754ms elapsed_secs=0.055575754
2025-11-09T16:27:50.748747Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=13.600516ms elapsed_secs=0.013600516
2025-11-09T16:27:50.753509Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=17.50667ms elapsed_secs=0.01750667
2025-11-09T16:27:50.754152Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.754218Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.754240Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.754289Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /stats?year=2025&range=monthly&month=11
2025-11-09T16:27:50.755717Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.755852Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.755890Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.755963Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /monthly-interest
2025-11-09T16:27:50.758907Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.758988Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.759007Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.759055Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /activity-report
2025-11-09T16:27:50.760796Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.760967Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.761001Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.763094Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.763245Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.763280Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.763348Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /contract-status
2025-11-09T16:27:50.765568Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.765713Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.765733Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.765786Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:50.785926Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=27.006835ms elapsed_secs=0.027006835
2025-11-09T16:27:50.814765Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=41.07332ms elapsed_secs=0.04107332
2025-11-09T16:27:50.819969Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=22.746144ms elapsed_secs=0.022746144
2025-11-09T16:27:50.820706Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.820832Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.820863Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.823272Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.823432Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.823470Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.823616Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:50.860392Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=32.023904ms elapsed_secs=0.032023904
2025-11-09T16:27:50.862408Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.862535Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.862561Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.888671Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=401.437495ms elapsed_secs=0.401437495
2025-11-09T16:27:50.890757Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:50.890866Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:50.890897Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:50.890971Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:27:50.907239Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.884397ms elapsed_secs=0.006884397
2025-11-09T16:27:51.008311Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=185.145892ms elapsed_secs=0.185145892
2025-11-09T16:27:51.027260Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=9.551466ms elapsed_secs=0.009551466
2025-11-09T16:27:51.081725Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.550439ms elapsed_secs=0.052550439
2025-11-09T16:27:51.114449Z DEBUG sqlx::query: summary="SELECT lt.id, lt.transaction_type, lt.amount, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date,\n  lt.note,\n  lc.contract_number,\n  c.name as contact_name\nFROM\n  loan_transaction lt\n  JOIN loan_contract lc ON lt.contract_id = lc.id\n  JOIN contact c ON lc.contact_id = c.id\nWHERE\n  lt.tenant_id = $1\nORDER BY\n  lt.date DESC,\n  lt.created_at DESC\nLIMIT\n  5\n" rows_affected=5 rows_returned=5 elapsed=937.239361ms elapsed_secs=0.937239361
2025-11-09T16:27:51.116088Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:51.116173Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:51.116192Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:51.116234Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /recent-activities
2025-11-09T16:27:51.142253Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=51.983951ms elapsed_secs=0.051983951
2025-11-09T16:27:51.150689Z  WARN sqlx::query: slow statement: execution time exceeded alert threshold summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=1.313989351s elapsed_secs=1.313989351 slow_threshold=1s
2025-11-09T16:27:51.167817Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=11.439824ms elapsed_secs=0.011439824
2025-11-09T16:27:51.172195Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=17.112216ms elapsed_secs=0.017112216
2025-11-09T16:27:51.179320Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=0 elapsed=5.124723ms elapsed_secs=0.005124723
2025-11-09T16:27:51.186167Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=5 rows_returned=5 elapsed=9.264003ms elapsed_secs=0.009264003
2025-11-09T16:27:51.203495Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=17.786147ms elapsed_secs=0.017786147
2025-11-09T16:27:51.210458Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=18.446617ms elapsed_secs=0.018446617
2025-11-09T16:27:51.226981Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=10.842269ms elapsed_secs=0.010842269
2025-11-09T16:27:51.237199Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=0 rows_returned=0 elapsed=611.488858ms elapsed_secs=0.611488858
2025-11-09T16:27:51.240837Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=9.649555ms elapsed_secs=0.009649555
2025-11-09T16:27:51.252208Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=6.775965ms elapsed_secs=0.006775965
2025-11-09T16:27:51.256455Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=4 rows_returned=4 elapsed=11.499729ms elapsed_secs=0.011499729
2025-11-09T16:27:51.257077Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:51.257172Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:51.257200Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:51.257250Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /portfolio-quality
2025-11-09T16:27:51.268271Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=3 rows_returned=3 elapsed=7.668644ms elapsed_secs=0.007668644
2025-11-09T16:27:51.277618Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=4.298811ms elapsed_secs=0.004298811
2025-11-09T16:27:51.279696Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:51.279811Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:51.279835Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:51.279895Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /dashboard-stats
2025-11-09T16:27:51.297181Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=0 elapsed=91.979816ms elapsed_secs=0.091979816
2025-11-09T16:27:51.309613Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=5.171131ms elapsed_secs=0.005171131
2025-11-09T16:27:51.314198Z DEBUG sqlx::query: summary="SELECT name FROM contact ‚Ä¶" db.statement="\n\nSELECT\n  name\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=2.976226ms elapsed_secs=0.002976226
2025-11-09T16:27:51.316357Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:51.316491Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:51.316525Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:51.316597Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /top-contracts
2025-11-09T16:27:57.176794Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:57.176909Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:57.176938Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:57.176984Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:27:57.216581Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=35.179133ms elapsed_secs=0.035179133
2025-11-09T16:27:57.218205Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:57.218295Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:57.218320Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:57.218373Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:27:57.428404Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=204.979598ms elapsed_secs=0.204979598
2025-11-09T16:27:57.764334Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:57.764458Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:57.764495Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:57.764562Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:27:57.889452Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=7 rows_returned=7 elapsed=118.331188ms elapsed_secs=0.118331188
2025-11-09T16:27:57.893109Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:57.893320Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:57.893352Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:57.893428Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:27:58.013403Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=7 rows_returned=7 elapsed=112.946496ms elapsed_secs=0.112946496
2025-11-09T16:27:58.819906Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:58.820034Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:58.820067Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:58.820137Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-11-09T16:27:58.841807Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=16.527178ms elapsed_secs=0.016527178
2025-11-09T16:27:58.841948Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 21.606063ms
2025-11-09T16:27:58.859339Z DEBUG sqlx::query: summary="SELECT id, contract_id, tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  contract_id,\n  tenant_id,\n  contact_id,\n  transaction_type,\n  amount,\n  date,\n  note,\n  days_from_prev,\n  interest_for_period,\n  accumulated_interest,\n  principal_balance,\n  created_at,\n  updated_at\nFROM\n  loan_transaction\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_id,\n  date,\n  id\n" rows_affected=39 rows_returned=39 elapsed=14.732329ms elapsed_secs=0.014732329
2025-11-09T16:27:58.859535Z DEBUG milan::module::loan::handler::report: ‚è± contract faaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa: calc=8.851¬µs
2025-11-09T16:27:58.859563Z DEBUG milan::module::loan::handler::report: ‚è± contract f9999999-9999-9999-9999-999999999999: calc=1.701¬µs
2025-11-09T16:27:58.859572Z DEBUG milan::module::loan::handler::report: ‚è± contract f8888888-8888-8888-8888-888888888888: calc=1.375¬µs
2025-11-09T16:27:58.859578Z DEBUG milan::module::loan::handler::report: ‚è± contract f7777777-7777-7777-7777-777777777777: calc=1.611¬µs
2025-11-09T16:27:58.859585Z DEBUG milan::module::loan::handler::report: ‚è± contract f6666666-6666-6666-6666-666666666666: calc=1.481¬µs
2025-11-09T16:27:58.859591Z DEBUG milan::module::loan::handler::report: ‚è± contract f5555555-5555-5555-5555-555555555555: calc=1.18¬µs
2025-11-09T16:27:58.859597Z DEBUG milan::module::loan::handler::report: ‚è± contract f4444444-4444-4444-4444-444444444444: calc=1.593¬µs
2025-11-09T16:27:58.859602Z DEBUG milan::module::loan::handler::report: ‚è± contract f3333333-3333-3333-3333-333333333333: calc=491ns
2025-11-09T16:27:58.859608Z DEBUG milan::module::loan::handler::report: ‚è± contract f2222222-2222-2222-2222-222222222222: calc=1.451¬µs
2025-11-09T16:27:58.859613Z DEBUG milan::module::loan::handler::report: ‚è± contract f1111111-1111-1111-1111-111111111111: calc=1.086¬µs
2025-11-09T16:27:58.859618Z DEBUG milan::module::loan::handler::report: ‚è± contract 84235ee4-e802-435c-9511-239972917d16: calc=745ns
2025-11-09T16:27:58.859631Z DEBUG milan::module::loan::handler::report: ‚è± total calc: 134.677¬µs
2025-11-09T16:27:58.978937Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    ),\n    (\n      $111,\n      $112,\n      $113,\n      $114,\n      $115,\n      $116,\n      $117,\n      $118,\n      $119,\n      $120,\n      $121\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=11 rows_returned=0 elapsed=104.839389ms elapsed_secs=0.104839389
2025-11-09T16:27:58.979086Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 119.437552ms
2025-11-09T16:27:59.001940Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:59.002032Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:59.002051Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:59.002093Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:27:59.082724Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=75.869427ms elapsed_secs=0.075869427
2025-11-09T16:27:59.084165Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:27:59.084275Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:27:59.084301Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:27:59.084360Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:27:59.148756Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=59.725717ms elapsed_secs=0.059725717
2025-11-09T16:29:29.490187Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:29:29.490399Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:29:29.490447Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:29:29.490541Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:29:29.493144Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:29:29.493343Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:29:29.493382Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:29:29.493457Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:29:29.863856Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:29.863986Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:29.864022Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:29.864083Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:29:30.101199Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=231.452348ms elapsed_secs=0.231452348
2025-11-09T16:29:30.102881Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:30.102977Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:30.103008Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:30.103059Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:29:30.117911Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=10.447972ms elapsed_secs=0.010447972
2025-11-09T16:29:35.472222Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:35.472333Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:35.472355Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:35.472397Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:29:35.631052Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=151.949684ms elapsed_secs=0.151949684
2025-11-09T16:29:35.633643Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:35.633761Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:35.633793Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:35.633858Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:29:35.771043Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=127.181288ms elapsed_secs=0.127181288
2025-11-09T16:29:36.787938Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:36.788062Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:36.788091Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:36.789051Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:36.789173Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:36.789205Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:36.789259Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:36.811291Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:36.811405Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:36.811436Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:36.943299Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=146.950374ms elapsed_secs=0.146950374
2025-11-09T16:29:36.945248Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:36.945345Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:36.945373Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:36.945429Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:37.065388Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=116.449272ms elapsed_secs=0.116449272
2025-11-09T16:29:38.455892Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:38.456045Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:38.456086Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:38.458156Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:38.458269Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:38.458296Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:38.458932Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:38.459010Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:38.459038Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:38.459083Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:38.489322Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=26.69253ms elapsed_secs=0.02669253
2025-11-09T16:29:38.491405Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:38.491557Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:38.491589Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:38.491659Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:38.501635Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=5.787693ms elapsed_secs=0.005787693
2025-11-09T16:29:59.188550Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:59.188752Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:59.188810Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:59.189931Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:59.190044Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:59.190076Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:59.190149Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:59.214784Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:59.214879Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:59.214905Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:59.226451Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=31.67926ms elapsed_secs=0.03167926
2025-11-09T16:29:59.227921Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:29:59.228004Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:29:59.228022Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:29:59.228065Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:29:59.238219Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=6.847279ms elapsed_secs=0.006847279
2025-11-09T16:30:00.250959Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:00.251085Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:00.251121Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:00.251178Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:30:00.284196Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=26.982545ms elapsed_secs=0.026982545
2025-11-09T16:30:00.285932Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:00.286024Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:00.286043Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:00.286082Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:30:00.300492Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=10.279852ms elapsed_secs=0.010279852
2025-11-09T16:30:03.653258Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:03.653404Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:03.653437Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:03.653495Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:03.654311Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:03.654413Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:03.654443Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:03.677612Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=18.254648ms elapsed_secs=0.018254648
2025-11-09T16:30:03.678546Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:03.678635Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:03.678666Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:03.679431Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:03.679536Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:03.679552Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:03.679594Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:03.691290Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=7.684845ms elapsed_secs=0.007684845
2025-11-09T16:30:10.358247Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:10.358373Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:10.358405Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:10.359211Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:10.359297Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:10.359329Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:10.359401Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:10.360324Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:10.360427Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:10.360456Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:10.372635Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=9.393419ms elapsed_secs=0.009393419
2025-11-09T16:30:10.374019Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:10.374100Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:10.374118Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:10.374149Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:10.383421Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=5.036694ms elapsed_secs=0.005036694
2025-11-09T16:30:12.430444Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:12.430547Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:12.430570Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:12.430620Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:30:25.274258Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:25.274258Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:25.274344Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:25.274366Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:25.274377Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:25.274409Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:25.274418Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:25.295380Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:25.295509Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:25.295538Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:25.307274Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=29.215493ms elapsed_secs=0.029215493
2025-11-09T16:30:25.309094Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:25.309187Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:25.309204Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:25.309244Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:30:25.318436Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.00086ms elapsed_secs=0.00600086
2025-11-09T16:30:27.745512Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:27.745668Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:27.745703Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:27.748261Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:27.748378Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:27.748416Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:27.749115Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:27.749244Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:27.749281Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:27.749362Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-11-09T16:30:27.776452Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=3 rows_returned=3 elapsed=21.925485ms elapsed_secs=0.021925485
2025-11-09T16:30:27.778435Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:30:27.778555Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:30:27.778576Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:30:27.778614Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-11-09T16:30:27.788155Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=3 rows_returned=3 elapsed=6.141614ms elapsed_secs=0.006141614
2025-11-09T16:32:05.077396Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:05.077505Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:05.077533Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:05.077584Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:05.220777Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=137.840995ms elapsed_secs=0.137840995
2025-11-09T16:32:05.222207Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:05.222316Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:05.222337Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:05.222385Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:05.259020Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=32.215285ms elapsed_secs=0.032215285
2025-11-09T16:32:06.162364Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:06.162481Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:06.162517Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:06.162565Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-11-09T16:32:06.188640Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=21.556324ms elapsed_secs=0.021556324
2025-11-09T16:32:06.188882Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 26.083132ms
2025-11-09T16:32:06.205344Z DEBUG sqlx::query: summary="SELECT id, contract_id, tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  contract_id,\n  tenant_id,\n  contact_id,\n  transaction_type,\n  amount,\n  date,\n  note,\n  days_from_prev,\n  interest_for_period,\n  accumulated_interest,\n  principal_balance,\n  created_at,\n  updated_at\nFROM\n  loan_transaction\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_id,\n  date,\n  id\n" rows_affected=39 rows_returned=39 elapsed=12.760053ms elapsed_secs=0.012760053
2025-11-09T16:32:06.205754Z DEBUG milan::module::loan::handler::report: ‚è± contract faaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa: calc=14.595¬µs
2025-11-09T16:32:06.205824Z DEBUG milan::module::loan::handler::report: ‚è± contract f9999999-9999-9999-9999-999999999999: calc=3.545¬µs
2025-11-09T16:32:06.205855Z DEBUG milan::module::loan::handler::report: ‚è± contract f8888888-8888-8888-8888-888888888888: calc=3.613¬µs
2025-11-09T16:32:06.205870Z DEBUG milan::module::loan::handler::report: ‚è± contract f7777777-7777-7777-7777-777777777777: calc=2.092¬µs
2025-11-09T16:32:06.205886Z DEBUG milan::module::loan::handler::report: ‚è± contract f6666666-6666-6666-6666-666666666666: calc=2.244¬µs
2025-11-09T16:32:06.205898Z DEBUG milan::module::loan::handler::report: ‚è± contract f5555555-5555-5555-5555-555555555555: calc=2.311¬µs
2025-11-09T16:32:06.205909Z DEBUG milan::module::loan::handler::report: ‚è± contract f4444444-4444-4444-4444-444444444444: calc=2.336¬µs
2025-11-09T16:32:06.205921Z DEBUG milan::module::loan::handler::report: ‚è± contract f3333333-3333-3333-3333-333333333333: calc=1.421¬µs
2025-11-09T16:32:06.205931Z DEBUG milan::module::loan::handler::report: ‚è± contract f2222222-2222-2222-2222-222222222222: calc=2.182¬µs
2025-11-09T16:32:06.205939Z DEBUG milan::module::loan::handler::report: ‚è± contract f1111111-1111-1111-1111-111111111111: calc=1.924¬µs
2025-11-09T16:32:06.205947Z DEBUG milan::module::loan::handler::report: ‚è± contract 84235ee4-e802-435c-9511-239972917d16: calc=1.108¬µs
2025-11-09T16:32:06.205964Z DEBUG milan::module::loan::handler::report: ‚è± total calc: 320.124¬µs
2025-11-09T16:32:06.275638Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    ),\n    (\n      $111,\n      $112,\n      $113,\n      $114,\n      $115,\n      $116,\n      $117,\n      $118,\n      $119,\n      $120,\n      $121\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=11 rows_returned=0 elapsed=53.682815ms elapsed_secs=0.053682815
2025-11-09T16:32:06.275849Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 69.85713ms
2025-11-09T16:32:06.300609Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:06.300756Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:06.300788Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:06.300851Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:06.329474Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=22.039639ms elapsed_secs=0.022039639
2025-11-09T16:32:06.331720Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:06.331866Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:06.331896Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:06.331958Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:06.359835Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=21.409016ms elapsed_secs=0.021409016
2025-11-09T16:32:07.105546Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:07.105670Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:07.105708Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:07.105775Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-11-09T16:32:07.130225Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=19.150058ms elapsed_secs=0.019150058
2025-11-09T16:32:07.130436Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 24.419743ms
2025-11-09T16:32:07.145672Z DEBUG sqlx::query: summary="SELECT id, contract_id, tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  contract_id,\n  tenant_id,\n  contact_id,\n  transaction_type,\n  amount,\n  date,\n  note,\n  days_from_prev,\n  interest_for_period,\n  accumulated_interest,\n  principal_balance,\n  created_at,\n  updated_at\nFROM\n  loan_transaction\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_id,\n  date,\n  id\n" rows_affected=39 rows_returned=39 elapsed=12.022655ms elapsed_secs=0.012022655
2025-11-09T16:32:07.145947Z DEBUG milan::module::loan::handler::report: ‚è± contract faaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa: calc=11.538¬µs
2025-11-09T16:32:07.146026Z DEBUG milan::module::loan::handler::report: ‚è± contract f9999999-9999-9999-9999-999999999999: calc=4.326¬µs
2025-11-09T16:32:07.146065Z DEBUG milan::module::loan::handler::report: ‚è± contract f8888888-8888-8888-8888-888888888888: calc=3.579¬µs
2025-11-09T16:32:07.146101Z DEBUG milan::module::loan::handler::report: ‚è± contract f7777777-7777-7777-7777-777777777777: calc=3.56¬µs
2025-11-09T16:32:07.146133Z DEBUG milan::module::loan::handler::report: ‚è± contract f6666666-6666-6666-6666-666666666666: calc=3.054¬µs
2025-11-09T16:32:07.146151Z DEBUG milan::module::loan::handler::report: ‚è± contract f5555555-5555-5555-5555-555555555555: calc=1.9¬µs
2025-11-09T16:32:07.146161Z DEBUG milan::module::loan::handler::report: ‚è± contract f4444444-4444-4444-4444-444444444444: calc=1.556¬µs
2025-11-09T16:32:07.146167Z DEBUG milan::module::loan::handler::report: ‚è± contract f3333333-3333-3333-3333-333333333333: calc=439ns
2025-11-09T16:32:07.146172Z DEBUG milan::module::loan::handler::report: ‚è± contract f2222222-2222-2222-2222-222222222222: calc=1.384¬µs
2025-11-09T16:32:07.146179Z DEBUG milan::module::loan::handler::report: ‚è± contract f1111111-1111-1111-1111-111111111111: calc=1.198¬µs
2025-11-09T16:32:07.146185Z DEBUG milan::module::loan::handler::report: ‚è± contract 84235ee4-e802-435c-9511-239972917d16: calc=783ns
2025-11-09T16:32:07.146196Z DEBUG milan::module::loan::handler::report: ‚è± total calc: 289.741¬µs
2025-11-09T16:32:07.184800Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    ),\n    (\n      $111,\n      $112,\n      $113,\n      $114,\n      $115,\n      $116,\n      $117,\n      $118,\n      $119,\n      $120,\n      $121\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=11 rows_returned=0 elapsed=24.183918ms elapsed_secs=0.024183918
2025-11-09T16:32:07.184932Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 38.715955ms
2025-11-09T16:32:07.207409Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:07.207500Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:07.207519Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:07.207562Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:07.224381Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=11.422752ms elapsed_secs=0.011422752
2025-11-09T16:32:07.227309Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:07.227395Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:07.227413Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:07.227444Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:07.244639Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=12.137279ms elapsed_secs=0.012137279
2025-11-09T16:32:08.762716Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:08.762858Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:08.762898Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:08.762970Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-11-09T16:32:08.790415Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=22.426402ms elapsed_secs=0.022426402
2025-11-09T16:32:08.790607Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 27.40628ms
2025-11-09T16:32:08.814153Z DEBUG sqlx::query: summary="SELECT id, contract_id, tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  contract_id,\n  tenant_id,\n  contact_id,\n  transaction_type,\n  amount,\n  date,\n  note,\n  days_from_prev,\n  interest_for_period,\n  accumulated_interest,\n  principal_balance,\n  created_at,\n  updated_at\nFROM\n  loan_transaction\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_id,\n  date,\n  id\n" rows_affected=39 rows_returned=39 elapsed=19.895015ms elapsed_secs=0.019895015
2025-11-09T16:32:08.814323Z DEBUG milan::module::loan::handler::report: ‚è± contract faaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa: calc=9.698¬µs
2025-11-09T16:32:08.814350Z DEBUG milan::module::loan::handler::report: ‚è± contract f9999999-9999-9999-9999-999999999999: calc=1.589¬µs
2025-11-09T16:32:08.814358Z DEBUG milan::module::loan::handler::report: ‚è± contract f8888888-8888-8888-8888-888888888888: calc=1.342¬µs
2025-11-09T16:32:08.814365Z DEBUG milan::module::loan::handler::report: ‚è± contract f7777777-7777-7777-7777-777777777777: calc=1.231¬µs
2025-11-09T16:32:08.814371Z DEBUG milan::module::loan::handler::report: ‚è± contract f6666666-6666-6666-6666-666666666666: calc=1.318¬µs
2025-11-09T16:32:08.814378Z DEBUG milan::module::loan::handler::report: ‚è± contract f5555555-5555-5555-5555-555555555555: calc=1.15¬µs
2025-11-09T16:32:08.814384Z DEBUG milan::module::loan::handler::report: ‚è± contract f4444444-4444-4444-4444-444444444444: calc=1.479¬µs
2025-11-09T16:32:08.814389Z DEBUG milan::module::loan::handler::report: ‚è± contract f3333333-3333-3333-3333-333333333333: calc=492ns
2025-11-09T16:32:08.814394Z DEBUG milan::module::loan::handler::report: ‚è± contract f2222222-2222-2222-2222-222222222222: calc=1.186¬µs
2025-11-09T16:32:08.814401Z DEBUG milan::module::loan::handler::report: ‚è± contract f1111111-1111-1111-1111-111111111111: calc=1.073¬µs
2025-11-09T16:32:08.814405Z DEBUG milan::module::loan::handler::report: ‚è± contract 84235ee4-e802-435c-9511-239972917d16: calc=706ns
2025-11-09T16:32:08.814415Z DEBUG milan::module::loan::handler::report: ‚è± total calc: 123.799¬µs
2025-11-09T16:32:08.880268Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    ),\n    (\n      $111,\n      $112,\n      $113,\n      $114,\n      $115,\n      $116,\n      $117,\n      $118,\n      $119,\n      $120,\n      $121\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=11 rows_returned=0 elapsed=49.677346ms elapsed_secs=0.049677346
2025-11-09T16:32:08.880401Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 65.959198ms
2025-11-09T16:32:08.903953Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:08.904043Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:08.904061Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:08.904107Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:08.987731Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=78.698159ms elapsed_secs=0.078698159
2025-11-09T16:32:08.989211Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:08.989350Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:08.989382Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:08.989443Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:09.002545Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=8.234535ms elapsed_secs=0.008234535
2025-11-09T16:32:10.121420Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:10.121519Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:10.121547Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:10.121598Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-11-09T16:32:10.141697Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=15.342903ms elapsed_secs=0.015342903
2025-11-09T16:32:10.141986Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 20.14409ms
2025-11-09T16:32:10.158628Z DEBUG sqlx::query: summary="SELECT id, contract_id, tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  contract_id,\n  tenant_id,\n  contact_id,\n  transaction_type,\n  amount,\n  date,\n  note,\n  days_from_prev,\n  interest_for_period,\n  accumulated_interest,\n  principal_balance,\n  created_at,\n  updated_at\nFROM\n  loan_transaction\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_id,\n  date,\n  id\n" rows_affected=39 rows_returned=39 elapsed=12.835393ms elapsed_secs=0.012835393
2025-11-09T16:32:10.158918Z DEBUG milan::module::loan::handler::report: ‚è± contract faaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa: calc=10.705¬µs
2025-11-09T16:32:10.158994Z DEBUG milan::module::loan::handler::report: ‚è± contract f9999999-9999-9999-9999-999999999999: calc=3.113¬µs
2025-11-09T16:32:10.159014Z DEBUG milan::module::loan::handler::report: ‚è± contract f8888888-8888-8888-8888-888888888888: calc=2.498¬µs
2025-11-09T16:32:10.159043Z DEBUG milan::module::loan::handler::report: ‚è± contract f7777777-7777-7777-7777-777777777777: calc=2.966¬µs
2025-11-09T16:32:10.159072Z DEBUG milan::module::loan::handler::report: ‚è± contract f6666666-6666-6666-6666-666666666666: calc=3.433¬µs
2025-11-09T16:32:10.159086Z DEBUG milan::module::loan::handler::report: ‚è± contract f5555555-5555-5555-5555-555555555555: calc=2.01¬µs
2025-11-09T16:32:10.159104Z DEBUG milan::module::loan::handler::report: ‚è± contract f4444444-4444-4444-4444-444444444444: calc=2.928¬µs
2025-11-09T16:32:10.159129Z DEBUG milan::module::loan::handler::report: ‚è± contract f3333333-3333-3333-3333-333333333333: calc=1.207¬µs
2025-11-09T16:32:10.159165Z DEBUG milan::module::loan::handler::report: ‚è± contract f2222222-2222-2222-2222-222222222222: calc=3.625¬µs
2025-11-09T16:32:10.159180Z DEBUG milan::module::loan::handler::report: ‚è± contract f1111111-1111-1111-1111-111111111111: calc=1.708¬µs
2025-11-09T16:32:10.159194Z DEBUG milan::module::loan::handler::report: ‚è± contract 84235ee4-e802-435c-9511-239972917d16: calc=1.602¬µs
2025-11-09T16:32:10.159237Z DEBUG milan::module::loan::handler::report: ‚è± total calc: 356.806¬µs
2025-11-09T16:32:10.225686Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    ),\n    (\n      $111,\n      $112,\n      $113,\n      $114,\n      $115,\n      $116,\n      $117,\n      $118,\n      $119,\n      $120,\n      $121\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=11 rows_returned=0 elapsed=51.90415ms elapsed_secs=0.05190415
2025-11-09T16:32:10.225845Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 66.565303ms
2025-11-09T16:32:10.251151Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:10.251249Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:10.251273Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:10.251323Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:10.270908Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=14.842792ms elapsed_secs=0.014842792
2025-11-09T16:32:10.272744Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:10.272839Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:10.272861Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:10.272900Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-11-09T16:32:10.287814Z DEBUG sqlx::query: summary="SELECT r.tenant_id, r.contract_id, r.contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  r.tenant_id,\n  r.contract_id,\n  r.contact_id,\n  r.date,\n  r.current_principal,\n  r.current_interest,\n  r.accumulated_interest,\n  r.total_paid_interest,\n  r.total_paid_principal,\n  r.payoff_due,\n  r.state,\n  c.contract_number,\n  co.name as contact_name\nFROM\n  loan_report r\n  JOIN loan_contract c ON c.id = r.contract_id\n  AND c.tenant_id = r.tenant_id\n  JOIN contact co ON co.id = r.contact_id\n  AND co.tenant_id = r.tenant_id\nWHERE\n  r.tenant_id = $1\n  AND r.date = $2\nORDER BY\n  c.contract_number DESC\n" rows_affected=8 rows_returned=8 elapsed=9.091782ms elapsed_secs=0.009091782
2025-11-09T16:32:46.361879Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:46.362029Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:46.362060Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:46.362119Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /users
2025-11-09T16:32:46.535325Z DEBUG sqlx::query: summary="SELECT u.tenant_id, t.name AS ‚Ä¶" db.statement="\n\nSELECT\n  u.tenant_id,\n  t.name AS tenant_name,\n  u.user_id,\n  u.email,\n  u.name,\n  u.created_at\nFROM\n  users u\n  JOIN tenant t ON u.tenant_id = t.tenant_id\nORDER BY\n  u.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=168.606778ms elapsed_secs=0.168606778
2025-11-09T16:32:46.537109Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:32:46.537273Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:32:46.537339Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:32:46.537405Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /users
2025-11-09T16:32:46.616721Z DEBUG sqlx::query: summary="SELECT u.tenant_id, t.name AS ‚Ä¶" db.statement="\n\nSELECT\n  u.tenant_id,\n  t.name AS tenant_name,\n  u.user_id,\n  u.email,\n  u.name,\n  u.created_at\nFROM\n  users u\n  JOIN tenant t ON u.tenant_id = t.tenant_id\nORDER BY\n  u.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=76.676679ms elapsed_secs=0.076676679
2025-11-09T16:33:11.211381Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:11.211522Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:11.211560Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:11.213501Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:11.213668Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:11.213704Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:11.214469Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:11.214573Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:11.214603Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:11.214656Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:33:11.255824Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=35.823574ms elapsed_secs=0.035823574
2025-11-09T16:33:11.258011Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:11.258119Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:11.258146Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:11.258211Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:33:11.290971Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=28.231334ms elapsed_secs=0.028231334
2025-11-09T16:33:30.001685Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:30.001790Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:30.001813Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:30.001863Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:33:30.002121Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:30.002182Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:30.002203Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:30.002242Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: aaaAt least 1 transaction is required
2025-11-09T16:33:35.854148Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:35.854285Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:35.854324Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:35.854390Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:33:35.854743Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:35.854830Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:35.854861Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:35.854905Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: aaaAt least 1 transaction is required
2025-11-09T16:33:39.352564Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:39.352691Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:39.352717Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:39.352773Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:33:39.353043Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:33:39.353095Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:33:39.353121Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:33:39.353153Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: aaaAt least 1 transaction is required
2025-11-09T16:37:49.491848Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:37:49.491948Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:37:49.491972Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:37:49.597826Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=103.6075ms elapsed_secs=0.1036075
2025-11-09T16:37:49.639196Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=39.060936ms elapsed_secs=0.039060936
2025-11-09T16:37:50.446188Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:50.446278Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:50.446296Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:50.447790Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:50.447860Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:50.447878Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:50.447917Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:37:50.453460Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:50.453603Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:50.453636Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:50.471147Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=18.803811ms elapsed_secs=0.018803811
2025-11-09T16:37:50.473780Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:50.473956Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:50.473986Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:50.474043Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:37:50.487282Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=9.404157ms elapsed_secs=0.009404157
2025-11-09T16:37:59.195254Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:59.195373Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:59.195413Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:59.196074Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:59.196153Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:59.196188Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:59.196239Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:37:59.219885Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:59.220124Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:59.220169Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:59.234301Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=32.819185ms elapsed_secs=0.032819185
2025-11-09T16:37:59.236459Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:37:59.236558Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:37:59.236576Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:37:59.236619Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:37:59.246122Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  contract_number DESC\n" rows_affected=11 rows_returned=11 elapsed=5.719725ms elapsed_secs=0.005719725
2025-11-09T16:38:00.342079Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:00.342168Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:00.342192Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:00.342246Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:38:00.487259Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=140.589106ms elapsed_secs=0.140589106
2025-11-09T16:38:00.488721Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:00.488817Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:00.488837Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:00.488880Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-11-09T16:38:00.612555Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at,\n  lc.contract_id,\n  c.contract_number\nFROM\n  collateral_assets a\n  LEFT JOIN loan_collateral lc ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\n  AND lc.status = 'active'\n  LEFT JOIN loan_contract c ON c.tenant_id = lc.tenant_id\n  AND c.id = lc.contract_id\nWHERE\n  a.tenant_id = $1\nORDER BY\n  a.created_at DESC\n" rows_affected=24 rows_returned=24 elapsed=118.041296ms elapsed_secs=0.118041296
2025-11-09T16:38:01.630246Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:01.630333Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:01.630343Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:01.632182Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:01.632260Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:01.632278Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:01.632660Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:01.632706Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:01.632726Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:01.632766Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:38:01.643330Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.669118ms elapsed_secs=0.006669118
2025-11-09T16:38:01.645242Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:01.645362Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:01.645380Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:01.645431Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:38:01.655754Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=6.052056ms elapsed_secs=0.006052056
2025-11-09T16:38:13.641988Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:13.642139Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:13.642168Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:13.642232Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:38:13.642631Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9
2025-11-09T16:38:13.642697Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:38:13.642711Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:38:13.642743Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: aaaAt least 1 transaction is required
2025-11-09T16:39:16.373619Z  INFO milan::infra::wasm_loader: ‚úÖ Loaded module: school
2025-11-09T16:39:16.373734Z  INFO milan: ‚úÖ Loaded 1 modules ngo√†i binary t·ª´ "../modules"
2025-11-09T16:39:16.374719Z  INFO milan::api::external_modules: ‚úÖ Registered routes cho module: school
2025-11-09T16:39:21.621191Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:39:21.621359Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:39:21.621420Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:39:21.621492Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:39:21.627643Z DEBUG milan::core::i18n: üåê Accept-Language header: vi
2025-11-09T16:39:21.628088Z DEBUG milan::core::i18n: üåê Normalized language from header: vi
2025-11-09T16:39:21.628293Z  INFO milan::core::i18n: ‚úÖ Using language from header: vi
2025-11-09T16:39:21.628380Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-11-09T16:39:21.925486Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:21.925582Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:21.925608Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:21.926500Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:21.926625Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:21.926657Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:21.926717Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:39:21.947551Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:21.947660Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:21.947682Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:22.258911Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=324.649608ms elapsed_secs=0.324649608
2025-11-09T16:39:22.262032Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:22.262223Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:22.262257Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:22.262333Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-11-09T16:39:22.273573Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\",\n  state,\n  created_at,\n  updated_at,\n  national_id AS \"national_id?: String\" -- üëà TH√äM\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=8 rows_returned=8 elapsed=7.250821ms elapsed_secs=0.007250821
2025-11-09T16:39:32.319257Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:32.319390Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:32.319425Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:32.319485Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-11-09T16:39:32.319803Z DEBUG milan::core::i18n: üåê Accept-Language header: en-US,en;q=0.9,vi;q=0.8,nl;q=0.7
2025-11-09T16:39:32.319875Z DEBUG milan::core::i18n: üåê Normalized language from header: en
2025-11-09T16:39:32.319908Z  INFO milan::core::i18n: ‚úÖ Using language from header: en
2025-11-09T16:39:32.320454Z  INFO milan::module::loan::handler::loan: üåê Handler language: en, message: At least 1 transaction is required
2025-11-09T16:53:18.861112Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T16:53:18.875879Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
2025-11-09T16:53:23.842867Z ERROR milan::core::error: ‚ùå Internal error: DB error: error returned from database: relation "school_schools" does not exist
