2025-09-06T02:32:29.866685Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T02:32:30.051882Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:32:30.052845Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:32:30.161447Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:32:30.161714Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:32:30.161952Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:32:30.161994Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:32:30.162018Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:32:30.162090Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:32:36.491725Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /123e4567-e89b-12d3-a456-426614174000/pivot-now
2025-09-06T02:32:36.786198Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=0 elapsed=227.944752ms elapsed_secs=0.227944752
2025-09-06T02:33:45.379175Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:33:45.582913Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=148.79836ms elapsed_secs=0.14879836
2025-09-06T02:33:45.741942Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:33:45.742724Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:33:45.847090Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:33:45.847206Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:33:45.847470Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:33:45.847530Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:33:45.847586Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:33:45.847653Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:33:45.992429Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:33:46.206656Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=158.578335ms elapsed_secs=0.158578335
2025-09-06T02:33:46.208028Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:33:46.267725Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=273.793557ms elapsed_secs=0.273793557
2025-09-06T02:33:46.335419Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:33:46.335974Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:33:46.461049Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:33:46.461409Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:33:46.462599Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:33:46.462799Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:33:46.462969Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:33:46.463472Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:33:46.481325Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=151.940207ms elapsed_secs=0.151940207
2025-09-06T02:33:46.589617Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.597941ms elapsed_secs=0.052597941
2025-09-06T02:33:46.699507Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.276905ms elapsed_secs=0.053276905
2025-09-06T02:33:46.813605Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.78259ms elapsed_secs=0.05178259
2025-09-06T02:33:46.817088Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:33:46.853570Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=225.830494ms elapsed_secs=0.225830494
2025-09-06T02:33:46.926454Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.887162ms elapsed_secs=0.053887162
2025-09-06T02:33:47.032190Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.182441ms elapsed_secs=0.051182441
2025-09-06T02:33:47.062926Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-09-06T02:33:47.251819Z DEBUG sqlx::query: summary="SELECT tenant_id, asset_id, asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  asset_id,\n  asset_type,\n  description,\n  value_estimate,\n  owner_contact_id,\n  status,\n  created_by,\n  created_at\nFROM\n  collateral_assets\nWHERE\n  tenant_id = $1\nORDER BY\n  created_at DESC\n" rows_affected=4 rows_returned=4 elapsed=132.198833ms elapsed_secs=0.132198833
2025-09-06T02:33:47.256380Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /collateral
2025-09-06T02:33:47.281602Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=184.726595ms elapsed_secs=0.184726595
2025-09-06T02:33:47.381299Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:33:47.381634Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:33:47.441715Z DEBUG sqlx::query: summary="SELECT tenant_id, asset_id, asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  asset_id,\n  asset_type,\n  description,\n  value_estimate,\n  owner_contact_id,\n  status,\n  created_by,\n  created_at\nFROM\n  collateral_assets\nWHERE\n  tenant_id = $1\nORDER BY\n  created_at DESC\n" rows_affected=4 rows_returned=4 elapsed=132.131312ms elapsed_secs=0.132131312
2025-09-06T02:33:47.480338Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:33:47.480607Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:33:47.481223Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:33:47.481308Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:33:47.481386Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:33:47.481510Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:33:47.825645Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=209.239285ms elapsed_secs=0.209239285
2025-09-06T02:33:47.938026Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.754136ms elapsed_secs=0.053754136
2025-09-06T02:33:48.076398Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.894999ms elapsed_secs=0.063894999
2025-09-06T02:33:49.839219Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /users
2025-09-06T02:33:50.027837Z DEBUG sqlx::query: summary="SELECT u.tenant_id, t.name AS ‚Ä¶" db.statement="\n\nSELECT\n  u.tenant_id,\n  t.name AS tenant_name,\n  u.user_id,\n  u.email,\n  u.name,\n  u.created_at\nFROM\n  users u\n  JOIN tenant t ON u.tenant_id = t.tenant_id\nORDER BY\n  u.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=136.238415ms elapsed_secs=0.136238415
2025-09-06T02:33:50.029616Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /users
2025-09-06T02:33:50.221209Z DEBUG sqlx::query: summary="SELECT u.tenant_id, t.name AS ‚Ä¶" db.statement="\n\nSELECT\n  u.tenant_id,\n  t.name AS tenant_name,\n  u.user_id,\n  u.email,\n  u.name,\n  u.created_at\nFROM\n  users u\n  JOIN tenant t ON u.tenant_id = t.tenant_id\nORDER BY\n  u.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=135.876631ms elapsed_secs=0.135876631
2025-09-06T02:36:10.902337Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:36:11.014684Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.635646ms elapsed_secs=0.053635646
2025-09-06T02:36:11.154221Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=64.097281ms elapsed_secs=0.064097281
2025-09-06T02:36:11.265516Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.328626ms elapsed_secs=0.052328626
2025-09-06T02:36:11.373305Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=50.260723ms elapsed_secs=0.050260723
2025-09-06T02:36:11.485862Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.855602ms elapsed_secs=0.053855602
2025-09-06T02:36:11.616439Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.489105ms elapsed_secs=0.063489105
2025-09-06T02:36:11.618115Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:36:11.828395Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=150.772161ms elapsed_secs=0.150772161
2025-09-06T02:36:11.930206Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=49.892271ms elapsed_secs=0.049892271
2025-09-06T02:36:12.046007Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.198399ms elapsed_secs=0.054198399
2025-09-06T02:36:12.182651Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.673967ms elapsed_secs=0.063673967
2025-09-06T02:36:12.291835Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.804382ms elapsed_secs=0.052804382
2025-09-06T02:36:12.399156Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.214599ms elapsed_secs=0.053214599
2025-09-06T02:36:13.520676Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /591535d9-4a90-4623-8981-339bf0776aec/collaterals
2025-09-06T02:36:13.521000Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:36:13.521661Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /591535d9-4a90-4623-8981-339bf0776aec
2025-09-06T02:36:13.648501Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=62.23661ms elapsed_secs=0.06223661
2025-09-06T02:36:13.652023Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:36:13.684622Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=101.69534ms elapsed_secs=0.10169534
2025-09-06T02:36:13.706368Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=130.382257ms elapsed_secs=0.130382257
2025-09-06T02:36:13.707852Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /591535d9-4a90-4623-8981-339bf0776aec/collaterals
2025-09-06T02:36:13.846627Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=134.625405ms elapsed_secs=0.134625405
2025-09-06T02:36:13.847402Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:36:13.847532Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:36:13.847896Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:36:13.848129Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:36:13.951892Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:36:13.952185Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:36:13.953107Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:36:13.953304Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:36:13.953437Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:36:13.953708Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:36:13.956389Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:36:13.956586Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:36:13.957202Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:36:13.957355Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:36:13.957535Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:36:13.957956Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:36:14.346425Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=244.968015ms elapsed_secs=0.244968015
2025-09-06T02:36:14.352243Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=254.086221ms elapsed_secs=0.254086221
2025-09-06T02:36:14.354082Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /591535d9-4a90-4623-8981-339bf0776aec
2025-09-06T02:36:14.589925Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=165.744561ms elapsed_secs=0.165744561
2025-09-06T02:36:14.700856Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.797781ms elapsed_secs=0.051797781
2025-09-06T02:41:19.586517Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T02:41:19.723981Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:41:19.724187Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:41:19.827552Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:41:19.827677Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:41:19.827903Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:41:19.827983Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:41:19.828040Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:41:19.828137Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:42:14.949301Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:42:14.955835Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:42:18.990597Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T02:42:18.992174Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T02:42:19.387818Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:42:19.403382Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:43:20.206193Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=165.208085ms elapsed_secs=0.165208085
2025-09-06T02:43:20.341850Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:43:20.343090Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:43:20.436477Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:43:20.436876Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:43:20.437810Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:43:20.438022Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:43:20.438246Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:43:20.438490Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:43:23.629841Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=144.055473ms elapsed_secs=0.144055473
2025-09-06T02:43:26.778076Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:43:26.779624Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:56:54.370718Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T02:56:54.525565Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:56:54.525780Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:56:54.652389Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:56:54.652789Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:56:54.653522Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:56:54.653730Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:56:54.653917Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:56:54.654294Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:57:35.079827Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T02:57:35.211496Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:57:35.212310Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:57:35.315270Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:57:35.315563Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:57:35.316589Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:57:35.316788Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:57:35.317000Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:57:35.317290Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:58:38.456863Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T02:58:38.588540Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:58:38.589095Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:58:38.688626Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:58:38.688759Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:58:38.689065Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:58:38.689114Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:58:38.689148Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:58:38.689216Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:58:43.893922Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T02:58:43.895450Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T02:58:44.661761Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:58:44.675594Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:58:44.786172Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:58:44.786503Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:58:44.893320Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:58:44.893450Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:58:44.893705Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:58:44.893751Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:58:44.893806Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:58:44.893879Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:58:44.908829Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=0 rows_returned=0 elapsed=195.120532ms elapsed_secs=0.195120532
2025-09-06T02:58:45.212539Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=0 rows_returned=0 elapsed=175.829791ms elapsed_secs=0.175829791
2025-09-06T02:58:47.725055Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T02:58:47.955163Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=179.161941ms elapsed_secs=0.179161941
2025-09-06T02:58:48.203908Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=193.96463ms elapsed_secs=0.19396463
2025-09-06T02:58:48.361024Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=105.949266ms elapsed_secs=0.105949266
2025-09-06T02:58:48.472173Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.441971ms elapsed_secs=0.054441971
2025-09-06T02:58:48.573535Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=50.376902ms elapsed_secs=0.050376902
2025-09-06T02:58:48.683427Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.970792ms elapsed_secs=0.053970792
2025-09-06T02:58:48.784936Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=49.769303ms elapsed_secs=0.049769303
2025-09-06T02:58:48.899640Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.203125ms elapsed_secs=0.054203125
2025-09-06T02:58:49.008751Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=51.506783ms elapsed_secs=0.051506783
2025-09-06T02:58:49.122086Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.634508ms elapsed_secs=0.053634508
2025-09-06T02:58:49.229577Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=52.489278ms elapsed_secs=0.052489278
2025-09-06T02:58:49.238549Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:58:49.349322Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=54.383212ms elapsed_secs=0.054383212
2025-09-06T02:59:21.067054Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:59:21.067886Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T02:59:21.173633Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=50.210534ms elapsed_secs=0.050210534
2025-09-06T02:59:21.176166Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T02:59:21.266384Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=141.083938ms elapsed_secs=0.141083938
2025-09-06T02:59:21.314805Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:59:21.315707Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:59:21.424436Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:59:21.424693Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:59:21.425466Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:59:21.425656Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:59:21.425803Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:59:21.426058Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:59:21.462813Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=144.88462ms elapsed_secs=0.14488462
2025-09-06T02:59:21.465063Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T02:59:21.579686Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=60.434702ms elapsed_secs=0.060434702
2025-09-06T02:59:21.679553Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=49.173638ms elapsed_secs=0.049173638
2025-09-06T02:59:21.754319Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=185.628081ms elapsed_secs=0.185628081
2025-09-06T02:59:39.093364Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:39.298928Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=148.671711ms elapsed_secs=0.148671711
2025-09-06T02:59:39.505506Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=153.211849ms elapsed_secs=0.153211849
2025-09-06T02:59:39.860938Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=289.035888ms elapsed_secs=0.289035888
2025-09-06T02:59:39.977756Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.942437ms elapsed_secs=0.054942437
2025-09-06T02:59:40.089916Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=50.850557ms elapsed_secs=0.050850557
2025-09-06T02:59:40.201337Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.411803ms elapsed_secs=0.053411803
2025-09-06T02:59:40.202844Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:40.319568Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.925475ms elapsed_secs=0.053925475
2025-09-06T02:59:40.424813Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=50.044853ms elapsed_secs=0.050044853
2025-09-06T02:59:40.536932Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.169783ms elapsed_secs=0.053169783
2025-09-06T02:59:40.654077Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.127125ms elapsed_secs=0.055127125
2025-09-06T02:59:40.756345Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=49.711629ms elapsed_secs=0.049711629
2025-09-06T02:59:40.869849Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.467776ms elapsed_secs=0.053467776
2025-09-06T02:59:49.533772Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /99f091a8-88bc-4af4-864a-b528cd719ba4/collaterals
2025-09-06T02:59:49.535809Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:49.537396Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /99f091a8-88bc-4af4-864a-b528cd719ba4
2025-09-06T02:59:49.753179Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=163.351137ms elapsed_secs=0.163351137
2025-09-06T02:59:49.757769Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=165.58839ms elapsed_secs=0.16558839
2025-09-06T02:59:49.758777Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:49.767795Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=177.742303ms elapsed_secs=0.177742303
2025-09-06T02:59:49.769110Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /99f091a8-88bc-4af4-864a-b528cd719ba4/collaterals
2025-09-06T02:59:49.886320Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:59:49.886942Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:59:49.888004Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:59:49.888411Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:59:49.889688Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T02:59:49.890018Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T02:59:49.992327Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:59:49.992384Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:59:49.992725Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:59:49.992734Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:59:49.993626Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:59:49.993692Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:59:49.993749Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:59:49.993756Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:59:49.993855Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:59:49.993892Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:59:49.994053Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:59:49.994067Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:59:49.999660Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T02:59:49.999776Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T02:59:50.000004Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T02:59:50.000055Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T02:59:50.000200Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T02:59:50.000453Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T02:59:50.408045Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=253.453655ms elapsed_secs=0.253453655
2025-09-06T02:59:50.415632Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=268.787056ms elapsed_secs=0.268787056
2025-09-06T02:59:50.422552Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=1 rows_returned=1 elapsed=270.377474ms elapsed_secs=0.270377474
2025-09-06T02:59:50.423271Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /99f091a8-88bc-4af4-864a-b528cd719ba4
2025-09-06T02:59:50.573343Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=97.476646ms elapsed_secs=0.097476646
2025-09-06T02:59:50.683943Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.83076ms elapsed_secs=0.05283076
2025-09-06T02:59:52.406802Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:52.518930Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=54.917364ms elapsed_secs=0.054917364
2025-09-06T02:59:52.776212Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=197.361031ms elapsed_secs=0.197361031
2025-09-06T02:59:52.886324Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.261438ms elapsed_secs=0.051261438
2025-09-06T02:59:53.144374Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=196.463806ms elapsed_secs=0.196463806
2025-09-06T02:59:53.252597Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=50.555092ms elapsed_secs=0.050555092
2025-09-06T02:59:53.365038Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.845525ms elapsed_secs=0.053845525
2025-09-06T02:59:53.367355Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:53.477209Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.6331ms elapsed_secs=0.0536331
2025-09-06T02:59:53.591141Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.173226ms elapsed_secs=0.052173226
2025-09-06T02:59:53.703493Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.706582ms elapsed_secs=0.051706582
2025-09-06T02:59:53.813723Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.315485ms elapsed_secs=0.052315485
2025-09-06T02:59:53.920412Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=49.514895ms elapsed_secs=0.049514895
2025-09-06T02:59:54.007053Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:54.007445Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75/collaterals
2025-09-06T02:59:54.009832Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75
2025-09-06T02:59:54.028187Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.624976ms elapsed_secs=0.052624976
2025-09-06T02:59:54.218739Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=150.357577ms elapsed_secs=0.150357577
2025-09-06T02:59:54.220777Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:54.229763Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=158.192876ms elapsed_secs=0.158192876
2025-09-06T02:59:54.234657Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=3 rows_returned=3 elapsed=172.803397ms elapsed_secs=0.172803397
2025-09-06T02:59:54.236067Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75/collaterals
2025-09-06T02:59:54.337066Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=49.514848ms elapsed_secs=0.049514848
2025-09-06T02:59:54.338872Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75
2025-09-06T02:59:54.412386Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=135.615203ms elapsed_secs=0.135615203
2025-09-06T02:59:54.444201Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=3 rows_returned=3 elapsed=149.217087ms elapsed_secs=0.149217087
2025-09-06T02:59:54.504327Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=107.05923ms elapsed_secs=0.10705923
2025-09-06T02:59:54.611670Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.741568ms elapsed_secs=0.053741568
2025-09-06T02:59:58.406545Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:58.620161Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=157.727174ms elapsed_secs=0.157727174
2025-09-06T02:59:58.725849Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=49.624563ms elapsed_secs=0.049624563
2025-09-06T02:59:58.841456Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.5396ms elapsed_secs=0.0535396
2025-09-06T02:59:58.952919Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.017131ms elapsed_secs=0.053017131
2025-09-06T02:59:59.065178Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.001262ms elapsed_secs=0.054001262
2025-09-06T02:59:59.176642Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.724609ms elapsed_secs=0.051724609
2025-09-06T02:59:59.178147Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T02:59:59.335193Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=101.612378ms elapsed_secs=0.101612378
2025-09-06T02:59:59.484009Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=81.907554ms elapsed_secs=0.081907554
2025-09-06T02:59:59.623982Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.120308ms elapsed_secs=0.054120308
2025-09-06T02:59:59.763207Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=75.902253ms elapsed_secs=0.075902253
2025-09-06T02:59:59.907400Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.347468ms elapsed_secs=0.066347468
2025-09-06T03:00:00.018544Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.433833ms elapsed_secs=0.053433833
2025-09-06T03:00:00.931070Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:01.218175Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=235.463586ms elapsed_secs=0.235463586
2025-09-06T03:00:01.220687Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:01.329636Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=53.567437ms elapsed_secs=0.053567437
2025-09-06T03:00:17.081305Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:17.082331Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:17.456597Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:17.458686Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:17.664855Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=149.679317ms elapsed_secs=0.149679317
2025-09-06T03:00:17.668303Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=156.751915ms elapsed_secs=0.156751915
2025-09-06T03:00:17.669939Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:17.875208Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=147.52818ms elapsed_secs=0.14752818
2025-09-06T03:00:17.877226Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=159.105657ms elapsed_secs=0.159105657
2025-09-06T03:00:17.881400Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:18.078737Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=142.161139ms elapsed_secs=0.142161139
2025-09-06T03:00:18.179301Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=49.997861ms elapsed_secs=0.049997861
2025-09-06T03:00:24.274105Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:24.275446Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:24.652705Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:24.654030Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:24.764532Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=53.065185ms elapsed_secs=0.053065185
2025-09-06T03:00:24.767217Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:24.857695Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=149.589417ms elapsed_secs=0.149589417
2025-09-06T03:00:24.871409Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=51.392173ms elapsed_secs=0.051392173
2025-09-06T03:00:24.969688Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=52.954609ms elapsed_secs=0.052954609
2025-09-06T03:00:24.972170Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:25.078862Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=53.090767ms elapsed_secs=0.053090767
2025-09-06T03:00:25.191381Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=60.999322ms elapsed_secs=0.060999322
2025-09-06T03:00:26.071348Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:00:26.232591Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=105.843231ms elapsed_secs=0.105843231
2025-09-06T03:00:26.342599Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.243534ms elapsed_secs=0.053243534
2025-09-06T03:00:26.511575Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=0 rows_returned=0 elapsed=113.711265ms elapsed_secs=0.113711265
2025-09-06T03:00:26.511777Z ERROR milan::core::error: ‚ùå Internal error: L·ªói ghi report: Database(PgDatabaseError { severity: Error, code: "23505", message: "duplicate key value violates unique constraint \"loan_report_pkey\"", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some("pg_perform_future.cc"), line: Some(35), routine: Some("YBEndOperationsBuffering") })
2025-09-06T03:00:38.164282Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:38.166856Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:00:38.961812Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:38.966469Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:38.974331Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:00:38.976871Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:00:39.070412Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=52.192465ms elapsed_secs=0.052192465
2025-09-06T03:00:39.073122Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=56.25105ms elapsed_secs=0.05625105
2025-09-06T03:00:39.076124Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=50.827386ms elapsed_secs=0.050827386
2025-09-06T03:00:39.091845Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=57.655274ms elapsed_secs=0.057655274
2025-09-06T03:00:39.270810Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=147.335893ms elapsed_secs=0.147335893
2025-09-06T03:00:39.278115Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=134.584161ms elapsed_secs=0.134584161
2025-09-06T03:00:42.396289Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:00:42.499993Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=50.945682ms elapsed_secs=0.050945682
2025-09-06T03:00:42.601059Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=49.835477ms elapsed_secs=0.049835477
2025-09-06T03:00:42.774327Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=0 rows_returned=0 elapsed=111.971226ms elapsed_secs=0.111971226
2025-09-06T03:00:42.774543Z ERROR milan::core::error: ‚ùå Internal error: L·ªói ghi report: Database(PgDatabaseError { severity: Error, code: "23505", message: "duplicate key value violates unique constraint \"loan_report_pkey\"", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some("pg_perform_future.cc"), line: Some(35), routine: Some("YBEndOperationsBuffering") })
2025-09-06T03:04:51.527940Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:04:51.713504Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:04:51.713712Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:04:51.820103Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:04:51.820219Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:04:51.820441Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:04:51.820484Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:04:51.820518Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:04:51.820581Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:04:59.085497Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:04:59.394895Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=249.260558ms elapsed_secs=0.249260558
2025-09-06T03:04:59.504702Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:04:59.505689Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:04:59.614125Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:04:59.614363Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:04:59.615138Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:04:59.615252Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:04:59.615370Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:04:59.615614Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:04:59.982194Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=225.655511ms elapsed_secs=0.225655511
2025-09-06T03:05:00.166862Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=130.916774ms elapsed_secs=0.130916774
2025-09-06T03:05:00.353262Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=128.340851ms elapsed_secs=0.128340851
2025-09-06T03:05:00.596495Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=181.832852ms elapsed_secs=0.181832852
2025-09-06T03:05:00.777475Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=125.747779ms elapsed_secs=0.125747779
2025-09-06T03:05:00.947083Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=109.496115ms elapsed_secs=0.109496115
2025-09-06T03:05:01.059706Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.038065ms elapsed_secs=0.054038065
2025-09-06T03:05:01.171612Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.577781ms elapsed_secs=0.057577781
2025-09-06T03:05:01.283927Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.620428ms elapsed_secs=0.054620428
2025-09-06T03:05:01.395295Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.322188ms elapsed_secs=0.054322188
2025-09-06T03:05:01.507636Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.22666ms elapsed_secs=0.05722666
2025-09-06T03:05:01.627174Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.223277ms elapsed_secs=0.055223277
2025-09-06T03:05:01.745232Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.578102ms elapsed_secs=0.054578102
2025-09-06T03:05:01.859313Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.458369ms elapsed_secs=0.057458369
2025-09-06T03:05:01.976801Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=58.605969ms elapsed_secs=0.058605969
2025-09-06T03:05:01.986863Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:02.174055Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=132.089096ms elapsed_secs=0.132089096
2025-09-06T03:05:09.795355Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:05:09.797092Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:05:10.173683Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:05:10.173702Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:10.283195Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=54.021589ms elapsed_secs=0.054021589
2025-09-06T03:05:10.287146Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:10.384752Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=155.2786ms elapsed_secs=0.1552786
2025-09-06T03:05:10.433677Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:05:10.433945Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:05:10.544280Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:05:10.544555Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:05:10.545232Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:05:10.545761Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:05:10.546031Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:05:10.546655Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:05:10.592973Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=154.406284ms elapsed_secs=0.154406284
2025-09-06T03:05:10.595973Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:05:10.705480Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=55.74286ms elapsed_secs=0.05574286
2025-09-06T03:05:10.814689Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=56.544579ms elapsed_secs=0.056544579
2025-09-06T03:05:10.901556Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=202.164813ms elapsed_secs=0.202164813
2025-09-06T03:05:13.681270Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:05:13.896602Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=160.198516ms elapsed_secs=0.160198516
2025-09-06T03:05:14.008521Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.578015ms elapsed_secs=0.054578015
2025-09-06T03:05:14.177626Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=116.11122ms elapsed_secs=0.11611122
2025-09-06T03:05:14.293265Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.898349ms elapsed_secs=0.053898349
2025-09-06T03:05:14.406894Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.976668ms elapsed_secs=0.053976668
2025-09-06T03:05:14.517381Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.077563ms elapsed_secs=0.056077563
2025-09-06T03:05:14.629622Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.118542ms elapsed_secs=0.054118542
2025-09-06T03:05:14.741871Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.059773ms elapsed_secs=0.054059773
2025-09-06T03:05:14.851600Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.342649ms elapsed_secs=0.055342649
2025-09-06T03:05:14.968552Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.779092ms elapsed_secs=0.055779092
2025-09-06T03:05:15.083884Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.538567ms elapsed_secs=0.053538567
2025-09-06T03:05:15.192951Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.963264ms elapsed_secs=0.055963264
2025-09-06T03:05:15.302491Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.712477ms elapsed_secs=0.054712477
2025-09-06T03:05:15.413173Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.071964ms elapsed_secs=0.055071964
2025-09-06T03:05:15.523498Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.484649ms elapsed_secs=0.056484649
2025-09-06T03:05:15.638430Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.275307ms elapsed_secs=0.055275307
2025-09-06T03:05:15.650548Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:15.761385Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=54.199258ms elapsed_secs=0.054199258
2025-09-06T03:05:23.066896Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:23.326328Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=197.061943ms elapsed_secs=0.197061943
2025-09-06T03:05:23.437793Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.343376ms elapsed_secs=0.053343376
2025-09-06T03:05:23.549952Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.769722ms elapsed_secs=0.053769722
2025-09-06T03:05:23.779201Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=171.806417ms elapsed_secs=0.171806417
2025-09-06T03:05:23.890611Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.405516ms elapsed_secs=0.053405516
2025-09-06T03:05:23.998602Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75/collaterals
2025-09-06T03:05:24.000639Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.923587ms elapsed_secs=0.053923587
2025-09-06T03:05:24.000660Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:24.001499Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75
2025-09-06T03:05:24.002072Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:24.142939Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:05:24.143834Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:05:24.145613Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:05:24.145855Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:05:24.200986Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=145.123989ms elapsed_secs=0.145123989
2025-09-06T03:05:24.202845Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:24.223554Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=3 rows_returned=3 elapsed=166.486292ms elapsed_secs=0.166486292
2025-09-06T03:05:24.224819Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75/collaterals
2025-09-06T03:05:24.251010Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:05:24.251256Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:05:24.251725Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:05:24.251854Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:05:24.251922Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:05:24.251982Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:05:24.255793Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:05:24.255862Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:05:24.256025Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:05:24.256065Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:05:24.256123Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:05:24.256199Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:05:24.337176Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:05:24.337435Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:05:24.424904Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=159.008858ms elapsed_secs=0.159008858
2025-09-06T03:05:24.449851Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:05:24.450294Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:05:24.451211Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:05:24.451429Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:05:24.451659Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:05:24.452048Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:05:24.612183Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=199.806888ms elapsed_secs=0.199806888
2025-09-06T03:05:24.635582Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=230.018636ms elapsed_secs=0.230018636
2025-09-06T03:05:24.719777Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.372214ms elapsed_secs=0.052372214
2025-09-06T03:05:24.721174Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75
2025-09-06T03:05:24.745493Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.040395ms elapsed_secs=0.052040395
2025-09-06T03:05:24.831020Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=3 rows_returned=3 elapsed=225.283222ms elapsed_secs=0.225283222
2025-09-06T03:05:24.887396Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=111.345828ms elapsed_secs=0.111345828
2025-09-06T03:05:25.003279Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=195.581748ms elapsed_secs=0.195581748
2025-09-06T03:05:25.113973Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.925403ms elapsed_secs=0.052925403
2025-09-06T03:05:25.117624Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=175.337732ms elapsed_secs=0.175337732
2025-09-06T03:05:25.224006Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.969481ms elapsed_secs=0.052969481
2025-09-06T03:05:25.465027Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=182.479136ms elapsed_secs=0.182479136
2025-09-06T03:05:30.645054Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75/update
2025-09-06T03:05:30.917092Z DEBUG sqlx::query: summary="UPDATE loan_contract SET contact_id ‚Ä¶" db.statement="\n\nUPDATE\n  loan_contract\nSET\n  contact_id = $1,\n  interest_rate = $2,\n  term_months = $3,\n  date_start = $4,\n  date_end = $5,\n  assignee_id = $6,\n  shared_with = $7,\n  state = $8,\n  updated_at = NOW()\nWHERE\n  id = $9\n  AND tenant_id = $10\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=122.298759ms elapsed_secs=0.122298759
2025-09-06T03:05:31.034018Z DEBUG sqlx::query: summary="DELETE FROM loan_transaction WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_transaction\nWHERE\n  contract_id = $1\n  AND tenant_id = $2\n" rows_affected=2 rows_returned=0 elapsed=115.430568ms elapsed_secs=0.115430568
2025-09-06T03:05:31.150224Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=111.427056ms elapsed_secs=0.111427056
2025-09-06T03:05:31.212847Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=57.982056ms elapsed_secs=0.057982056
2025-09-06T03:05:31.266979Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=53.951428ms elapsed_secs=0.053951428
2025-09-06T03:05:31.271527Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2ff075a7-79b3-4dc9-bf45-7f572877ac75
2025-09-06T03:05:31.390771Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=54.215904ms elapsed_secs=0.054215904
2025-09-06T03:05:31.498286Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.251436ms elapsed_secs=0.052251436
2025-09-06T03:05:32.045581Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:32.152558Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=52.785042ms elapsed_secs=0.052785042
2025-09-06T03:05:32.262970Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.01648ms elapsed_secs=0.05301648
2025-09-06T03:05:32.387658Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.1063ms elapsed_secs=0.0581063
2025-09-06T03:05:32.498070Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.221719ms elapsed_secs=0.053221719
2025-09-06T03:05:32.612263Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.023823ms elapsed_secs=0.055023823
2025-09-06T03:05:32.722098Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.732964ms elapsed_secs=0.052732964
2025-09-06T03:05:32.723481Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:05:32.833799Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.491498ms elapsed_secs=0.053491498
2025-09-06T03:05:32.947503Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.891298ms elapsed_secs=0.052891298
2025-09-06T03:05:33.059541Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.312198ms elapsed_secs=0.055312198
2025-09-06T03:05:33.172757Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.172453ms elapsed_secs=0.054172453
2025-09-06T03:05:33.286141Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.841738ms elapsed_secs=0.054841738
2025-09-06T03:05:33.400773Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.706456ms elapsed_secs=0.053706456
2025-09-06T03:05:37.172819Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:37.365299Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=137.39919ms elapsed_secs=0.13739919
2025-09-06T03:05:37.367413Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:37.474223Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=52.349511ms elapsed_secs=0.052349511
2025-09-06T03:05:43.069070Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:05:43.279477Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=151.904389ms elapsed_secs=0.151904389
2025-09-06T03:05:43.389393Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.304292ms elapsed_secs=0.053304292
2025-09-06T03:05:43.575246Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=131.728404ms elapsed_secs=0.131728404
2025-09-06T03:05:43.689620Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.309313ms elapsed_secs=0.054309313
2025-09-06T03:05:43.800166Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.443861ms elapsed_secs=0.053443861
2025-09-06T03:05:43.909222Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.416876ms elapsed_secs=0.055416876
2025-09-06T03:05:44.093481Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=124.497598ms elapsed_secs=0.124497598
2025-09-06T03:05:44.206531Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.903252ms elapsed_secs=0.052903252
2025-09-06T03:05:44.317963Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.251255ms elapsed_secs=0.057251255
2025-09-06T03:05:44.428668Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.208978ms elapsed_secs=0.054208978
2025-09-06T03:05:44.543137Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.025016ms elapsed_secs=0.053025016
2025-09-06T03:05:44.675916Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=79.231048ms elapsed_secs=0.079231048
2025-09-06T03:05:44.801001Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=57.550844ms elapsed_secs=0.057550844
2025-09-06T03:05:44.915062Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.71999ms elapsed_secs=0.05371999
2025-09-06T03:05:45.026850Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.698579ms elapsed_secs=0.057698579
2025-09-06T03:05:45.139651Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.768046ms elapsed_secs=0.053768046
2025-09-06T03:05:45.143351Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:05:45.253894Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=53.744008ms elapsed_secs=0.053744008
2025-09-06T03:08:12.173451Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:12.174574Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:12.474399Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:12.579929Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=52.539962ms elapsed_secs=0.052539962
2025-09-06T03:08:12.582151Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:12.767697Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=130.274723ms elapsed_secs=0.130274723
2025-09-06T03:08:15.713412Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:15.714929Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:16.049899Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:16.161196Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=54.590525ms elapsed_secs=0.054590525
2025-09-06T03:08:16.164606Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:16.348877Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=125.932091ms elapsed_secs=0.125932091
2025-09-06T03:08:19.344875Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:19.346345Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:08:19.679825Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:19.862419Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=124.917551ms elapsed_secs=0.124917551
2025-09-06T03:08:19.865212Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:19.971917Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=52.894931ms elapsed_secs=0.052894931
2025-09-06T03:08:28.117883Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:08:28.230526Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.809577ms elapsed_secs=0.053809577
2025-09-06T03:08:28.346363Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.870889ms elapsed_secs=0.055870889
2025-09-06T03:08:28.459514Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=60.27956ms elapsed_secs=0.06027956
2025-09-06T03:08:28.627388Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=109.726005ms elapsed_secs=0.109726005
2025-09-06T03:08:28.740034Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.817851ms elapsed_secs=0.053817851
2025-09-06T03:08:28.907865Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=113.571015ms elapsed_secs=0.113571015
2025-09-06T03:08:29.071092Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=106.804902ms elapsed_secs=0.106804902
2025-09-06T03:08:29.185901Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.538834ms elapsed_secs=0.055538834
2025-09-06T03:08:29.300997Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=61.781065ms elapsed_secs=0.061781065
2025-09-06T03:08:29.418787Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.072756ms elapsed_secs=0.056072756
2025-09-06T03:08:29.534564Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.334553ms elapsed_secs=0.053334553
2025-09-06T03:08:29.648143Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.209162ms elapsed_secs=0.058209162
2025-09-06T03:08:29.757837Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.093416ms elapsed_secs=0.055093416
2025-09-06T03:08:29.872644Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.586224ms elapsed_secs=0.055586224
2025-09-06T03:08:29.985834Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.80096ms elapsed_secs=0.05780096
2025-09-06T03:08:30.101809Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.922201ms elapsed_secs=0.056922201
2025-09-06T03:08:30.106675Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:30.216915Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=53.764219ms elapsed_secs=0.053764219
2025-09-06T03:08:44.808221Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:08:44.915944Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=53.399806ms elapsed_secs=0.053399806
2025-09-06T03:08:45.023730Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.659622ms elapsed_secs=0.052659622
2025-09-06T03:08:45.203009Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=124.290288ms elapsed_secs=0.124290288
2025-09-06T03:08:45.314046Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.523436ms elapsed_secs=0.055523436
2025-09-06T03:08:45.424976Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.36613ms elapsed_secs=0.05436613
2025-09-06T03:08:45.533058Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.479156ms elapsed_secs=0.055479156
2025-09-06T03:08:45.692301Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=105.019544ms elapsed_secs=0.105019544
2025-09-06T03:08:45.800537Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.868808ms elapsed_secs=0.052868808
2025-09-06T03:08:45.912239Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.567853ms elapsed_secs=0.057567853
2025-09-06T03:08:46.031898Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.765427ms elapsed_secs=0.053765427
2025-09-06T03:08:46.141892Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.277469ms elapsed_secs=0.054277469
2025-09-06T03:08:46.253355Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.309556ms elapsed_secs=0.057309556
2025-09-06T03:08:46.361638Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.756963ms elapsed_secs=0.053756963
2025-09-06T03:08:46.470459Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.156284ms elapsed_secs=0.053156284
2025-09-06T03:08:46.582256Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.406865ms elapsed_secs=0.057406865
2025-09-06T03:08:46.692437Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.110775ms elapsed_secs=0.055110775
2025-09-06T03:08:46.698890Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:08:46.807004Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=53.766976ms elapsed_secs=0.053766976
2025-09-06T03:11:08.197927Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:11:08.311344Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=54.039031ms elapsed_secs=0.054039031
2025-09-06T03:11:08.421195Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.822456ms elapsed_secs=0.052822456
2025-09-06T03:11:08.531747Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.280499ms elapsed_secs=0.058280499
2025-09-06T03:11:08.649757Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=58.059322ms elapsed_secs=0.058059322
2025-09-06T03:11:08.765578Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.676807ms elapsed_secs=0.053676807
2025-09-06T03:11:08.878932Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.455429ms elapsed_secs=0.057455429
2025-09-06T03:11:08.996640Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.824094ms elapsed_secs=0.054824094
2025-09-06T03:11:09.109142Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.368992ms elapsed_secs=0.053368992
2025-09-06T03:11:09.218695Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.396338ms elapsed_secs=0.056396338
2025-09-06T03:11:09.334648Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=57.290562ms elapsed_secs=0.057290562
2025-09-06T03:11:09.450091Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.427003ms elapsed_secs=0.054427003
2025-09-06T03:11:09.564151Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.151056ms elapsed_secs=0.058151056
2025-09-06T03:11:09.674800Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.911152ms elapsed_secs=0.054911152
2025-09-06T03:11:09.806203Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.98088ms elapsed_secs=0.05498088
2025-09-06T03:11:09.916192Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.153598ms elapsed_secs=0.057153598
2025-09-06T03:11:10.038137Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=57.653101ms elapsed_secs=0.057653101
2025-09-06T03:11:10.043584Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:11:10.158537Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=55.783876ms elapsed_secs=0.055783876
2025-09-06T03:11:22.376609Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:11:22.379395Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:11:22.486612Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=54.521066ms elapsed_secs=0.054521066
2025-09-06T03:11:22.493170Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=57.491434ms elapsed_secs=0.057491434
2025-09-06T03:11:22.494112Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:11:22.605490Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=52.720653ms elapsed_secs=0.052720653
2025-09-06T03:11:22.684642Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=138.371217ms elapsed_secs=0.138371217
2025-09-06T03:11:22.687025Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:11:22.899381Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=154.321907ms elapsed_secs=0.154321907
2025-09-06T03:11:23.007714Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=53.806997ms elapsed_secs=0.053806997
2025-09-06T03:11:35.793282Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:11:35.997546Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=145.417101ms elapsed_secs=0.145417101
2025-09-06T03:11:35.999182Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:11:36.113906Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.673295ms elapsed_secs=0.052673295
2025-09-06T03:11:54.321174Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T03:11:54.559419Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=130.052997ms elapsed_secs=0.130052997
2025-09-06T03:11:54.681628Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=113.595518ms elapsed_secs=0.113595518
2025-09-06T03:11:54.798966Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=112.645547ms elapsed_secs=0.112645547
2025-09-06T03:11:54.851914Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.751076ms elapsed_secs=0.052751076
2025-09-06T03:11:54.865941Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /c01e5280-ec53-4024-ba65-af7499b2d451
2025-09-06T03:11:54.880667Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /c01e5280-ec53-4024-ba65-af7499b2d451/collaterals
2025-09-06T03:11:54.881335Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:11:54.997285Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=54.079753ms elapsed_secs=0.054079753
2025-09-06T03:11:55.007866Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=63.7814ms elapsed_secs=0.0637814
2025-09-06T03:11:55.026674Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=105.103198ms elapsed_secs=0.105103198
2025-09-06T03:11:55.139869Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.20174ms elapsed_secs=0.05520174
2025-09-06T03:11:55.141983Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /c01e5280-ec53-4024-ba65-af7499b2d451
2025-09-06T03:11:55.306993Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=106.713857ms elapsed_secs=0.106713857
2025-09-06T03:11:55.423076Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.617365ms elapsed_secs=0.053617365
2025-09-06T03:12:01.772384Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:01.885811Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=53.651078ms elapsed_secs=0.053651078
2025-09-06T03:12:01.999256Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.255915ms elapsed_secs=0.055255915
2025-09-06T03:12:02.119830Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.466156ms elapsed_secs=0.057466156
2025-09-06T03:12:02.232184Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.200347ms elapsed_secs=0.054200347
2025-09-06T03:12:02.258089Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:02.341436Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.964818ms elapsed_secs=0.051964818
2025-09-06T03:12:02.452642Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.500098ms elapsed_secs=0.054500098
2025-09-06T03:12:02.454939Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=142.767866ms elapsed_secs=0.142767866
2025-09-06T03:12:02.456168Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:02.575732Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.504028ms elapsed_secs=0.058504028
2025-09-06T03:12:02.578160Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:02.652487Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=138.028062ms elapsed_secs=0.138028062
2025-09-06T03:12:02.742834Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=108.308764ms elapsed_secs=0.108308764
2025-09-06T03:12:02.853686Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.549404ms elapsed_secs=0.053549404
2025-09-06T03:12:02.964287Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.454005ms elapsed_secs=0.054454005
2025-09-06T03:12:03.080195Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.567544ms elapsed_secs=0.053567544
2025-09-06T03:12:03.201567Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.998285ms elapsed_secs=0.055998285
2025-09-06T03:12:03.320352Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.534283ms elapsed_secs=0.057534283
2025-09-06T03:12:03.435981Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.073784ms elapsed_secs=0.056073784
2025-09-06T03:12:24.208724Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T03:12:24.455659Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=126.108968ms elapsed_secs=0.126108968
2025-09-06T03:12:24.581021Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=116.437435ms elapsed_secs=0.116437435
2025-09-06T03:12:24.695089Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=110.324578ms elapsed_secs=0.110324578
2025-09-06T03:12:24.750631Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=55.323258ms elapsed_secs=0.055323258
2025-09-06T03:12:24.763680Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d800de37-bb42-44df-a83f-0e183c4f84bc
2025-09-06T03:12:24.787908Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d800de37-bb42-44df-a83f-0e183c4f84bc/collaterals
2025-09-06T03:12:24.788581Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:24.873452Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.720697ms elapsed_secs=0.052720697
2025-09-06T03:12:24.894757Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=52.804616ms elapsed_secs=0.052804616
2025-09-06T03:12:24.988896Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.470838ms elapsed_secs=0.052470838
2025-09-06T03:12:24.996689Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=146.491842ms elapsed_secs=0.146491842
2025-09-06T03:12:24.997823Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d800de37-bb42-44df-a83f-0e183c4f84bc
2025-09-06T03:12:25.109447Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=53.407522ms elapsed_secs=0.053407522
2025-09-06T03:12:25.220841Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.604384ms elapsed_secs=0.052604384
2025-09-06T03:12:27.051712Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:27.160057Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=7 rows_returned=7 elapsed=53.160049ms elapsed_secs=0.053160049
2025-09-06T03:12:27.268177Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.342233ms elapsed_secs=0.052342233
2025-09-06T03:12:27.380961Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.513898ms elapsed_secs=0.052513898
2025-09-06T03:12:27.495586Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.517957ms elapsed_secs=0.055517957
2025-09-06T03:12:27.531205Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:27.605665Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.894439ms elapsed_secs=0.053894439
2025-09-06T03:12:27.639260Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.092345ms elapsed_secs=0.052092345
2025-09-06T03:12:27.640873Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:27.713520Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.407203ms elapsed_secs=0.052407203
2025-09-06T03:12:27.749790Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.821212ms elapsed_secs=0.051821212
2025-09-06T03:12:27.828523Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.059907ms elapsed_secs=0.053059907
2025-09-06T03:12:27.944667Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.540656ms elapsed_secs=0.055540656
2025-09-06T03:12:27.948398Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:28.058362Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=7 rows_returned=7 elapsed=54.251403ms elapsed_secs=0.054251403
2025-09-06T03:12:28.170526Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=56.230147ms elapsed_secs=0.056230147
2025-09-06T03:12:28.286101Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.022773ms elapsed_secs=0.054022773
2025-09-06T03:12:28.393937Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.104308ms elapsed_secs=0.053104308
2025-09-06T03:12:28.502293Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.720297ms elapsed_secs=0.052720297
2025-09-06T03:12:28.622365Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.997156ms elapsed_secs=0.055997156
2025-09-06T03:12:28.740440Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.393034ms elapsed_secs=0.055393034
2025-09-06T03:12:28.851973Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.905481ms elapsed_secs=0.053905481
2025-09-06T03:12:55.092584Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T03:12:55.322925Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=123.896041ms elapsed_secs=0.123896041
2025-09-06T03:12:55.448170Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=112.990862ms elapsed_secs=0.112990862
2025-09-06T03:12:55.510834Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=56.791497ms elapsed_secs=0.056791497
2025-09-06T03:12:55.565663Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=54.401104ms elapsed_secs=0.054401104
2025-09-06T03:12:55.573967Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /83e08d62-e2d8-44bb-ada4-361e050fc3b0
2025-09-06T03:12:55.596058Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:12:55.596112Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /83e08d62-e2d8-44bb-ada4-361e050fc3b0/collaterals
2025-09-06T03:12:55.704091Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.330535ms elapsed_secs=0.052330535
2025-09-06T03:12:55.719506Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=55.185844ms elapsed_secs=0.055185844
2025-09-06T03:12:55.736580Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=103.78371ms elapsed_secs=0.10378371
2025-09-06T03:12:55.851516Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.505476ms elapsed_secs=0.054505476
2025-09-06T03:12:55.853654Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /83e08d62-e2d8-44bb-ada4-361e050fc3b0
2025-09-06T03:12:55.966065Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=55.813123ms elapsed_secs=0.055813123
2025-09-06T03:12:56.075996Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.534221ms elapsed_secs=0.053534221
2025-09-06T03:12:58.095002Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-09-06T03:12:58.205362Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=0 rows_returned=0 elapsed=52.334089ms elapsed_secs=0.052334089
2025-09-06T03:12:58.208154Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-09-06T03:12:58.322910Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=0 rows_returned=0 elapsed=55.196893ms elapsed_secs=0.055196893
2025-09-06T03:13:00.668380Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:00.775227Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.446516ms elapsed_secs=0.052446516
2025-09-06T03:13:00.777130Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:00.887775Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=53.802373ms elapsed_secs=0.053802373
2025-09-06T03:13:14.239292Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T03:13:14.406157Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=58.117538ms elapsed_secs=0.058117538
2025-09-06T03:13:14.471509Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=57.657946ms elapsed_secs=0.057657946
2025-09-06T03:13:14.532759Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=57.182558ms elapsed_secs=0.057182558
2025-09-06T03:13:14.585905Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.972081ms elapsed_secs=0.052972081
2025-09-06T03:13:14.599002Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b1d0071b-17a1-44c9-865c-da07b4580a9e
2025-09-06T03:13:14.627519Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b1d0071b-17a1-44c9-865c-da07b4580a9e/collaterals
2025-09-06T03:13:14.628381Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:14.712834Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=53.600434ms elapsed_secs=0.053600434
2025-09-06T03:13:14.740288Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=55.151542ms elapsed_secs=0.055151542
2025-09-06T03:13:14.822560Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.411939ms elapsed_secs=0.052411939
2025-09-06T03:13:14.827319Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b1d0071b-17a1-44c9-865c-da07b4580a9e
2025-09-06T03:13:14.849541Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=165.287401ms elapsed_secs=0.165287401
2025-09-06T03:13:14.937714Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=53.677212ms elapsed_secs=0.053677212
2025-09-06T03:13:17.987402Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.015086ms elapsed_secs=0.053015086
2025-09-06T03:13:20.206825Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:20.318771Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=9 rows_returned=9 elapsed=53.809697ms elapsed_secs=0.053809697
2025-09-06T03:13:20.439853Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.317841ms elapsed_secs=0.055317841
2025-09-06T03:13:20.553323Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.780949ms elapsed_secs=0.052780949
2025-09-06T03:13:20.663658Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.865641ms elapsed_secs=0.052865641
2025-09-06T03:13:20.721546Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:20.772370Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.415914ms elapsed_secs=0.053415914
2025-09-06T03:13:20.834750Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.792656ms elapsed_secs=0.052792656
2025-09-06T03:13:20.839581Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:20.882872Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.180199ms elapsed_secs=0.054180199
2025-09-06T03:13:20.953923Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=54.823126ms elapsed_secs=0.054823126
2025-09-06T03:13:20.991362Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.964266ms elapsed_secs=0.051964266
2025-09-06T03:13:21.102402Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.528764ms elapsed_secs=0.053528764
2025-09-06T03:13:21.223013Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.647509ms elapsed_secs=0.055647509
2025-09-06T03:13:21.356368Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.211151ms elapsed_secs=0.054211151
2025-09-06T03:13:21.360006Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:21.471057Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=9 rows_returned=9 elapsed=54.343779ms elapsed_secs=0.054343779
2025-09-06T03:13:21.593180Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.785145ms elapsed_secs=0.055785145
2025-09-06T03:13:21.700723Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.394356ms elapsed_secs=0.052394356
2025-09-06T03:13:21.811994Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.844412ms elapsed_secs=0.052844412
2025-09-06T03:13:21.926853Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.632197ms elapsed_secs=0.054632197
2025-09-06T03:13:22.037437Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.98546ms elapsed_secs=0.05298546
2025-09-06T03:13:22.150760Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.387446ms elapsed_secs=0.053387446
2025-09-06T03:13:22.264384Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.355338ms elapsed_secs=0.055355338
2025-09-06T03:13:22.372588Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.928175ms elapsed_secs=0.052928175
2025-09-06T03:13:22.496896Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.661209ms elapsed_secs=0.053661209
2025-09-06T03:13:33.723243Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T03:13:33.963484Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=131.299374ms elapsed_secs=0.131299374
2025-09-06T03:13:34.088464Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=118.978102ms elapsed_secs=0.118978102
2025-09-06T03:13:34.205785Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=113.72327ms elapsed_secs=0.11372327
2025-09-06T03:13:34.259823Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=53.872105ms elapsed_secs=0.053872105
2025-09-06T03:13:34.264094Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b5125fc0-3f48-4813-90ae-e06c55abcffe
2025-09-06T03:13:34.276498Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b5125fc0-3f48-4813-90ae-e06c55abcffe/collaterals
2025-09-06T03:13:34.277339Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T03:13:34.376784Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.787648ms elapsed_secs=0.052787648
2025-09-06T03:13:34.392381Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=55.295961ms elapsed_secs=0.055295961
2025-09-06T03:13:34.483840Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.099681ms elapsed_secs=0.052099681
2025-09-06T03:13:34.485387Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /b5125fc0-3f48-4813-90ae-e06c55abcffe
2025-09-06T03:13:34.489686Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=158.1868ms elapsed_secs=0.1581868
2025-09-06T03:13:34.593366Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.629979ms elapsed_secs=0.052629979
2025-09-06T03:13:34.711315Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.667808ms elapsed_secs=0.055667808
2025-09-06T03:13:37.513964Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:13:37.620966Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=52.950316ms elapsed_secs=0.052950316
2025-09-06T03:13:37.623056Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:13:37.738745Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=5 rows_returned=5 elapsed=55.754711ms elapsed_secs=0.055754711
2025-09-06T03:13:40.657538Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:13:40.764939Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=52.805336ms elapsed_secs=0.052805336
2025-09-06T03:13:40.874722Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.577302ms elapsed_secs=0.053577302
2025-09-06T03:13:40.987699Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.620071ms elapsed_secs=0.058620071
2025-09-06T03:13:41.101535Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.428549ms elapsed_secs=0.055428549
2025-09-06T03:13:41.212174Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.194548ms elapsed_secs=0.055194548
2025-09-06T03:13:41.327302Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.621282ms elapsed_secs=0.058621282
2025-09-06T03:13:41.438719Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.743404ms elapsed_secs=0.053743404
2025-09-06T03:13:41.548652Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.382526ms elapsed_secs=0.053382526
2025-09-06T03:13:41.660822Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=0 rows_returned=0 elapsed=54.67315ms elapsed_secs=0.05467315
2025-09-06T03:13:41.779535Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.788909ms elapsed_secs=0.056788909
2025-09-06T03:13:41.896070Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.731005ms elapsed_secs=0.057731005
2025-09-06T03:13:42.012522Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.723868ms elapsed_secs=0.058723868
2025-09-06T03:13:42.124899Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.021453ms elapsed_secs=0.055021453
2025-09-06T03:13:42.237633Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.515883ms elapsed_secs=0.053515883
2025-09-06T03:13:42.346127Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.612379ms elapsed_secs=0.055612379
2025-09-06T03:13:42.455921Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.04825ms elapsed_secs=0.05504825
2025-09-06T03:13:42.568937Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.665275ms elapsed_secs=0.053665275
2025-09-06T03:13:42.684353Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.570952ms elapsed_secs=0.058570952
2025-09-06T03:13:42.794050Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.339635ms elapsed_secs=0.055339635
2025-09-06T03:13:42.906395Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.952642ms elapsed_secs=0.056952642
2025-09-06T03:13:43.016562Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=0 rows_returned=0 elapsed=55.863927ms elapsed_secs=0.055863927
2025-09-06T03:13:43.132604Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.752831ms elapsed_secs=0.056752831
2025-09-06T03:13:43.243508Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.776608ms elapsed_secs=0.053776608
2025-09-06T03:13:43.357403Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=0 rows_returned=0 elapsed=56.897086ms elapsed_secs=0.056897086
2025-09-06T03:13:43.478486Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.035077ms elapsed_secs=0.055035077
2025-09-06T03:13:43.587117Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.645337ms elapsed_secs=0.052645337
2025-09-06T03:13:43.695599Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=0 rows_returned=0 elapsed=54.871582ms elapsed_secs=0.054871582
2025-09-06T03:13:43.808931Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.588281ms elapsed_secs=0.055588281
2025-09-06T03:13:43.920673Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.142664ms elapsed_secs=0.053142664
2025-09-06T03:13:44.034076Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=0 rows_returned=0 elapsed=56.568181ms elapsed_secs=0.056568181
2025-09-06T03:13:44.146290Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.588805ms elapsed_secs=0.054588805
2025-09-06T03:13:44.152036Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:13:44.262530Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=54.328417ms elapsed_secs=0.054328417
2025-09-06T03:13:49.355201Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:13:49.463835Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.973067ms elapsed_secs=0.053973067
2025-09-06T03:13:49.574114Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.704054ms elapsed_secs=0.053704054
2025-09-06T03:13:49.688723Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=62.408983ms elapsed_secs=0.062408983
2025-09-06T03:13:49.801976Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.212195ms elapsed_secs=0.056212195
2025-09-06T03:13:49.911353Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.899047ms elapsed_secs=0.053899047
2025-09-06T03:13:50.022007Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.162177ms elapsed_secs=0.056162177
2025-09-06T03:13:50.130500Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.936631ms elapsed_secs=0.053936631
2025-09-06T03:13:53.160961Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.180336ms elapsed_secs=0.053180336
2025-09-06T03:13:53.268583Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.300896ms elapsed_secs=0.055300896
2025-09-06T03:13:53.381827Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.365753ms elapsed_secs=0.056365753
2025-09-06T03:13:53.491820Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.697291ms elapsed_secs=0.052697291
2025-09-06T03:13:53.602128Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.876268ms elapsed_secs=0.057876268
2025-09-06T03:13:53.711653Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.878861ms elapsed_secs=0.054878861
2025-09-06T03:13:53.821600Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.974835ms elapsed_secs=0.053974835
2025-09-06T03:13:53.931660Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.58241ms elapsed_secs=0.05758241
2025-09-06T03:13:54.047914Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=59.79516ms elapsed_secs=0.05979516
2025-09-06T03:13:54.155721Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.220648ms elapsed_secs=0.053220648
2025-09-06T03:13:54.262535Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=54.478598ms elapsed_secs=0.054478598
2025-09-06T03:13:54.371155Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.279302ms elapsed_secs=0.054279302
2025-09-06T03:13:54.481466Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.96602ms elapsed_secs=0.05396602
2025-09-06T03:13:54.590720Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.680408ms elapsed_secs=0.056680408
2025-09-06T03:13:54.703282Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=56.527052ms elapsed_secs=0.056527052
2025-09-06T03:13:54.809932Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.12691ms elapsed_secs=0.05212691
2025-09-06T03:13:54.920427Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.722262ms elapsed_secs=0.057722262
2025-09-06T03:13:55.027741Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.994468ms elapsed_secs=0.053994468
2025-09-06T03:13:55.137843Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.443493ms elapsed_secs=0.053443493
2025-09-06T03:13:55.246207Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.018025ms elapsed_secs=0.056018025
2025-09-06T03:13:55.361692Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=59.44803ms elapsed_secs=0.05944803
2025-09-06T03:13:55.467553Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.677728ms elapsed_secs=0.051677728
2025-09-06T03:13:55.577276Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.180164ms elapsed_secs=0.056180164
2025-09-06T03:13:55.695259Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.975135ms elapsed_secs=0.053975135
2025-09-06T03:13:55.699513Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:13:55.810898Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=55.42129ms elapsed_secs=0.05542129
2025-09-06T03:14:02.883353Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:14:02.995343Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=52.908418ms elapsed_secs=0.052908418
2025-09-06T03:14:03.115213Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.992911ms elapsed_secs=0.055992911
2025-09-06T03:14:03.225697Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.243604ms elapsed_secs=0.058243604
2025-09-06T03:14:03.339580Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.831146ms elapsed_secs=0.054831146
2025-09-06T03:14:03.454174Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.832093ms elapsed_secs=0.052832093
2025-09-06T03:14:03.566296Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.88616ms elapsed_secs=0.05688616
2025-09-06T03:14:03.682622Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.106602ms elapsed_secs=0.055106602
2025-09-06T03:14:03.804166Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.134865ms elapsed_secs=0.056134865
2025-09-06T03:14:03.913144Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.128481ms elapsed_secs=0.055128481
2025-09-06T03:14:04.021671Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.072823ms elapsed_secs=0.054072823
2025-09-06T03:14:04.134313Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.776558ms elapsed_secs=0.053776558
2025-09-06T03:14:04.246713Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.905394ms elapsed_secs=0.056905394
2025-09-06T03:14:04.359047Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=53.719171ms elapsed_secs=0.053719171
2025-09-06T03:14:04.479993Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.784962ms elapsed_secs=0.055784962
2025-09-06T03:14:04.590850Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=55.990646ms elapsed_secs=0.055990646
2025-09-06T03:14:04.700883Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.335278ms elapsed_secs=0.054335278
2025-09-06T03:14:04.813411Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.822416ms elapsed_secs=0.053822416
2025-09-06T03:14:04.926216Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.45982ms elapsed_secs=0.05845982
2025-09-06T03:14:05.038883Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=58.721207ms elapsed_secs=0.058721207
2025-09-06T03:14:05.155272Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.18272ms elapsed_secs=0.05618272
2025-09-06T03:14:05.267152Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=57.114426ms elapsed_secs=0.057114426
2025-09-06T03:14:05.380713Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.469462ms elapsed_secs=0.055469462
2025-09-06T03:14:05.494657Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.946545ms elapsed_secs=0.053946545
2025-09-06T03:14:05.608662Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=58.303449ms elapsed_secs=0.058303449
2025-09-06T03:14:05.722759Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.456034ms elapsed_secs=0.055456034
2025-09-06T03:14:05.841118Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.594283ms elapsed_secs=0.056594283
2025-09-06T03:14:05.952379Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=56.966404ms elapsed_secs=0.056966404
2025-09-06T03:14:06.069335Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=55.450272ms elapsed_secs=0.055450272
2025-09-06T03:14:06.186352Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.307776ms elapsed_secs=0.053307776
2025-09-06T03:14:06.301068Z DEBUG sqlx::query: summary="DELETE FROM loan_report WHERE ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report\nWHERE\n  contract_id = $1\n  AND date = $2\n" rows_affected=1 rows_returned=0 elapsed=59.210033ms elapsed_secs=0.059210033
2025-09-06T03:14:06.415307Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n" rows_affected=1 rows_returned=0 elapsed=54.211384ms elapsed_secs=0.054211384
2025-09-06T03:14:06.419415Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:14:06.537579Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=56.450159ms elapsed_secs=0.056450159
2025-09-06T03:17:50.303537Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:17:50.437488Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:17:50.437993Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:17:50.543587Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:17:50.543698Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:17:50.543924Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:17:50.543980Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:17:50.544008Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:17:50.544081Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:03.942118Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:18:03.944736Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:18:04.250119Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:18:04.252111Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:18:04.392395Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:04.393275Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:04.472795Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=169.05046ms elapsed_secs=0.16905046
2025-09-06T03:18:04.474272Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:18:04.493885Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:04.493970Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:04.494169Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:04.494200Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:04.494262Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:04.494373Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:04.581322Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:04.581505Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:04.683530Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:04.683730Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:04.684404Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:04.684504Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:04.684608Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:04.684730Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:04.809417Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=168.167459ms elapsed_secs=0.168167459
2025-09-06T03:18:04.980032Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=158.106564ms elapsed_secs=0.158106564
2025-09-06T03:18:04.999785Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=138.772277ms elapsed_secs=0.138772277
2025-09-06T03:18:05.002195Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:18:05.104810Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=51.273299ms elapsed_secs=0.051273299
2025-09-06T03:18:05.295146Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=138.056002ms elapsed_secs=0.138056002
2025-09-06T03:18:06.247035Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:18:06.493232Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=189.342055ms elapsed_secs=0.189342055
2025-09-06T03:18:06.602369Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.603021Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.606643Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.606943Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.608027Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.608254Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.614163Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.614383Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.614654Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.614802Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.616100Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.616248Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.618667Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:18:06.618807Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:18:06.715645Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.715881Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.716849Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.716988Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.717054Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.717186Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.717497Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.717604Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.718095Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.718208Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.718307Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.718437Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.719677Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.719779Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.720085Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.720155Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.720228Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.720334Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.722855Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.722949Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.723212Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.723269Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.723332Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.723423Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.728656Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.728950Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.729907Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.730001Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.730164Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.730485Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.737269Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.737346Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.737510Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.737556Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.737604Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.737672Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.745847Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:18:06.746001Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:18:06.746358Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:18:06.746447Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:18:06.746536Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:18:06.746750Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:18:06.801518Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=253.434776ms elapsed_secs=0.253434776
2025-09-06T03:18:06.807240Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=202.197032ms elapsed_secs=0.202197032
2025-09-06T03:18:06.840578Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=287.725094ms elapsed_secs=0.287725094
2025-09-06T03:18:07.043631Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=126.832582ms elapsed_secs=0.126832582
2025-09-06T03:18:07.060329Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=116.275454ms elapsed_secs=0.116275454
2025-09-06T03:18:07.073301Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=167.752ms elapsed_secs=0.167752
2025-09-06T03:18:07.452627Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=523.811492ms elapsed_secs=0.523811492
2025-09-06T03:18:07.466488Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=540.121307ms elapsed_secs=0.540121307
2025-09-06T03:18:07.483323Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=548.050765ms elapsed_secs=0.548050765
2025-09-06T03:18:07.486594Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=553.799035ms elapsed_secs=0.553799035
2025-09-06T03:18:07.489636Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=557.167719ms elapsed_secs=0.557167719
2025-09-06T03:18:07.493292Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=562.631934ms elapsed_secs=0.562631934
2025-09-06T03:18:07.496398Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=563.666925ms elapsed_secs=0.563666925
2025-09-06T03:18:07.564622Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.910831ms elapsed_secs=0.053910831
2025-09-06T03:18:07.576256Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=52.239314ms elapsed_secs=0.052239314
2025-09-06T03:18:07.590962Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=52.926939ms elapsed_secs=0.052926939
2025-09-06T03:18:07.696090Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=129.698917ms elapsed_secs=0.129698917
2025-09-06T03:18:07.712440Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=131.217356ms elapsed_secs=0.131217356
2025-09-06T03:18:07.727115Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=131.503987ms elapsed_secs=0.131503987
2025-09-06T03:18:07.734821Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=138.160728ms elapsed_secs=0.138160728
2025-09-06T03:18:07.738713Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:18:07.940104Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=146.132418ms elapsed_secs=0.146132418
2025-09-06T03:18:13.455041Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:18:13.653752Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=145.220397ms elapsed_secs=0.145220397
2025-09-06T03:18:13.757508Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=50.508284ms elapsed_secs=0.050508284
2025-09-06T03:18:13.761328Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.804865ms elapsed_secs=0.053804865
2025-09-06T03:18:13.764674Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.446315ms elapsed_secs=0.058446315
2025-09-06T03:18:13.768650Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.48554ms elapsed_secs=0.05948554
2025-09-06T03:18:13.773292Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=62.477072ms elapsed_secs=0.062477072
2025-09-06T03:18:13.776570Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.873918ms elapsed_secs=0.068873918
2025-09-06T03:18:13.779695Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=67.682401ms elapsed_secs=0.067682401
2025-09-06T03:18:13.783314Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=74.329308ms elapsed_secs=0.074329308
2025-09-06T03:18:13.788231Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=77.666436ms elapsed_secs=0.077666436
2025-09-06T03:18:13.840105Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.444289ms elapsed_secs=0.053444289
2025-09-06T03:18:13.914142Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=52.738067ms elapsed_secs=0.052738067
2025-09-06T03:18:13.923772Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=52.635452ms elapsed_secs=0.052635452
2025-09-06T03:18:13.927902Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.201608ms elapsed_secs=0.053201608
2025-09-06T03:18:13.933119Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=52.8158ms elapsed_secs=0.0528158
2025-09-06T03:18:13.939613Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.646545ms elapsed_secs=0.053646545
2025-09-06T03:18:13.943872Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=58.725735ms elapsed_secs=0.058725735
2025-09-06T03:18:13.958035Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=56.925548ms elapsed_secs=0.056925548
2025-09-06T03:18:14.004498Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=114.32649ms elapsed_secs=0.11432649
2025-09-06T03:18:14.027732Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=130.195277ms elapsed_secs=0.130195277
2025-09-06T03:18:14.073409Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=125.47848ms elapsed_secs=0.12547848
2025-09-06T03:18:14.078108Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:18:14.249348Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=120.556872ms elapsed_secs=0.120556872
2025-09-06T03:18:17.562582Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:18:17.671097Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.222316ms elapsed_secs=0.053222316
2025-09-06T03:18:17.778056Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=50.850109ms elapsed_secs=0.050850109
2025-09-06T03:18:17.781658Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.188339ms elapsed_secs=0.057188339
2025-09-06T03:18:17.784842Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.392766ms elapsed_secs=0.059392766
2025-09-06T03:18:17.789218Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.927162ms elapsed_secs=0.062927162
2025-09-06T03:18:17.792866Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=65.460168ms elapsed_secs=0.065460168
2025-09-06T03:18:17.796156Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.841932ms elapsed_secs=0.065841932
2025-09-06T03:18:17.800003Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=73.705916ms elapsed_secs=0.073705916
2025-09-06T03:18:17.805364Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=76.300251ms elapsed_secs=0.076300251
2025-09-06T03:18:17.809421Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=82.659917ms elapsed_secs=0.082659917
2025-09-06T03:18:17.868576Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.296489ms elapsed_secs=0.051296489
2025-09-06T03:18:17.935131Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.687754ms elapsed_secs=0.053687754
2025-09-06T03:18:17.944254Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=51.911021ms elapsed_secs=0.051911021
2025-09-06T03:18:17.948875Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=54.219129ms elapsed_secs=0.054219129
2025-09-06T03:18:17.952883Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=55.82908ms elapsed_secs=0.05582908
2025-09-06T03:18:17.961036Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=54.488399ms elapsed_secs=0.054488399
2025-09-06T03:18:17.965787Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.715677ms elapsed_secs=0.053715677
2025-09-06T03:18:17.969710Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=57.736224ms elapsed_secs=0.057736224
2025-09-06T03:18:17.974985Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=57.835014ms elapsed_secs=0.057835014
2025-09-06T03:18:17.980047Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=54.194684ms elapsed_secs=0.054194684
2025-09-06T03:18:18.036540Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=53.084832ms elapsed_secs=0.053084832
2025-09-06T03:18:18.043633Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:18:18.147340Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=51.153691ms elapsed_secs=0.051153691
2025-09-06T03:23:39.603368Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:23:39.761939Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:23:39.762212Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:23:39.887632Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:23:39.887774Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:23:39.888164Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:23:39.888238Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:23:39.888314Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:23:39.888433Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:23:51.811246Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:23:51.945228Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:23:51.945437Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:23:52.047490Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:23:52.047845Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:23:52.048592Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:23:52.048753Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:23:52.048908Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:23:52.049108Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:23:57.685613Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:23:57.944160Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=203.584623ms elapsed_secs=0.203584623
2025-09-06T03:23:58.048654Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:23:58.048843Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:23:58.153009Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:23:58.153183Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:23:58.153499Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:23:58.153566Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:23:58.153641Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:23:58.153745Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:23:58.529080Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=228.492267ms elapsed_secs=0.228492267
2025-09-06T03:23:58.748866Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=158.518123ms elapsed_secs=0.158518123
2025-09-06T03:23:58.858046Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.020041ms elapsed_secs=0.053020041
2025-09-06T03:23:58.965621Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.283897ms elapsed_secs=0.052283897
2025-09-06T03:23:59.075922Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.989955ms elapsed_secs=0.052989955
2025-09-06T03:23:59.182019Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=50.510986ms elapsed_secs=0.050510986
2025-09-06T03:23:59.292510Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.253458ms elapsed_secs=0.053253458
2025-09-06T03:23:59.407506Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.696709ms elapsed_secs=0.053696709
2025-09-06T03:23:59.560069Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=75.344329ms elapsed_secs=0.075344329
2025-09-06T03:23:59.681972Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.218664ms elapsed_secs=0.063218664
2025-09-06T03:23:59.927447Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n  (\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18,\n    $19,\n    $20,\n    $21,\n    $22\n  ),\n  (\n    $23,\n    $24,\n    $25,\n    $26,\n    $27,\n    $28,\n    $29,\n    $30,\n    $31,\n    $32,\n    $33\n  ),\n  (\n    $34,\n    $35,\n    $36,\n    $37,\n    $38,\n    $39,\n    $40,\n    $41,\n    $42,\n    $43,\n    $44\n  ),\n  (\n    $45,\n    $46,\n    $47,\n    $48,\n    $49,\n    $50,\n    $51,\n    $52,\n    $53,\n    $54,\n    $55\n  ),\n  (\n    $56,\n    $57,\n    $58,\n    $59,\n    $60,\n    $61,\n    $62,\n    $63,\n    $64,\n    $65,\n    $66\n  ),\n  (\n    $67,\n    $68,\n    $69,\n    $70,\n    $71,\n    $72,\n    $73,\n    $74,\n    $75,\n    $76,\n    $77\n  ),\n  (\n    $78,\n    $79,\n    $80,\n    $81,\n    $82,\n    $83,\n    $84,\n    $85,\n    $86,\n    $87,\n    $88\n  ),\n  (\n    $89,\n    $90,\n    $91,\n    $92,\n    $93,\n    $94,\n    $95,\n    $96,\n    $97,\n    $98,\n    $99\n  ),\n  (\n    $100,\n    $101,\n    $102,\n    $103,\n    $104,\n    $105,\n    $106,\n    $107,\n    $108,\n    $109,\n    $110\n  )\n" rows_affected=0 rows_returned=0 elapsed=178.964389ms elapsed_secs=0.178964389
2025-09-06T03:23:59.927621Z ERROR milan::core::error: ‚ùå Internal error: L·ªói batch ghi report: Database(PgDatabaseError { severity: Error, code: "23505", message: "duplicate key value violates unique constraint \"loan_report_pkey\"", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some("pg_perform_future.cc"), line: Some(35), routine: Some("YBEndOperationsBuffering") })
2025-09-06T03:24:05.694244Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:24:05.697501Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:24:06.644057Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:24:06.656027Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:24:06.833277Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=137.995723ms elapsed_secs=0.137995723
2025-09-06T03:24:06.841767Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:24:06.864328Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=154.007974ms elapsed_secs=0.154007974
2025-09-06T03:24:06.950343Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:24:06.968578Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:24:06.968792Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:24:06.976663Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:24:06.976824Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:24:07.060580Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:24:07.060674Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:24:07.060888Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:24:07.060943Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:24:07.061005Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:24:07.061099Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:24:07.077872Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:24:07.077949Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:24:07.078083Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:24:07.078113Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:24:07.078144Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:24:07.078193Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:24:07.166747Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=165.953329ms elapsed_secs=0.165953329
2025-09-06T03:24:07.380287Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=161.093268ms elapsed_secs=0.161093268
2025-09-06T03:24:07.382836Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC\n" rows_affected=10 rows_returned=10 elapsed=184.801373ms elapsed_secs=0.184801373
2025-09-06T03:24:07.426867Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=202.939859ms elapsed_secs=0.202939859
2025-09-06T03:24:09.382625Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:24:09.486329Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=51.499296ms elapsed_secs=0.051499296
2025-09-06T03:24:09.742069Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=207.146027ms elapsed_secs=0.207146027
2025-09-06T03:24:09.850070Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.778103ms elapsed_secs=0.052778103
2025-09-06T03:24:10.129524Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=225.96496ms elapsed_secs=0.22596496
2025-09-06T03:24:10.232304Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=50.092906ms elapsed_secs=0.050092906
2025-09-06T03:24:10.327406Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.471912ms elapsed_secs=0.046471912
2025-09-06T03:24:10.435336Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.11698ms elapsed_secs=0.05211698
2025-09-06T03:24:10.540395Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.664549ms elapsed_secs=0.051664549
2025-09-06T03:24:10.643139Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=50.07187ms elapsed_secs=0.05007187
2025-09-06T03:24:10.739718Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.386629ms elapsed_secs=0.046386629
2025-09-06T03:24:10.847159Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.942782ms elapsed_secs=0.051942782
2025-09-06T03:24:11.036347Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n  (\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18,\n    $19,\n    $20,\n    $21,\n    $22\n  ),\n  (\n    $23,\n    $24,\n    $25,\n    $26,\n    $27,\n    $28,\n    $29,\n    $30,\n    $31,\n    $32,\n    $33\n  ),\n  (\n    $34,\n    $35,\n    $36,\n    $37,\n    $38,\n    $39,\n    $40,\n    $41,\n    $42,\n    $43,\n    $44\n  ),\n  (\n    $45,\n    $46,\n    $47,\n    $48,\n    $49,\n    $50,\n    $51,\n    $52,\n    $53,\n    $54,\n    $55\n  ),\n  (\n    $56,\n    $57,\n    $58,\n    $59,\n    $60,\n    $61,\n    $62,\n    $63,\n    $64,\n    $65,\n    $66\n  ),\n  (\n    $67,\n    $68,\n    $69,\n    $70,\n    $71,\n    $72,\n    $73,\n    $74,\n    $75,\n    $76,\n    $77\n  ),\n  (\n    $78,\n    $79,\n    $80,\n    $81,\n    $82,\n    $83,\n    $84,\n    $85,\n    $86,\n    $87,\n    $88\n  ),\n  (\n    $89,\n    $90,\n    $91,\n    $92,\n    $93,\n    $94,\n    $95,\n    $96,\n    $97,\n    $98,\n    $99\n  ),\n  (\n    $100,\n    $101,\n    $102,\n    $103,\n    $104,\n    $105,\n    $106,\n    $107,\n    $108,\n    $109,\n    $110\n  )\n" rows_affected=0 rows_returned=0 elapsed=126.997192ms elapsed_secs=0.126997192
2025-09-06T03:24:11.036582Z ERROR milan::core::error: ‚ùå Internal error: L·ªói batch ghi report: Database(PgDatabaseError { severity: Error, code: "23505", message: "duplicate key value violates unique constraint \"loan_report_pkey\"", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some("pg_perform_future.cc"), line: Some(35), routine: Some("YBEndOperationsBuffering") })
2025-09-06T03:32:12.411000Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:32:12.560547Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:32:12.560730Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:32:12.665543Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:32:12.665633Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:32:12.665907Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:32:12.665970Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:32:12.666034Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:32:12.666118Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:32:54.901658Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:32:54.903060Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:32:55.204155Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:32:55.206206Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:32:55.324612Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:32:55.325417Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:32:55.413048Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:32:55.413178Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:32:55.413442Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:32:55.413504Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:32:55.413569Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:32:55.413661Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:32:55.443282Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=185.197715ms elapsed_secs=0.185197715
2025-09-06T03:32:55.444664Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:32:55.549142Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:32:55.549911Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:32:55.668374Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:32:55.668555Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:32:55.669049Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:32:55.669141Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:32:55.669238Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:32:55.669369Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:32:55.708524Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=172.63943ms elapsed_secs=0.17263943
2025-09-06T03:32:55.907997Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=145.458426ms elapsed_secs=0.145458426
2025-09-06T03:32:55.912379Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:32:56.002760Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=44.534158ms elapsed_secs=0.044534158
2025-09-06T03:32:56.005528Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=199.970865ms elapsed_secs=0.199970865
2025-09-06T03:32:56.106324Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=52.300336ms elapsed_secs=0.052300336
2025-09-06T03:33:05.100630Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:33:05.334287Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=187.525912ms elapsed_secs=0.187525912
2025-09-06T03:33:05.567473Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=179.32461ms elapsed_secs=0.17932461
2025-09-06T03:33:05.793831Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=171.614378ms elapsed_secs=0.171614378
2025-09-06T03:33:05.981901Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=141.803992ms elapsed_secs=0.141803992
2025-09-06T03:33:06.087875Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.701058ms elapsed_secs=0.051701058
2025-09-06T03:33:06.194448Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.647167ms elapsed_secs=0.052647167
2025-09-06T03:33:06.283818Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=43.263179ms elapsed_secs=0.043263179
2025-09-06T03:33:06.391063Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.236023ms elapsed_secs=0.051236023
2025-09-06T03:33:06.497146Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.890959ms elapsed_secs=0.051890959
2025-09-06T03:33:06.586717Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=43.60772ms elapsed_secs=0.04360772
2025-09-06T03:33:06.698043Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.074695ms elapsed_secs=0.054074695
2025-09-06T03:33:06.896454Z DEBUG sqlx::query: summary="DELETE FROM loan_report lr ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report lr USING (\n    VALUES\n      ($1, $2, $3),\n      ($4, $5, $6),\n      ($7, $8, $9),\n      ($10, $11, $12),\n      ($13, $14, $15),\n      ($16, $17, $18),\n      ($19, $20, $21),\n      ($22, $23, $24),\n      ($25, $26, $27),\n      ($28, $29, $30)\n  ) AS v(tenant_id, contract_id, date)\nWHERE\n  lr.tenant_id = v.tenant_id\n  AND lr.contract_id = v.contract_id\n  AND lr.date = v.date\n" rows_affected=10 rows_returned=0 elapsed=142.54745ms elapsed_secs=0.14254745
2025-09-06T03:33:07.056690Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n  (\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18,\n    $19,\n    $20,\n    $21,\n    $22\n  ),\n  (\n    $23,\n    $24,\n    $25,\n    $26,\n    $27,\n    $28,\n    $29,\n    $30,\n    $31,\n    $32,\n    $33\n  ),\n  (\n    $34,\n    $35,\n    $36,\n    $37,\n    $38,\n    $39,\n    $40,\n    $41,\n    $42,\n    $43,\n    $44\n  ),\n  (\n    $45,\n    $46,\n    $47,\n    $48,\n    $49,\n    $50,\n    $51,\n    $52,\n    $53,\n    $54,\n    $55\n  ),\n  (\n    $56,\n    $57,\n    $58,\n    $59,\n    $60,\n    $61,\n    $62,\n    $63,\n    $64,\n    $65,\n    $66\n  ),\n  (\n    $67,\n    $68,\n    $69,\n    $70,\n    $71,\n    $72,\n    $73,\n    $74,\n    $75,\n    $76,\n    $77\n  ),\n  (\n    $78,\n    $79,\n    $80,\n    $81,\n    $82,\n    $83,\n    $84,\n    $85,\n    $86,\n    $87,\n    $88\n  ),\n  (\n    $89,\n    $90,\n    $91,\n    $92,\n    $93,\n    $94,\n    $95,\n    $96,\n    $97,\n    $98,\n    $99\n  ),\n  (\n    $100,\n    $101,\n    $102,\n    $103,\n    $104,\n    $105,\n    $106,\n    $107,\n    $108,\n    $109,\n    $110\n  )\n" rows_affected=10 rows_returned=0 elapsed=107.433181ms elapsed_secs=0.107433181
2025-09-06T03:33:07.061221Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:33:07.165556Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.175196ms elapsed_secs=0.052175196
2025-09-06T03:33:10.845387Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:33:10.848667Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T03:33:14.689357Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:33:14.694927Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:33:14.717900Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:33:14.786987Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=45.903513ms elapsed_secs=0.045903513
2025-09-06T03:33:14.798995Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.668926ms elapsed_secs=0.052668926
2025-09-06T03:33:14.803388Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:33:14.824609Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.283157ms elapsed_secs=0.052283157
2025-09-06T03:33:14.942110Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:33:14.942492Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:33:14.954244Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:33:14.954514Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:33:15.050000Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:33:15.050103Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:33:15.050262Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:33:15.050294Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:33:15.050327Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:33:15.050379Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:33:15.081940Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:33:15.082073Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:33:15.082301Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:33:15.082355Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:33:15.082410Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:33:15.082485Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:33:15.373181Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=183.254908ms elapsed_secs=0.183254908
2025-09-06T03:33:15.460788Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=217.019807ms elapsed_secs=0.217019807
2025-09-06T03:33:15.632199Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=127.817205ms elapsed_secs=0.127817205
2025-09-06T03:33:19.785931Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:33:19.991574Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=145.766976ms elapsed_secs=0.145766976
2025-09-06T03:33:20.102280Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.677ms elapsed_secs=0.052677
2025-09-06T03:33:20.372895Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=208.321857ms elapsed_secs=0.208321857
2025-09-06T03:33:20.678889Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=236.102103ms elapsed_secs=0.236102103
2025-09-06T03:33:20.771736Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=44.559645ms elapsed_secs=0.044559645
2025-09-06T03:33:20.883500Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.756322ms elapsed_secs=0.053756322
2025-09-06T03:33:21.016500Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.352903ms elapsed_secs=0.054352903
2025-09-06T03:33:21.132722Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.552008ms elapsed_secs=0.053552008
2025-09-06T03:33:21.262867Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.828994ms elapsed_secs=0.060828994
2025-09-06T03:33:21.357354Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.836405ms elapsed_secs=0.044836405
2025-09-06T03:33:21.472660Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.208403ms elapsed_secs=0.053208403
2025-09-06T03:33:21.688912Z DEBUG sqlx::query: summary="DELETE FROM loan_report lr ‚Ä¶" db.statement="\n\nDELETE FROM\n  loan_report lr USING (\n    VALUES\n      ($1, $2, $3),\n      ($4, $5, $6),\n      ($7, $8, $9),\n      ($10, $11, $12),\n      ($13, $14, $15),\n      ($16, $17, $18),\n      ($19, $20, $21),\n      ($22, $23, $24),\n      ($25, $26, $27),\n      ($28, $29, $30)\n  ) AS v(tenant_id, contract_id, date)\nWHERE\n  lr.tenant_id = v.tenant_id\n  AND lr.contract_id = v.contract_id\n  AND lr.date = v.date\n" rows_affected=10 rows_returned=0 elapsed=144.344715ms elapsed_secs=0.144344715
2025-09-06T03:33:21.877951Z DEBUG sqlx::query: summary="INSERT INTO loan_report ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n  (\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18,\n    $19,\n    $20,\n    $21,\n    $22\n  ),\n  (\n    $23,\n    $24,\n    $25,\n    $26,\n    $27,\n    $28,\n    $29,\n    $30,\n    $31,\n    $32,\n    $33\n  ),\n  (\n    $34,\n    $35,\n    $36,\n    $37,\n    $38,\n    $39,\n    $40,\n    $41,\n    $42,\n    $43,\n    $44\n  ),\n  (\n    $45,\n    $46,\n    $47,\n    $48,\n    $49,\n    $50,\n    $51,\n    $52,\n    $53,\n    $54,\n    $55\n  ),\n  (\n    $56,\n    $57,\n    $58,\n    $59,\n    $60,\n    $61,\n    $62,\n    $63,\n    $64,\n    $65,\n    $66\n  ),\n  (\n    $67,\n    $68,\n    $69,\n    $70,\n    $71,\n    $72,\n    $73,\n    $74,\n    $75,\n    $76,\n    $77\n  ),\n  (\n    $78,\n    $79,\n    $80,\n    $81,\n    $82,\n    $83,\n    $84,\n    $85,\n    $86,\n    $87,\n    $88\n  ),\n  (\n    $89,\n    $90,\n    $91,\n    $92,\n    $93,\n    $94,\n    $95,\n    $96,\n    $97,\n    $98,\n    $99\n  ),\n  (\n    $100,\n    $101,\n    $102,\n    $103,\n    $104,\n    $105,\n    $106,\n    $107,\n    $108,\n    $109,\n    $110\n  )\n" rows_affected=10 rows_returned=0 elapsed=122.390874ms elapsed_secs=0.122390874
2025-09-06T03:33:21.882903Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:33:22.113806Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=165.007159ms elapsed_secs=0.165007159
2025-09-06T03:54:10.629993Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T03:54:10.800136Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:10.800343Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:10.906544Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:10.906681Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:10.907069Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:10.907146Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:10.907214Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:10.907283Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:25.363191Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=171.940512ms elapsed_secs=0.171940512
2025-09-06T03:54:25.513611Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:25.514049Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:25.619595Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:25.619923Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:25.620736Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:25.620900Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:25.621084Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:25.621343Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:25.936034Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=177.002715ms elapsed_secs=0.177002715
2025-09-06T03:54:26.756301Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:54:26.758207Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:54:26.956068Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=142.401318ms elapsed_secs=0.142401318
2025-09-06T03:54:26.984825Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=175.027434ms elapsed_secs=0.175027434
2025-09-06T03:54:26.986508Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T03:54:27.067877Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:27.068121Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:27.091616Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:27.092549Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:27.178893Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:27.179081Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:27.179825Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:27.179917Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:27.179998Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:27.180345Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:27.197576Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:27.198009Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:27.198928Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:27.199193Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:27.199419Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:27.199926Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:27.504493Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=177.563442ms elapsed_secs=0.177563442
2025-09-06T03:54:27.507022Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T03:54:27.535609Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=200.002404ms elapsed_secs=0.200002404
2025-09-06T03:54:27.612217Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=52.923625ms elapsed_secs=0.052923625
2025-09-06T03:54:27.854955Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=188.373815ms elapsed_secs=0.188373815
2025-09-06T03:54:32.828877Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:54:33.115977Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=229.939439ms elapsed_secs=0.229939439
2025-09-06T03:54:33.116109Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 286.927933ms
2025-09-06T03:54:33.220139Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:33.220294Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:33.225135Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:33.225260Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:33.227241Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:33.227396Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:33.321364Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:33.321721Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:33.322097Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:33.322179Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:33.322250Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:33.322377Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:33.329979Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:33.330331Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:33.330673Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:33.330750Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:33.330807Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:33.330889Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:33.336148Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:33.336280Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:33.336476Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:33.336518Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:33.336566Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:33.336684Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:33.489628Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=317.311688ms elapsed_secs=0.317311688
2025-09-06T03:54:33.489897Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=373.517456ms, calc=19.123¬µs
2025-09-06T03:54:33.494711Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=323.924156ms elapsed_secs=0.323924156
2025-09-06T03:54:33.494971Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=378.653021ms, calc=22.816¬µs
2025-09-06T03:54:33.501535Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=328.918033ms elapsed_secs=0.328918033
2025-09-06T03:54:33.501698Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=385.52652ms, calc=14.162¬µs
2025-09-06T03:54:33.604722Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:33.604876Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:33.612766Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T03:54:33.613047Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T03:54:33.707673Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:33.707762Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:33.707961Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:33.708015Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:33.708052Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:33.708114Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:33.721132Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T03:54:33.721292Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T03:54:33.721594Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T03:54:33.721655Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T03:54:33.721705Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T03:54:33.721877Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T03:54:33.836355Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=288.609559ms elapsed_secs=0.288609559
2025-09-06T03:54:33.836472Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=346.477223ms, calc=8.112¬µs
2025-09-06T03:54:33.898924Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=393.483023ms elapsed_secs=0.393483023
2025-09-06T03:54:33.899081Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=782.49854ms, calc=16.856¬µs
2025-09-06T03:54:33.931878Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=413.967221ms elapsed_secs=0.413967221
2025-09-06T03:54:33.932100Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=815.686789ms, calc=17.91¬µs
2025-09-06T03:54:33.945078Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=431.525882ms elapsed_secs=0.431525882
2025-09-06T03:54:33.945334Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=828.846305ms, calc=21.289¬µs
2025-09-06T03:54:33.950395Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.656081ms elapsed_secs=0.057656081
2025-09-06T03:54:33.950654Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=114.123018ms, calc=19.682¬µs
2025-09-06T03:54:34.198501Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=314.419289ms elapsed_secs=0.314419289
2025-09-06T03:54:34.198637Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=696.656747ms, calc=10.592¬µs
2025-09-06T03:54:34.213505Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=320.356106ms elapsed_secs=0.320356106
2025-09-06T03:54:34.213694Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=718.640205ms, calc=15.577¬µs
2025-09-06T03:54:34.213778Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 1.097640292s
2025-09-06T03:54:34.445417Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n),\ndel AS (\n  DELETE FROM\n    loan_report lr USING v\n  WHERE\n    lr.tenant_id = v.tenant_id\n    AND lr.contract_id = v.contract_id\n    AND lr.date = v.date\n  RETURNING\n    1\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v\n" rows_affected=0 rows_returned=0 elapsed=165.219707ms elapsed_secs=0.165219707
2025-09-06T03:54:34.445724Z ERROR milan::core::error: ‚ùå Internal error: CTE upsert loan_report l·ªói: Database(PgDatabaseError { severity: Error, code: "23505", message: "duplicate key value violates unique constraint \"loan_report_pkey\"", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some("pg_perform_future.cc"), line: Some(35), routine: Some("ybcFetchNextHeapTuple") })
2025-09-06T03:55:25.874167Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T03:55:25.874733Z ERROR milan::core::auth: ‚ùå Middleware decode JWT l·ªói: Error(ExpiredSignature)
2025-09-06T04:01:23.611721Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T04:01:23.747409Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:23.748546Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:23.852866Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:23.852984Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:23.853231Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:23.853288Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:23.853353Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:23.853443Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:29.689595Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:01:29.692230Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:01:30.014089Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:30.016552Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:01:30.128934Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:30.129468Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:30.238259Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:30.238454Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:30.239083Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:30.239178Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:30.239260Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:30.239400Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:30.305107Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=233.742782ms elapsed_secs=0.233742782
2025-09-06T04:01:30.307825Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:30.414516Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:30.414777Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:30.520673Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:30.521207Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:30.521918Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:30.522038Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:30.522198Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:30.522402Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:30.602243Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=209.601343ms elapsed_secs=0.209601343
2025-09-06T04:01:30.834379Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=179.134477ms elapsed_secs=0.179134477
2025-09-06T04:01:30.836146Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:01:30.951360Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=55.21476ms elapsed_secs=0.05521476
2025-09-06T04:01:30.953606Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=268.99203ms elapsed_secs=0.26899203
2025-09-06T04:01:31.056014Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=51.775149ms elapsed_secs=0.051775149
2025-09-06T04:01:31.987084Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:01:32.226327Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=181.219266ms elapsed_secs=0.181219266
2025-09-06T04:01:32.226467Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 239.150347ms
2025-09-06T04:01:32.344883Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:32.345165Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:32.345547Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:32.345783Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:32.354961Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:32.355883Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:32.356867Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:32.357719Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:32.453096Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:32.453396Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:32.454175Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:32.454368Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:32.454503Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:32.454861Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:32.456921Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:32.457038Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:32.457421Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:32.457659Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:32.457892Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:32.458233Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:32.464327Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:32.464623Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:32.465704Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:32.465878Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:32.466045Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:32.466293Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:32.467237Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:32.467427Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:32.468209Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:32.468377Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:32.468535Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:32.468803Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:32.512600Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=217.525936ms elapsed_secs=0.217525936
2025-09-06T04:01:32.512733Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=286.075167ms, calc=9.998¬µs
2025-09-06T04:01:32.515920Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=234.657473ms elapsed_secs=0.234657473
2025-09-06T04:01:32.515995Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=289.480817ms, calc=5.111¬µs
2025-09-06T04:01:32.623136Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:32.623717Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:32.734556Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:32.734951Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:32.735790Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:32.735961Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:32.736134Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:32.736473Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:32.780455Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=206.593788ms elapsed_secs=0.206593788
2025-09-06T04:01:32.780593Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=267.809ms, calc=11.127¬µs
2025-09-06T04:01:32.892515Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.092449ms elapsed_secs=0.052092449
2025-09-06T04:01:32.892694Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=112.049381ms, calc=11.335¬µs
2025-09-06T04:01:32.970419Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=346.553564ms elapsed_secs=0.346553564
2025-09-06T04:01:32.970551Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=743.778466ms, calc=9.7¬µs
2025-09-06T04:01:33.001058Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.975147ms elapsed_secs=0.052975147
2025-09-06T04:01:33.001199Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=108.446929ms, calc=10.414¬µs
2025-09-06T04:01:33.032369Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=393.006844ms elapsed_secs=0.393006844
2025-09-06T04:01:33.032487Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=805.21195ms, calc=9.661¬µs
2025-09-06T04:01:33.042636Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=403.933393ms elapsed_secs=0.403933393
2025-09-06T04:01:33.042816Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=815.83436ms, calc=13.559¬µs
2025-09-06T04:01:33.062838Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=411.028916ms elapsed_secs=0.411028916
2025-09-06T04:01:33.062956Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=835.768907ms, calc=7.619¬µs
2025-09-06T04:01:33.184303Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=273.149141ms elapsed_secs=0.273149141
2025-09-06T04:01:33.184459Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=668.414323ms, calc=11.024¬µs
2025-09-06T04:01:33.184513Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 958.020457ms
2025-09-06T04:01:33.409351Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=155.308393ms elapsed_secs=0.155308393
2025-09-06T04:01:33.409497Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 224.949536ms
2025-09-06T04:01:33.411875Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:33.535845Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=59.52131ms elapsed_secs=0.05952131
2025-09-06T04:01:38.564267Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:01:38.767199Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=148.449462ms elapsed_secs=0.148449462
2025-09-06T04:01:38.767423Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 202.910752ms
2025-09-06T04:01:38.879517Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.17995ms elapsed_secs=0.05517995
2025-09-06T04:01:38.879644Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=111.863378ms, calc=8.987¬µs
2025-09-06T04:01:38.882995Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.030165ms elapsed_secs=0.060030165
2025-09-06T04:01:38.883080Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=114.962541ms, calc=6.152¬µs
2025-09-06T04:01:38.886472Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=61.930502ms elapsed_secs=0.061930502
2025-09-06T04:01:38.886652Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=118.486109ms, calc=14.196¬µs
2025-09-06T04:01:38.890750Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.322482ms elapsed_secs=0.066322482
2025-09-06T04:01:38.891304Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=123.249568ms, calc=22.333¬µs
2025-09-06T04:01:38.896053Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=72.942177ms elapsed_secs=0.072942177
2025-09-06T04:01:38.896248Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=128.729675ms, calc=16.626¬µs
2025-09-06T04:01:38.899779Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=75.574565ms elapsed_secs=0.075574565
2025-09-06T04:01:38.899927Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=131.846083ms, calc=11.919¬µs
2025-09-06T04:01:39.000031Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.157313ms elapsed_secs=0.063157313
2025-09-06T04:01:39.000542Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=120.803002ms, calc=41.086¬µs
2025-09-06T04:01:39.007057Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.640013ms elapsed_secs=0.052640013
2025-09-06T04:01:39.007252Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=107.243361ms, calc=11.734¬µs
2025-09-06T04:01:39.038667Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:39.038814Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:39.041079Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:01:39.041186Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:01:39.141534Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:39.141912Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:39.142289Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:39.142380Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:39.142468Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:39.142624Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:39.143233Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:01:39.143335Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:01:39.143590Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:01:39.143652Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:01:39.143711Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:01:39.143790Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:01:39.582854Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=295.727249ms elapsed_secs=0.295727249
2025-09-06T04:01:39.583012Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=682.836294ms, calc=14.304¬µs
2025-09-06T04:01:39.586681Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=299.282326ms elapsed_secs=0.299282326
2025-09-06T04:01:39.586792Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=686.679835ms, calc=6.323¬µs
2025-09-06T04:01:39.586829Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 819.356369ms
2025-09-06T04:01:39.824750Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=172.44468ms elapsed_secs=0.17244468
2025-09-06T04:01:39.824885Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 238.027404ms
2025-09-06T04:01:39.828373Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:40.047565Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=165.554433ms elapsed_secs=0.165554433
2025-09-06T04:01:43.647499Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:01:43.764088Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=57.723365ms elapsed_secs=0.057723365
2025-09-06T04:01:43.764315Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 116.511118ms
2025-09-06T04:01:43.869308Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.142464ms elapsed_secs=0.051142464
2025-09-06T04:01:43.869485Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=104.493764ms, calc=12.313¬µs
2025-09-06T04:01:43.872988Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.514893ms elapsed_secs=0.054514893
2025-09-06T04:01:43.873127Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=108.529252ms, calc=10.301¬µs
2025-09-06T04:01:43.876087Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.410292ms elapsed_secs=0.057410292
2025-09-06T04:01:43.876204Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=111.442731ms, calc=8.943¬µs
2025-09-06T04:01:43.879620Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.02315ms elapsed_secs=0.06002315
2025-09-06T04:01:43.879772Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=114.97123ms, calc=11.916¬µs
2025-09-06T04:01:43.883139Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.916553ms elapsed_secs=0.063916553
2025-09-06T04:01:43.883306Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=118.90261ms, calc=11.629¬µs
2025-09-06T04:01:43.888135Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.763129ms elapsed_secs=0.065763129
2025-09-06T04:01:43.888320Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=123.668129ms, calc=14.89¬µs
2025-09-06T04:01:43.976702Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.367269ms elapsed_secs=0.053367269
2025-09-06T04:01:43.976834Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=107.285833ms, calc=8.322¬µs
2025-09-06T04:01:43.989902Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.608335ms elapsed_secs=0.052608335
2025-09-06T04:01:43.990025Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=106.549549ms, calc=8.448¬µs
2025-09-06T04:01:43.993785Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.059651ms elapsed_secs=0.054059651
2025-09-06T04:01:43.993982Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=110.593235ms, calc=18.9¬µs
2025-09-06T04:01:43.997338Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.924687ms elapsed_secs=0.053924687
2025-09-06T04:01:43.997468Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=109.066717ms, calc=10.796¬µs
2025-09-06T04:01:43.997523Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 233.159719ms
2025-09-06T04:01:44.193958Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=133.619906ms elapsed_secs=0.133619906
2025-09-06T04:01:44.194100Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 196.528564ms
2025-09-06T04:01:44.197802Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:44.303490Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.417036ms elapsed_secs=0.052417036
2025-09-06T04:01:47.122952Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:01:47.335356Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=155.339296ms elapsed_secs=0.155339296
2025-09-06T04:01:47.335492Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 212.228334ms
2025-09-06T04:01:47.442153Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.854425ms elapsed_secs=0.051854425
2025-09-06T04:01:47.442275Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=106.561836ms, calc=9.656¬µs
2025-09-06T04:01:47.446413Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.881473ms elapsed_secs=0.054881473
2025-09-06T04:01:47.446580Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=111.036333ms, calc=9.181¬µs
2025-09-06T04:01:47.450180Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.285339ms elapsed_secs=0.058285339
2025-09-06T04:01:47.450391Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=114.734613ms, calc=14.672¬µs
2025-09-06T04:01:47.453616Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.434725ms elapsed_secs=0.062434725
2025-09-06T04:01:47.453734Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=118.009996ms, calc=6.416¬µs
2025-09-06T04:01:47.456954Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=64.813677ms elapsed_secs=0.064813677
2025-09-06T04:01:47.457106Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=121.317107ms, calc=10.367¬µs
2025-09-06T04:01:47.462837Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.022989ms elapsed_secs=0.068022989
2025-09-06T04:01:47.463147Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=127.435577ms, calc=18.739¬µs
2025-09-06T04:01:47.558203Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.632519ms elapsed_secs=0.054632519
2025-09-06T04:01:47.558335Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=116.007216ms, calc=10.421¬µs
2025-09-06T04:01:47.561752Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.06706ms elapsed_secs=0.05506706
2025-09-06T04:01:47.561822Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=108.050271ms, calc=4.062¬µs
2025-09-06T04:01:47.572903Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.407995ms elapsed_secs=0.052407995
2025-09-06T04:01:47.573067Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=109.805963ms, calc=15.764¬µs
2025-09-06T04:01:47.576287Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.153773ms elapsed_secs=0.059153773
2025-09-06T04:01:47.576362Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=112.943182ms, calc=4.159¬µs
2025-09-06T04:01:47.576401Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 240.883506ms
2025-09-06T04:01:47.786319Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=145.512462ms elapsed_secs=0.145512462
2025-09-06T04:01:47.786465Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 210.027497ms
2025-09-06T04:01:47.789882Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:47.989249Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=144.590701ms elapsed_secs=0.144590701
2025-09-06T04:01:49.316465Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:01:49.528742Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=150.178289ms elapsed_secs=0.150178289
2025-09-06T04:01:49.528941Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 212.184041ms
2025-09-06T04:01:49.636156Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.52528ms elapsed_secs=0.05252528
2025-09-06T04:01:49.636292Z DEBUG milan::module::loan::handler::report: ‚è± contract ac6538df-8473-4174-84ac-a24408cc72cc: load=107.039709ms, calc=12.025¬µs
2025-09-06T04:01:49.639629Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.348659ms elapsed_secs=0.055348659
2025-09-06T04:01:49.639705Z DEBUG milan::module::loan::handler::report: ‚è± contract 99f091a8-88bc-4af4-864a-b528cd719ba4: load=110.704592ms, calc=5.23¬µs
2025-09-06T04:01:49.642598Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.530026ms elapsed_secs=0.057530026
2025-09-06T04:01:49.642686Z DEBUG milan::module::loan::handler::report: ‚è± contract 2ff075a7-79b3-4dc9-bf45-7f572877ac75: load=113.251747ms, calc=6.851¬µs
2025-09-06T04:01:49.647606Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.167258ms elapsed_secs=0.060167258
2025-09-06T04:01:49.647794Z DEBUG milan::module::loan::handler::report: ‚è± contract a95d3c4b-b2ed-46d5-9566-22102252de60: load=118.621277ms, calc=11.709¬µs
2025-09-06T04:01:49.651274Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=64.051234ms elapsed_secs=0.064051234
2025-09-06T04:01:49.651388Z DEBUG milan::module::loan::handler::report: ‚è± contract 591535d9-4a90-4623-8981-339bf0776aec: load=122.020544ms, calc=6.862¬µs
2025-09-06T04:01:49.654411Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.077098ms elapsed_secs=0.068077098
2025-09-06T04:01:49.654500Z DEBUG milan::module::loan::handler::report: ‚è± contract b5125fc0-3f48-4813-90ae-e06c55abcffe: load=125.281485ms, calc=5.123¬µs
2025-09-06T04:01:49.746193Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.190194ms elapsed_secs=0.052190194
2025-09-06T04:01:49.746319Z DEBUG milan::module::loan::handler::report: ‚è± contract 83e08d62-e2d8-44bb-ada4-361e050fc3b0: load=109.975293ms, calc=8.318¬µs
2025-09-06T04:01:49.753900Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.63539ms elapsed_secs=0.05163539
2025-09-06T04:01:49.754176Z DEBUG milan::module::loan::handler::report: ‚è± contract d800de37-bb42-44df-a83f-0e183c4f84bc: load=106.304253ms, calc=18.961¬µs
2025-09-06T04:01:49.758542Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.215005ms elapsed_secs=0.052215005
2025-09-06T04:01:49.758661Z DEBUG milan::module::loan::handler::report: ‚è± contract b1d0071b-17a1-44c9-865c-da07b4580a9e: load=110.700099ms, calc=9.417¬µs
2025-09-06T04:01:49.762585Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.297228ms elapsed_secs=0.053297228
2025-09-06T04:01:49.762698Z DEBUG milan::module::loan::handler::report: ‚è± contract c01e5280-ec53-4024-ba65-af7499b2d451: load=108.152073ms, calc=9.356¬µs
2025-09-06T04:01:49.762757Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 233.781215ms
2025-09-06T04:01:49.914066Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=74.270058ms elapsed_secs=0.074270058
2025-09-06T04:01:49.914198Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 151.393781ms
2025-09-06T04:01:49.917570Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:01:50.035727Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.615715ms elapsed_secs=0.053615715
2025-09-06T04:04:13.322795Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T04:04:13.461138Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:04:13.461308Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:04:13.564811Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:04:13.564905Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:04:13.565092Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:04:13.565126Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:04:13.565159Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:04:13.565203Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:04:57.523115Z DEBUG sqlx::query: summary="SELECT tenant_id, shard_id FROM ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  shard_id\nFROM\n  tenant\nWHERE\n  slug = $1\n" rows_affected=0 rows_returned=1 elapsed=170.495734ms elapsed_secs=0.170495734
2025-09-06T04:04:57.657608Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:04:57.657861Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:04:57.763330Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:04:57.763445Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:04:57.763647Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:04:57.763689Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:04:57.763750Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:04:57.763825Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:04:58.089238Z DEBUG sqlx::query: summary="SELECT tenant_id, user_id, email, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  user_id,\n  email,\n  name,\n  password_hash\nFROM\n  users\nWHERE\n  tenant_id = $1\n  AND email = $2\n" rows_affected=0 rows_returned=1 elapsed=176.75521ms elapsed_secs=0.17675521
2025-09-06T04:04:58.987351Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:04:59.187228Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=146.456635ms elapsed_secs=0.146456635
2025-09-06T04:04:59.422309Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=182.202028ms elapsed_secs=0.182202028
2025-09-06T04:04:59.424231Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:04:59.551804Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=68.143744ms elapsed_secs=0.068143744
2025-09-06T04:04:59.659332Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=53.330481ms elapsed_secs=0.053330481
2025-09-06T04:05:03.993933Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-09-06T04:05:04.257164Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=0 rows_returned=0 elapsed=204.289499ms elapsed_secs=0.204289499
2025-09-06T04:05:04.258856Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-09-06T04:05:04.482693Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=0 rows_returned=0 elapsed=170.151932ms elapsed_secs=0.170151932
2025-09-06T04:05:06.209701Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:05:06.468921Z DEBUG sqlx::query: summary="INSERT INTO contact ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  contact (\n    tenant_id,\n    id,\n    is_company,\n    parent_id,\n    name,\n    display_name,\n    email,\n    phone,\n    mobile,\n    website,\n    street,\n    street2,\n    city,\n    state,\n    zip,\n    country_code,\n    notes,\n    tags_cached,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18,\n    $19,\n    $20,\n    $21\n  )\n" rows_affected=1 rows_returned=0 elapsed=153.438888ms elapsed_secs=0.153438888
2025-09-06T04:05:06.525736Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=56.642824ms elapsed_secs=0.056642824
2025-09-06T04:05:06.529116Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /708ce290-b419-475d-a2b6-9e0a36c9d667
2025-09-06T04:05:06.535446Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list?is_company=true&limit=200
2025-09-06T04:05:06.643798Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:05:06.643957Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:05:06.692329Z DEBUG sqlx::query: summary="SELECT id, is_company, parent_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  is_company,\n  parent_id,\n  name,\n  display_name,\n  email,\n  phone,\n  mobile,\n  website,\n  street,\n  street2,\n  city,\n  state,\n  zip,\n  country_code,\n  notes,\n  NULLIF(tags_cached, '') AS \"tags_cached?: String\",\n  created_at,\n  updated_at\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=110.210606ms elapsed_secs=0.110210606
2025-09-06T04:05:06.694540Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /708ce290-b419-475d-a2b6-9e0a36c9d667
2025-09-06T04:05:06.747854Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:05:06.747932Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:05:06.748126Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:05:06.748165Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:05:06.748211Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:05:06.748271Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:05:06.866393Z DEBUG sqlx::query: summary="SELECT id, is_company, parent_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  is_company,\n  parent_id,\n  name,\n  display_name,\n  email,\n  phone,\n  mobile,\n  website,\n  street,\n  street2,\n  city,\n  state,\n  zip,\n  country_code,\n  notes,\n  NULLIF(tags_cached, '') AS \"tags_cached?: String\",\n  created_at,\n  updated_at\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=116.026513ms elapsed_secs=0.116026513
2025-09-06T04:05:07.100235Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=0 rows_returned=0 elapsed=212.167673ms elapsed_secs=0.212167673
2025-09-06T04:05:09.303331Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:05:09.411202Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.457835ms elapsed_secs=0.052457835
2025-09-06T04:05:09.414297Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:05:09.519615Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.384857ms elapsed_secs=0.051384857
2025-09-06T04:05:28.478649Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:05:28.720217Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=137.178729ms elapsed_secs=0.137178729
2025-09-06T04:05:28.926384Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=201.118975ms elapsed_secs=0.201118975
2025-09-06T04:05:29.072808Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=144.597873ms elapsed_secs=0.144597873
2025-09-06T04:05:29.125091Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.053887ms elapsed_secs=0.052053887
2025-09-06T04:05:29.129130Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2f5d601c-5699-4a42-a43c-d9561127175d
2025-09-06T04:05:29.142014Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2f5d601c-5699-4a42-a43c-d9561127175d/collaterals
2025-09-06T04:05:29.143275Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:05:29.275666Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:05:29.275826Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:05:29.345634Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=161.708222ms elapsed_secs=0.161708222
2025-09-06T04:05:29.365099Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:05:29.365224Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:05:29.365419Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:05:29.365457Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:05:29.365486Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:05:29.365548Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:05:29.387123Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=191.096006ms elapsed_secs=0.191096006
2025-09-06T04:05:29.523456Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=123.742909ms elapsed_secs=0.123742909
2025-09-06T04:05:29.525197Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /2f5d601c-5699-4a42-a43c-d9561127175d
2025-09-06T04:05:29.633081Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.61551ms elapsed_secs=0.05261551
2025-09-06T04:05:29.702638Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=208.169634ms elapsed_secs=0.208169634
2025-09-06T04:05:29.876750Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=188.201ms elapsed_secs=0.188201
2025-09-06T04:05:33.109329Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:33.303419Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=0 rows_returned=0 elapsed=140.787778ms elapsed_secs=0.140787778
2025-09-06T04:05:33.306138Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:33.520523Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=0 rows_returned=0 elapsed=161.074791ms elapsed_secs=0.161074791
2025-09-06T04:05:34.444420Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:05:34.622819Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=1 rows_returned=1 elapsed=132.177271ms elapsed_secs=0.132177271
2025-09-06T04:05:34.623083Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 178.428228ms
2025-09-06T04:05:34.729059Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.591525ms elapsed_secs=0.051591525
2025-09-06T04:05:34.729239Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=106.081262ms, calc=11.001¬µs
2025-09-06T04:05:34.729290Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 106.174483ms
2025-09-06T04:05:34.894539Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=108.856636ms elapsed_secs=0.108856636
2025-09-06T04:05:34.894794Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 165.469657ms
2025-09-06T04:05:34.897979Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:35.005042Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=53.309125ms elapsed_secs=0.053309125
2025-09-06T04:05:40.699197Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:05:40.794149Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=1 rows_returned=1 elapsed=45.48823ms elapsed_secs=0.04548823
2025-09-06T04:05:40.794417Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 94.644503ms
2025-09-06T04:05:40.912103Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.238999ms elapsed_secs=0.058238999
2025-09-06T04:05:40.912353Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=117.827804ms, calc=15.225¬µs
2025-09-06T04:05:40.912456Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 117.971782ms
2025-09-06T04:05:41.032182Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=59.821307ms elapsed_secs=0.059821307
2025-09-06T04:05:41.032415Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 119.894615ms
2025-09-06T04:05:41.040207Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:41.149092Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=52.817623ms elapsed_secs=0.052817623
2025-09-06T04:05:45.937417Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:05:46.031158Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=1 rows_returned=1 elapsed=45.803879ms elapsed_secs=0.045803879
2025-09-06T04:05:46.031468Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 93.648221ms
2025-09-06T04:05:46.139147Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.644663ms elapsed_secs=0.051644663
2025-09-06T04:05:46.139420Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=107.846652ms, calc=19.4¬µs
2025-09-06T04:05:46.139518Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 107.993264ms
2025-09-06T04:05:46.251750Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=55.571735ms elapsed_secs=0.055571735
2025-09-06T04:05:46.251888Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 112.324123ms
2025-09-06T04:05:46.256480Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:46.362834Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=52.408613ms elapsed_secs=0.052408613
2025-09-06T04:05:49.507748Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:05:49.600963Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=1 rows_returned=1 elapsed=46.225958ms elapsed_secs=0.046225958
2025-09-06T04:05:49.601074Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 92.982997ms
2025-09-06T04:05:49.708938Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.522582ms elapsed_secs=0.052522582
2025-09-06T04:05:49.709158Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=108.033869ms, calc=13.448¬µs
2025-09-06T04:05:49.709231Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 108.136886ms
2025-09-06T04:05:49.822089Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=1 rows_returned=0 elapsed=54.815348ms elapsed_secs=0.054815348
2025-09-06T04:05:49.822235Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 112.959898ms
2025-09-06T04:05:49.826711Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:05:49.931707Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=51.957994ms elapsed_secs=0.051957994
2025-09-06T04:05:58.168996Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:05:58.259872Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=44.691207ms elapsed_secs=0.044691207
2025-09-06T04:05:58.261147Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:05:58.367697Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.629749ms elapsed_secs=0.051629749
2025-09-06T04:06:14.370245Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:06:14.531624Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=55.832019ms elapsed_secs=0.055832019
2025-09-06T04:06:14.594777Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=57.04406ms elapsed_secs=0.05704406
2025-09-06T04:06:14.652008Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=54.860122ms elapsed_secs=0.054860122
2025-09-06T04:06:14.704527Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.271405ms elapsed_secs=0.052271405
2025-09-06T04:06:14.708714Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /5a60cd4c-6877-417f-9f61-2ccc6984d133
2025-09-06T04:06:14.721866Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /5a60cd4c-6877-417f-9f61-2ccc6984d133/collaterals
2025-09-06T04:06:14.722515Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:14.814325Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.338176ms elapsed_secs=0.051338176
2025-09-06T04:06:14.828428Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.367235ms elapsed_secs=0.052367235
2025-09-06T04:06:14.923242Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.232982ms elapsed_secs=0.053232982
2025-09-06T04:06:14.926987Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=157.96821ms elapsed_secs=0.15796821
2025-09-06T04:06:14.927916Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /5a60cd4c-6877-417f-9f61-2ccc6984d133
2025-09-06T04:06:15.033830Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.364339ms elapsed_secs=0.051364339
2025-09-06T04:06:15.139871Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.857985ms elapsed_secs=0.051857985
2025-09-06T04:06:16.566196Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:16.659156Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=2 rows_returned=2 elapsed=45.364341ms elapsed_secs=0.045364341
2025-09-06T04:06:16.766507Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.17287ms elapsed_secs=0.05217287
2025-09-06T04:06:16.957701Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=137.012108ms elapsed_secs=0.137012108
2025-09-06T04:06:16.960135Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:17.162568Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=2 rows_returned=2 elapsed=145.931388ms elapsed_secs=0.145931388
2025-09-06T04:06:17.362779Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=152.38952ms elapsed_secs=0.15238952
2025-09-06T04:06:17.470001Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.403564ms elapsed_secs=0.052403564
2025-09-06T04:06:17.508714Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:17.614277Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.716375ms elapsed_secs=0.051716375
2025-09-06T04:06:17.616597Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:17.723910Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.616773ms elapsed_secs=0.051616773
2025-09-06T04:06:41.748921Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:06:41.997217Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=116.540851ms elapsed_secs=0.116540851
2025-09-06T04:06:42.103675Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=100.890458ms elapsed_secs=0.100890458
2025-09-06T04:06:42.202658Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=97.213623ms elapsed_secs=0.097213623
2025-09-06T04:06:42.253048Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=47.868794ms elapsed_secs=0.047868794
2025-09-06T04:06:42.300567Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=47.242744ms elapsed_secs=0.047242744
2025-09-06T04:06:42.310711Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /7170b271-677a-4ae8-b668-ecc058733e84
2025-09-06T04:06:42.326721Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /7170b271-677a-4ae8-b668-ecc058733e84/collaterals
2025-09-06T04:06:42.326708Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:42.434266Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=53.535266ms elapsed_secs=0.053535266
2025-09-06T04:06:42.437187Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=54.943533ms elapsed_secs=0.054943533
2025-09-06T04:06:42.468626Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=103.345386ms elapsed_secs=0.103345386
2025-09-06T04:06:42.563228Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=46.320035ms elapsed_secs=0.046320035
2025-09-06T04:06:42.564901Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /7170b271-677a-4ae8-b668-ecc058733e84
2025-09-06T04:06:42.723075Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=104.064493ms elapsed_secs=0.104064493
2025-09-06T04:06:42.830743Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.38472ms elapsed_secs=0.05238472
2025-09-06T04:06:45.383412Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:45.541423Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=103.129511ms elapsed_secs=0.103129511
2025-09-06T04:06:45.633224Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.868155ms elapsed_secs=0.044868155
2025-09-06T04:06:45.746528Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=58.551151ms elapsed_secs=0.058551151
2025-09-06T04:06:45.852378Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.46525ms elapsed_secs=0.05146525
2025-09-06T04:06:45.855069Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:06:45.962518Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=52.338591ms elapsed_secs=0.052338591
2025-09-06T04:06:46.054392Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.038446ms elapsed_secs=0.045038446
2025-09-06T04:06:46.168483Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.806979ms elapsed_secs=0.052806979
2025-09-06T04:06:46.276922Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.881131ms elapsed_secs=0.052881131
2025-09-06T04:06:48.561765Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:06:48.666134Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=51.592462ms elapsed_secs=0.051592462
2025-09-06T04:06:48.667756Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:06:48.844922Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=1 rows_returned=1 elapsed=131.807132ms elapsed_secs=0.131807132
2025-09-06T04:06:52.413978Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:06:52.523667Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=53.967782ms elapsed_secs=0.053967782
2025-09-06T04:06:52.523865Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 109.474133ms
2025-09-06T04:06:52.617202Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.149409ms elapsed_secs=0.046149409
2025-09-06T04:06:52.617393Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=93.201431ms, calc=12.544¬µs
2025-09-06T04:06:52.633056Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.355157ms elapsed_secs=0.053355157
2025-09-06T04:06:52.633533Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=109.578997ms, calc=28.841¬µs
2025-09-06T04:06:52.640747Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=58.409287ms elapsed_secs=0.058409287
2025-09-06T04:06:52.645421Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=117.158519ms, calc=4.10251ms
2025-09-06T04:06:52.645742Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 121.843278ms
2025-09-06T04:06:52.855370Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=3 rows_returned=0 elapsed=151.225411ms elapsed_secs=0.151225411
2025-09-06T04:06:52.855524Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 209.714254ms
2025-09-06T04:06:52.861334Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:06:52.951338Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=44.927259ms elapsed_secs=0.044927259
2025-09-06T04:06:55.503741Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:06:55.661398Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=103.778924ms elapsed_secs=0.103778924
2025-09-06T04:06:55.661537Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 157.511908ms
2025-09-06T04:06:55.753273Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.109592ms elapsed_secs=0.045109592
2025-09-06T04:06:55.753421Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=91.672781ms, calc=9.662¬µs
2025-09-06T04:06:55.768070Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.637573ms elapsed_secs=0.051637573
2025-09-06T04:06:55.768322Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=106.586277ms, calc=15.807¬µs
2025-09-06T04:06:55.772724Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.48498ms elapsed_secs=0.05648498
2025-09-06T04:06:55.773055Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=111.45368ms, calc=18.005¬µs
2025-09-06T04:06:55.773136Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 111.572973ms
2025-09-06T04:06:55.945565Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=3 rows_returned=0 elapsed=113.447954ms elapsed_secs=0.113447954
2025-09-06T04:06:55.945730Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 172.555552ms
2025-09-06T04:06:55.950780Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:06:56.041102Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=44.872177ms elapsed_secs=0.044872177
2025-09-06T04:06:57.790673Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:06:57.895864Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=51.977089ms elapsed_secs=0.051977089
2025-09-06T04:06:57.895994Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 105.054172ms
2025-09-06T04:06:57.989027Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.624753ms elapsed_secs=0.045624753
2025-09-06T04:06:57.989269Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=93.063672ms, calc=16.279¬µs
2025-09-06T04:06:58.001752Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.602196ms elapsed_secs=0.051602196
2025-09-06T04:06:58.001954Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=105.895256ms, calc=14.501¬µs
2025-09-06T04:06:58.005561Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.308464ms elapsed_secs=0.055308464
2025-09-06T04:06:58.005867Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=109.680381ms, calc=20.008¬µs
2025-09-06T04:06:58.005960Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 109.93577ms
2025-09-06T04:06:58.175072Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=3 rows_returned=0 elapsed=108.683444ms elapsed_secs=0.108683444
2025-09-06T04:06:58.175303Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 169.296466ms
2025-09-06T04:06:58.181325Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:06:58.274743Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=45.502307ms elapsed_secs=0.045502307
2025-09-06T04:07:13.278916Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:13.386998Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=52.56024ms elapsed_secs=0.05256024
2025-09-06T04:07:13.494774Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.815075ms elapsed_secs=0.052815075
2025-09-06T04:07:13.600781Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.657236ms elapsed_secs=0.051657236
2025-09-06T04:07:13.693254Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.598082ms elapsed_secs=0.045598082
2025-09-06T04:07:13.695266Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:13.805528Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=52.02116ms elapsed_secs=0.05202116
2025-09-06T04:07:13.916093Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.084271ms elapsed_secs=0.055084271
2025-09-06T04:07:14.021761Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.733777ms elapsed_secs=0.051733777
2025-09-06T04:07:14.113674Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.230959ms elapsed_secs=0.045230959
2025-09-06T04:07:17.706375Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:07:17.880909Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=121.716281ms elapsed_secs=0.121716281
2025-09-06T04:07:17.882448Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:07:17.988789Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=52.931682ms elapsed_secs=0.052931682
2025-09-06T04:07:21.294123Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:21.399683Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=51.666956ms elapsed_secs=0.051666956
2025-09-06T04:07:21.493246Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.925321ms elapsed_secs=0.044925321
2025-09-06T04:07:21.600554Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.859023ms elapsed_secs=0.051859023
2025-09-06T04:07:21.708455Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.864284ms elapsed_secs=0.052864284
2025-09-06T04:07:21.710327Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:21.815316Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=51.962499ms elapsed_secs=0.051962499
2025-09-06T04:07:21.907157Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.938311ms elapsed_secs=0.044938311
2025-09-06T04:07:22.013585Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.884521ms elapsed_secs=0.051884521
2025-09-06T04:07:22.120550Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.245058ms elapsed_secs=0.052245058
2025-09-06T04:07:25.468870Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:07:25.573635Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=51.950482ms elapsed_secs=0.051950482
2025-09-06T04:07:25.575195Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:07:25.667033Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=45.407489ms elapsed_secs=0.045407489
2025-09-06T04:07:31.759351Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:07:31.866375Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=3 rows_returned=3 elapsed=52.916716ms elapsed_secs=0.052916716
2025-09-06T04:07:31.866652Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 107.102652ms
2025-09-06T04:07:31.959502Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.976385ms elapsed_secs=0.044976385
2025-09-06T04:07:31.959634Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=92.568303ms, calc=8.649¬µs
2025-09-06T04:07:31.973089Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.914958ms elapsed_secs=0.051914958
2025-09-06T04:07:31.973267Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=106.246461ms, calc=14.597¬µs
2025-09-06T04:07:31.976512Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.842747ms elapsed_secs=0.055842747
2025-09-06T04:07:31.976643Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=109.891778ms, calc=10.934¬µs
2025-09-06T04:07:31.976706Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 110.000453ms
2025-09-06T04:07:32.094433Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=3 rows_returned=0 elapsed=58.906438ms elapsed_secs=0.058906438
2025-09-06T04:07:32.094572Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 117.821125ms
2025-09-06T04:07:32.098993Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:07:32.190167Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=45.019589ms elapsed_secs=0.045019589
2025-09-06T04:07:56.277920Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:56.387031Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=53.073841ms elapsed_secs=0.053073841
2025-09-06T04:07:56.390472Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:07:56.495419Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.629874ms elapsed_secs=0.051629874
2025-09-06T04:08:17.155154Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:08:17.391809Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=131.041249ms elapsed_secs=0.131041249
2025-09-06T04:08:17.516264Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=113.374527ms elapsed_secs=0.113374527
2025-09-06T04:08:17.630941Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=111.978666ms elapsed_secs=0.111978666
2025-09-06T04:08:17.683772Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.697628ms elapsed_secs=0.052697628
2025-09-06T04:08:17.688087Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /f04e2bb9-58c7-4c75-a311-9aad583dbb1d
2025-09-06T04:08:17.707435Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:17.707488Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /f04e2bb9-58c7-4c75-a311-9aad583dbb1d/collaterals
2025-09-06T04:08:17.813573Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.028792ms elapsed_secs=0.052028792
2025-09-06T04:08:17.824864Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=88.441694ms elapsed_secs=0.088441694
2025-09-06T04:08:17.932491Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.18187ms elapsed_secs=0.05218187
2025-09-06T04:08:17.935950Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=174.614099ms elapsed_secs=0.174614099
2025-09-06T04:08:17.936614Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /f04e2bb9-58c7-4c75-a311-9aad583dbb1d
2025-09-06T04:08:18.042566Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.558004ms elapsed_secs=0.051558004
2025-09-06T04:08:18.135468Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.111726ms elapsed_secs=0.045111726
2025-09-06T04:08:24.028660Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:24.149600Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=4 rows_returned=4 elapsed=53.736076ms elapsed_secs=0.053736076
2025-09-06T04:08:24.267906Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.016064ms elapsed_secs=0.052016064
2025-09-06T04:08:24.383813Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.230451ms elapsed_secs=0.053230451
2025-09-06T04:08:24.477395Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=45.330581ms elapsed_secs=0.045330581
2025-09-06T04:08:24.585971Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.091118ms elapsed_secs=0.052091118
2025-09-06T04:08:24.588456Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:24.701484Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=4 rows_returned=4 elapsed=53.655113ms elapsed_secs=0.053655113
2025-09-06T04:08:24.812026Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.463545ms elapsed_secs=0.052463545
2025-09-06T04:08:24.905669Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.942586ms elapsed_secs=0.044942586
2025-09-06T04:08:25.011661Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.481109ms elapsed_secs=0.051481109
2025-09-06T04:08:25.124488Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.195094ms elapsed_secs=0.053195094
2025-09-06T04:08:26.686374Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:26.794083Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.762228ms elapsed_secs=0.052762228
2025-09-06T04:08:26.795476Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:26.893481Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=45.099374ms elapsed_secs=0.045099374
2025-09-06T04:08:39.039157Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:08:39.199656Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=56.245943ms elapsed_secs=0.056245943
2025-09-06T04:08:39.262532Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=55.769072ms elapsed_secs=0.055769072
2025-09-06T04:08:39.321894Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=54.997908ms elapsed_secs=0.054997908
2025-09-06T04:08:39.376666Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=54.584606ms elapsed_secs=0.054584606
2025-09-06T04:08:39.387231Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /82d83fcf-0131-4662-b7b7-8edfc67b6f82
2025-09-06T04:08:39.412008Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /82d83fcf-0131-4662-b7b7-8edfc67b6f82/collaterals
2025-09-06T04:08:39.412616Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:39.500752Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.962625ms elapsed_secs=0.051962625
2025-09-06T04:08:39.507535Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=45.712257ms elapsed_secs=0.045712257
2025-09-06T04:08:39.614032Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.112603ms elapsed_secs=0.052112603
2025-09-06T04:08:39.616736Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /82d83fcf-0131-4662-b7b7-8edfc67b6f82
2025-09-06T04:08:39.625695Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=157.110548ms elapsed_secs=0.157110548
2025-09-06T04:08:39.709171Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=45.694153ms elapsed_secs=0.045694153
2025-09-06T04:08:39.818494Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.864549ms elapsed_secs=0.051864549
2025-09-06T04:08:41.112607Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:41.219033Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=52.480634ms elapsed_secs=0.052480634
2025-09-06T04:08:41.327229Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.347403ms elapsed_secs=0.052347403
2025-09-06T04:08:41.426795Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.58056ms elapsed_secs=0.04558056
2025-09-06T04:08:41.514415Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:41.533644Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.320465ms elapsed_secs=0.052320465
2025-09-06T04:08:41.623850Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=54.804794ms elapsed_secs=0.054804794
2025-09-06T04:08:41.625578Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:41.645973Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.235005ms elapsed_secs=0.052235005
2025-09-06T04:08:41.716659Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=44.681747ms elapsed_secs=0.044681747
2025-09-06T04:08:41.752585Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.085174ms elapsed_secs=0.052085174
2025-09-06T04:08:41.754031Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:41.867043Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=5 rows_returned=5 elapsed=52.68466ms elapsed_secs=0.05268466
2025-09-06T04:08:41.979894Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.27137ms elapsed_secs=0.05327137
2025-09-06T04:08:42.075388Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.457511ms elapsed_secs=0.045457511
2025-09-06T04:08:42.189409Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.004402ms elapsed_secs=0.053004402
2025-09-06T04:08:42.303008Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.945399ms elapsed_secs=0.052945399
2025-09-06T04:08:42.417910Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.509348ms elapsed_secs=0.053509348
2025-09-06T04:08:58.850857Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:08:58.995898Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=50.672216ms elapsed_secs=0.050672216
2025-09-06T04:08:59.058311Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=49.851762ms elapsed_secs=0.049851762
2025-09-06T04:08:59.115316Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=48.876117ms elapsed_secs=0.048876117
2025-09-06T04:08:59.161609Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=46.007708ms elapsed_secs=0.046007708
2025-09-06T04:08:59.170041Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /67ea5dd0-4b28-42bb-ae4a-e8a527236745
2025-09-06T04:08:59.199811Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /67ea5dd0-4b28-42bb-ae4a-e8a527236745/collaterals
2025-09-06T04:08:59.200780Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:08:59.276695Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.152868ms elapsed_secs=0.051152868
2025-09-06T04:08:59.308918Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=54.218181ms elapsed_secs=0.054218181
2025-09-06T04:08:59.310141Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=55.387609ms elapsed_secs=0.055387609
2025-09-06T04:08:59.374087Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.128343ms elapsed_secs=0.045128343
2025-09-06T04:08:59.375524Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /67ea5dd0-4b28-42bb-ae4a-e8a527236745
2025-09-06T04:08:59.480240Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=51.242187ms elapsed_secs=0.051242187
2025-09-06T04:08:59.594517Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.524485ms elapsed_secs=0.052524485
2025-09-06T04:09:01.375279Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:01.483495Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=52.503122ms elapsed_secs=0.052503122
2025-09-06T04:09:01.485873Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:01.584932Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=3 rows_returned=3 elapsed=45.883068ms elapsed_secs=0.045883068
2025-09-06T04:09:03.379517Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:09:03.489729Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=52.84922ms elapsed_secs=0.05284922
2025-09-06T04:09:03.489852Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 110.109246ms
2025-09-06T04:09:03.588205Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.917495ms elapsed_secs=0.045917495
2025-09-06T04:09:03.588602Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=98.541077ms, calc=29.26¬µs
2025-09-06T04:09:03.598795Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.260422ms elapsed_secs=0.052260422
2025-09-06T04:09:03.598938Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=109.032448ms, calc=12.526¬µs
2025-09-06T04:09:03.607414Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.124264ms elapsed_secs=0.059124264
2025-09-06T04:09:03.607545Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=117.542736ms, calc=9.58¬µs
2025-09-06T04:09:03.640143Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:09:03.640298Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:09:03.640814Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:09:03.640931Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:09:03.642429Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:09:03.642529Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:09:03.748529Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:09:03.748921Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:09:03.749859Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:09:03.750035Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:09:03.750228Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:09:03.750479Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:09:03.751274Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:09:03.751503Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:09:03.752211Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:09:03.752356Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:09:03.752587Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:09:03.752959Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:09:03.753615Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:09:03.753964Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:09:03.754884Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:09:03.755213Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:09:03.755776Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:09:03.756248Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:09:04.245777Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=333.835494ms elapsed_secs=0.333835494
2025-09-06T04:09:04.245936Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=755.896634ms, calc=9.602¬µs
2025-09-06T04:09:04.249254Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=343.451653ms elapsed_secs=0.343451653
2025-09-06T04:09:04.249343Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=759.209957ms, calc=4.84¬µs
2025-09-06T04:09:04.252279Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=342.202227ms elapsed_secs=0.342202227
2025-09-06T04:09:04.252352Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=762.021942ms, calc=3.383¬µs
2025-09-06T04:09:04.252381Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 762.504929ms
2025-09-06T04:09:04.437229Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=6 rows_returned=0 elapsed=116.809514ms elapsed_secs=0.116809514
2025-09-06T04:09:04.437347Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 184.935893ms
2025-09-06T04:09:04.439645Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:04.537028Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=46.023544ms elapsed_secs=0.046023544
2025-09-06T04:09:10.778794Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:09:10.891605Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=57.725677ms elapsed_secs=0.057725677
2025-09-06T04:09:10.891741Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 112.694038ms
2025-09-06T04:09:10.986945Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.247671ms elapsed_secs=0.046247671
2025-09-06T04:09:10.987060Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=94.827964ms, calc=8.381¬µs
2025-09-06T04:09:11.001626Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.102947ms elapsed_secs=0.054102947
2025-09-06T04:09:11.001768Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=109.856142ms, calc=10.629¬µs
2025-09-06T04:09:11.004719Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.395847ms elapsed_secs=0.057395847
2025-09-06T04:09:11.004806Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=113.023085ms, calc=3.774¬µs
2025-09-06T04:09:11.008072Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.889608ms elapsed_secs=0.060889608
2025-09-06T04:09:11.008240Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=116.263851ms, calc=9.311¬µs
2025-09-06T04:09:11.014324Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.616579ms elapsed_secs=0.063616579
2025-09-06T04:09:11.014484Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=122.536181ms, calc=11.499¬µs
2025-09-06T04:09:11.017888Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=68.486682ms elapsed_secs=0.068486682
2025-09-06T04:09:11.018013Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=126.055947ms, calc=9.308¬µs
2025-09-06T04:09:11.018061Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 126.29707ms
2025-09-06T04:09:11.193296Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=6 rows_returned=0 elapsed=111.825659ms elapsed_secs=0.111825659
2025-09-06T04:09:11.193451Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 175.34749ms
2025-09-06T04:09:11.196262Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:11.291383Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=45.907297ms elapsed_secs=0.045907297
2025-09-06T04:09:17.860422Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:09:17.967409Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=52.560477ms elapsed_secs=0.052560477
2025-09-06T04:09:17.967544Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 106.743416ms
2025-09-06T04:09:18.060582Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.617927ms elapsed_secs=0.045617927
2025-09-06T04:09:18.060710Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=92.932939ms, calc=9.601¬µs
2025-09-06T04:09:18.078027Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.602714ms elapsed_secs=0.055602714
2025-09-06T04:09:18.078239Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=110.520476ms, calc=13.643¬µs
2025-09-06T04:09:18.090274Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.822331ms elapsed_secs=0.059822331
2025-09-06T04:09:18.090534Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=122.926187ms, calc=15.201¬µs
2025-09-06T04:09:18.095004Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=72.536509ms elapsed_secs=0.072536509
2025-09-06T04:09:18.095271Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=127.491772ms, calc=21.249¬µs
2025-09-06T04:09:18.099859Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=76.88708ms elapsed_secs=0.07688708
2025-09-06T04:09:18.100156Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=132.407592ms, calc=19.422¬µs
2025-09-06T04:09:18.112680Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=80.207819ms elapsed_secs=0.080207819
2025-09-06T04:09:18.113015Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=145.237348ms, calc=29.44¬µs
2025-09-06T04:09:18.113117Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 145.546608ms
2025-09-06T04:09:18.290752Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=6 rows_returned=0 elapsed=117.529045ms elapsed_secs=0.117529045
2025-09-06T04:09:18.290875Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 177.707084ms
2025-09-06T04:09:18.294623Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:18.384454Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=44.635445ms elapsed_secs=0.044635445
2025-09-06T04:09:21.677078Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:09:21.787823Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=52.810605ms elapsed_secs=0.052810605
2025-09-06T04:09:21.787965Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 110.607616ms
2025-09-06T04:09:21.891086Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=47.430844ms elapsed_secs=0.047430844
2025-09-06T04:09:21.891275Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=103.037381ms, calc=11.913¬µs
2025-09-06T04:09:21.894659Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.799023ms elapsed_secs=0.052799023
2025-09-06T04:09:21.894733Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=106.520296ms, calc=4.049¬µs
2025-09-06T04:09:21.897820Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.05568ms elapsed_secs=0.05505568
2025-09-06T04:09:21.897887Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=109.734484ms, calc=4.105¬µs
2025-09-06T04:09:21.900959Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.834071ms elapsed_secs=0.057834071
2025-09-06T04:09:21.901104Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=113.080982ms, calc=8.647¬µs
2025-09-06T04:09:21.904470Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.996397ms elapsed_secs=0.060996397
2025-09-06T04:09:21.904629Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=116.441571ms, calc=9.26¬µs
2025-09-06T04:09:21.907770Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=64.020744ms elapsed_secs=0.064020744
2025-09-06T04:09:21.907885Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=119.686025ms, calc=8.243¬µs
2025-09-06T04:09:21.907938Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 119.942333ms
2025-09-06T04:09:22.036491Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=6 rows_returned=0 elapsed=63.106351ms elapsed_secs=0.063106351
2025-09-06T04:09:22.036619Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 128.639904ms
2025-09-06T04:09:22.041164Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:22.135558Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=44.976212ms elapsed_secs=0.044976212
2025-09-06T04:09:23.965368Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:09:24.070538Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=6 rows_returned=6 elapsed=51.665698ms elapsed_secs=0.051665698
2025-09-06T04:09:24.070649Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 105.030249ms
2025-09-06T04:09:24.168448Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.861795ms elapsed_secs=0.045861795
2025-09-06T04:09:24.168589Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=97.656799ms, calc=11.047¬µs
2025-09-06T04:09:24.183853Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.293399ms elapsed_secs=0.052293399
2025-09-06T04:09:24.184014Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=113.308456ms, calc=18.19¬µs
2025-09-06T04:09:24.187187Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.048365ms elapsed_secs=0.062048365
2025-09-06T04:09:24.187263Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=116.366503ms, calc=3.919¬µs
2025-09-06T04:09:24.190222Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=64.004943ms elapsed_secs=0.064004943
2025-09-06T04:09:24.190300Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=119.51766ms, calc=3.25¬µs
2025-09-06T04:09:24.193664Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=67.353185ms elapsed_secs=0.067353185
2025-09-06T04:09:24.193918Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=123.079078ms, calc=20.238¬µs
2025-09-06T04:09:24.197847Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=70.073628ms elapsed_secs=0.070073628
2025-09-06T04:09:24.198089Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=127.197525ms, calc=16.313¬µs
2025-09-06T04:09:24.198155Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 127.482928ms
2025-09-06T04:09:24.328876Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=6 rows_returned=0 elapsed=62.469166ms elapsed_secs=0.062469166
2025-09-06T04:09:24.329033Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 130.842201ms
2025-09-06T04:09:24.333850Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:09:24.428034Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=46.175935ms elapsed_secs=0.046175935
2025-09-06T04:11:08.165840Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:08.271600Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.121266ms elapsed_secs=0.052121266
2025-09-06T04:11:08.273782Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:08.384601Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=53.288528ms elapsed_secs=0.053288528
2025-09-06T04:11:24.766863Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:11:25.003989Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=129.286623ms elapsed_secs=0.129286623
2025-09-06T04:11:25.172130Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=162.559777ms elapsed_secs=0.162559777
2025-09-06T04:11:25.289185Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=112.46456ms elapsed_secs=0.11246456
2025-09-06T04:11:25.342282Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.888585ms elapsed_secs=0.052888585
2025-09-06T04:11:25.352806Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /9365fb9e-14b3-430a-a1b2-5f7705816160
2025-09-06T04:11:25.381692Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /9365fb9e-14b3-430a-a1b2-5f7705816160/collaterals
2025-09-06T04:11:25.382307Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:25.488032Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.148997ms elapsed_secs=0.052148997
2025-09-06T04:11:25.562296Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=149.248626ms elapsed_secs=0.149248626
2025-09-06T04:11:25.611965Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=173.912204ms elapsed_secs=0.173912204
2025-09-06T04:11:25.658624Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.909765ms elapsed_secs=0.045909765
2025-09-06T04:11:25.660183Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /9365fb9e-14b3-430a-a1b2-5f7705816160
2025-09-06T04:11:25.768696Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=53.470144ms elapsed_secs=0.053470144
2025-09-06T04:11:25.875140Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.516257ms elapsed_secs=0.051516257
2025-09-06T04:11:27.217258Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:27.386005Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=7 rows_returned=7 elapsed=110.14081ms elapsed_secs=0.11014081
2025-09-06T04:11:27.494259Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.910705ms elapsed_secs=0.051910705
2025-09-06T04:11:27.609554Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.644353ms elapsed_secs=0.053644353
2025-09-06T04:11:27.673157Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:27.720713Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.626153ms elapsed_secs=0.054626153
2025-09-06T04:11:27.768826Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=45.502948ms elapsed_secs=0.045502948
2025-09-06T04:11:27.770035Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:27.830573Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.59944ms elapsed_secs=0.05559944
2025-09-06T04:11:27.875647Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.087936ms elapsed_secs=0.052087936
2025-09-06T04:11:27.948552Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.392826ms elapsed_secs=0.052392826
2025-09-06T04:11:28.065846Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.801635ms elapsed_secs=0.051801635
2025-09-06T04:11:28.178471Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.574733ms elapsed_secs=0.053574733
2025-09-06T04:11:28.179918Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:28.388980Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=7 rows_returned=7 elapsed=152.538167ms elapsed_secs=0.152538167
2025-09-06T04:11:28.486623Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.460776ms elapsed_secs=0.045460776
2025-09-06T04:11:28.600543Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.080858ms elapsed_secs=0.053080858
2025-09-06T04:11:28.711884Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.674341ms elapsed_secs=0.052674341
2025-09-06T04:11:28.822321Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.145332ms elapsed_secs=0.053145332
2025-09-06T04:11:28.935220Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.213304ms elapsed_secs=0.052213304
2025-09-06T04:11:29.049139Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.046824ms elapsed_secs=0.053046824
2025-09-06T04:11:29.165797Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.792028ms elapsed_secs=0.054792028
2025-09-06T04:11:39.771139Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:11:39.912031Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=49.30024ms elapsed_secs=0.04930024
2025-09-06T04:11:39.973004Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=50.671626ms elapsed_secs=0.050671626
2025-09-06T04:11:40.028646Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=49.037061ms elapsed_secs=0.049037061
2025-09-06T04:11:40.074771Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=45.681247ms elapsed_secs=0.045681247
2025-09-06T04:11:40.082824Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d789b460-776e-4d10-99dd-337f06c1e234
2025-09-06T04:11:40.106446Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:40.106545Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d789b460-776e-4d10-99dd-337f06c1e234/collaterals
2025-09-06T04:11:40.190611Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.250384ms elapsed_secs=0.052250384
2025-09-06T04:11:40.213860Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.421227ms elapsed_secs=0.052421227
2025-09-06T04:11:40.298441Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.134872ms elapsed_secs=0.052134872
2025-09-06T04:11:40.301535Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /d789b460-776e-4d10-99dd-337f06c1e234
2025-09-06T04:11:40.367942Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=207.759656ms elapsed_secs=0.207759656
2025-09-06T04:11:40.410768Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.320464ms elapsed_secs=0.052320464
2025-09-06T04:11:40.521446Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.5969ms elapsed_secs=0.0535969
2025-09-06T04:11:41.485130Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:41.579516Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=8 rows_returned=8 elapsed=47.097138ms elapsed_secs=0.047097138
2025-09-06T04:11:41.686694Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.3899ms elapsed_secs=0.0523899
2025-09-06T04:11:41.799348Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.974393ms elapsed_secs=0.053974393
2025-09-06T04:11:41.911709Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.62426ms elapsed_secs=0.05262426
2025-09-06T04:11:42.021384Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.124547ms elapsed_secs=0.053124547
2025-09-06T04:11:42.135099Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.061369ms elapsed_secs=0.053061369
2025-09-06T04:11:42.251115Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.20093ms elapsed_secs=0.05520093
2025-09-06T04:11:42.351062Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.396024ms elapsed_secs=0.045396024
2025-09-06T04:11:42.463302Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.782439ms elapsed_secs=0.052782439
2025-09-06T04:11:42.465335Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:42.578575Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=8 rows_returned=8 elapsed=52.681521ms elapsed_secs=0.052681521
2025-09-06T04:11:42.693219Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.379218ms elapsed_secs=0.052379218
2025-09-06T04:11:42.808681Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.410542ms elapsed_secs=0.053410542
2025-09-06T04:11:42.919070Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.372769ms elapsed_secs=0.053372769
2025-09-06T04:11:43.029867Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=54.765169ms elapsed_secs=0.054765169
2025-09-06T04:11:43.129186Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.843546ms elapsed_secs=0.045843546
2025-09-06T04:11:43.241939Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.553904ms elapsed_secs=0.053553904
2025-09-06T04:11:43.354215Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.544024ms elapsed_secs=0.052544024
2025-09-06T04:11:43.473028Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.887641ms elapsed_secs=0.053887641
2025-09-06T04:11:47.348842Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:47.561375Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=153.401607ms elapsed_secs=0.153401607
2025-09-06T04:11:47.563571Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:11:47.773764Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=148.753304ms elapsed_secs=0.148753304
2025-09-06T04:12:07.310667Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:12:07.564992Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=140.587277ms elapsed_secs=0.140587277
2025-09-06T04:12:07.702967Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=122.576199ms elapsed_secs=0.122576199
2025-09-06T04:12:07.821286Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=116.140057ms elapsed_secs=0.116140057
2025-09-06T04:12:07.878461Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=56.92489ms elapsed_secs=0.05692489
2025-09-06T04:12:07.888870Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /ccc9902b-04cd-4cfd-ae70-da14ba075e34
2025-09-06T04:12:07.914025Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /ccc9902b-04cd-4cfd-ae70-da14ba075e34/collaterals
2025-09-06T04:12:07.914680Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:07.981922Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=44.233966ms elapsed_secs=0.044233966
2025-09-06T04:12:08.020035Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.97153ms elapsed_secs=0.05197153
2025-09-06T04:12:08.025934Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=55.335012ms elapsed_secs=0.055335012
2025-09-06T04:12:08.089599Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.7903ms elapsed_secs=0.0517903
2025-09-06T04:12:08.094430Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /ccc9902b-04cd-4cfd-ae70-da14ba075e34
2025-09-06T04:12:08.263902Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=108.046949ms elapsed_secs=0.108046949
2025-09-06T04:12:08.377221Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.316113ms elapsed_secs=0.053316113
2025-09-06T04:12:09.602017Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:09.716084Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=9 rows_returned=9 elapsed=55.287951ms elapsed_secs=0.055287951
2025-09-06T04:12:09.809370Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.126423ms elapsed_secs=0.045126423
2025-09-06T04:12:09.915333Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.739371ms elapsed_secs=0.051739371
2025-09-06T04:12:10.021362Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.295021ms elapsed_secs=0.052295021
2025-09-06T04:12:10.052687Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:10.128190Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.132871ms elapsed_secs=0.052132871
2025-09-06T04:12:10.160808Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=52.48885ms elapsed_secs=0.05248885
2025-09-06T04:12:10.162690Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:10.236633Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.845664ms elapsed_secs=0.052845664
2025-09-06T04:12:10.332931Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=47.183606ms elapsed_secs=0.047183606
2025-09-06T04:12:10.372056Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=149.437664ms elapsed_secs=0.149437664
2025-09-06T04:12:10.442576Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.531024ms elapsed_secs=0.055531024
2025-09-06T04:12:10.554460Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.419114ms elapsed_secs=0.052419114
2025-09-06T04:12:10.667940Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.380411ms elapsed_secs=0.053380411
2025-09-06T04:12:10.670218Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:10.792518Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=9 rows_returned=9 elapsed=54.20731ms elapsed_secs=0.05420731
2025-09-06T04:12:10.921486Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.454455ms elapsed_secs=0.054454455
2025-09-06T04:12:11.015337Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.936265ms elapsed_secs=0.044936265
2025-09-06T04:12:11.135257Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.789405ms elapsed_secs=0.056789405
2025-09-06T04:12:11.245100Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=52.736048ms elapsed_secs=0.052736048
2025-09-06T04:12:11.354856Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.704775ms elapsed_secs=0.052704775
2025-09-06T04:12:11.466715Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.580417ms elapsed_secs=0.052580417
2025-09-06T04:12:11.583325Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.212242ms elapsed_secs=0.055212242
2025-09-06T04:12:11.701512Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.489425ms elapsed_secs=0.055489425
2025-09-06T04:12:11.798612Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.327593ms elapsed_secs=0.045327593
2025-09-06T04:12:32.844717Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /create
2025-09-06T04:12:33.014291Z DEBUG sqlx::query: summary="INSERT INTO loan_counters_monthly (tenant_id, ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_counters_monthly (tenant_id, period_ym, counter, updated_at)\nVALUES\n  ($1, $2, 1, now()) ON CONFLICT (tenant_id, period_ym) DO\nUPDATE\nSET\n  counter = loan_counters_monthly.counter + 1,\n  updated_at = now()\nRETURNING\n  counter\n" rows_affected=0 rows_returned=1 elapsed=58.607311ms elapsed_secs=0.058607311
2025-09-06T04:12:33.084650Z DEBUG sqlx::query: summary="INSERT INTO loan_contract ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_contract (\n    tenant_id,\n    contact_id,\n    contract_number,\n    interest_rate,\n    term_months,\n    date_start,\n    date_end,\n    storage_fee_rate,\n    storage_fee,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_settlement_amount,\n    state,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  (\n    $1,\n    $2,\n    $3,\n    $4,\n    $5,\n    $6,\n    $7,\n    $8,\n    $9,\n    $10,\n    $11,\n    $12,\n    $13,\n    $14,\n    $15,\n    $16,\n    $17,\n    $18\n  )\nRETURNING\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\n" rows_affected=0 rows_returned=1 elapsed=60.277538ms elapsed_secs=0.060277538
2025-09-06T04:12:33.154051Z DEBUG sqlx::query: summary="INSERT INTO loan_transaction ( ‚Ä¶" db.statement="\n\nINSERT INTO\n  loan_transaction (\n    contract_id,\n    tenant_id,\n    contact_id,\n    transaction_type,\n    amount,\n    \"date\",\n    note,\n    created_by,\n    assignee_id,\n    shared_with\n  )\nVALUES\n  ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n" rows_affected=1 rows_returned=0 elapsed=59.804835ms elapsed_secs=0.059804835
2025-09-06T04:12:33.209852Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=55.276756ms elapsed_secs=0.055276756
2025-09-06T04:12:33.217346Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /8e85d33b-49de-463d-8058-fbe7b24051a4
2025-09-06T04:12:33.239407Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /8e85d33b-49de-463d-8058-fbe7b24051a4/collaterals
2025-09-06T04:12:33.240486Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /list
2025-09-06T04:12:33.328179Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.375644ms elapsed_secs=0.052375644
2025-09-06T04:12:33.348891Z DEBUG sqlx::query: summary="SELECT id, COALESCE(NULLIF(name,''), display_name, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  COALESCE(\n    NULLIF(name, ''),\n    display_name,\n    email,\n    phone,\n    '(kh√¥ng t√™n)'\n  ) AS \"name!: String\",\n  display_name,\n  email,\n  phone,\n  is_company,\n  NULLIF(tags_cached, '') AS \"tags?: String\"\nFROM\n  contact\nWHERE\n  tenant_id = $1\n  AND (\n    $2 :: bool IS NULL\n    OR is_company = $2\n  )\nORDER BY\n  created_at DESC\nLIMIT\n  $3 OFFSET $4\n" rows_affected=1 rows_returned=1 elapsed=51.405219ms elapsed_secs=0.051405219
2025-09-06T04:12:33.361072Z DEBUG sqlx::query: summary="SELECT a.tenant_id, a.asset_id, a.asset_type, ‚Ä¶" db.statement="\n\nSELECT\n  a.tenant_id,\n  a.asset_id,\n  a.asset_type,\n  a.description,\n  a.value_estimate,\n  a.owner_contact_id,\n  a.status,\n  a.created_by,\n  a.created_at\nFROM\n  loan_collateral lc\n  JOIN collateral_assets a ON lc.tenant_id = a.tenant_id\n  AND lc.asset_id = a.asset_id\nWHERE\n  lc.tenant_id = $1\n  AND lc.contract_id = $2\n  AND lc.status = 'active'\nORDER BY\n  a.created_at DESC\n" rows_affected=0 rows_returned=0 elapsed=58.330005ms elapsed_secs=0.058330005
2025-09-06T04:12:33.437016Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.454048ms elapsed_secs=0.052454048
2025-09-06T04:12:33.438862Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /8e85d33b-49de-463d-8058-fbe7b24051a4
2025-09-06T04:12:33.551810Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\n  AND id = $2\n" rows_affected=0 rows_returned=1 elapsed=52.072012ms elapsed_secs=0.052072012
2025-09-06T04:12:33.647368Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.695672ms elapsed_secs=0.045695672
2025-09-06T04:12:36.124782Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:36.343081Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=156.825091ms elapsed_secs=0.156825091
2025-09-06T04:12:36.346490Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:36.451337Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=6 rows_returned=6 elapsed=51.947144ms elapsed_secs=0.051947144
2025-09-06T04:12:38.055524Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:38.175352Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=54.012303ms elapsed_secs=0.054012303
2025-09-06T04:12:38.175481Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 119.723421ms
2025-09-06T04:12:38.272897Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.791213ms elapsed_secs=0.045791213
2025-09-06T04:12:38.273011Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=97.295027ms, calc=8.217¬µs
2025-09-06T04:12:38.285924Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.265461ms elapsed_secs=0.053265461
2025-09-06T04:12:38.286070Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=110.407294ms, calc=10.453¬µs
2025-09-06T04:12:38.289151Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.595408ms elapsed_secs=0.059595408
2025-09-06T04:12:38.289236Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=113.44802ms, calc=3.581¬µs
2025-09-06T04:12:38.292466Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.315245ms elapsed_secs=0.062315245
2025-09-06T04:12:38.292568Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=117.036854ms, calc=6.427¬µs
2025-09-06T04:12:38.296715Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.229569ms elapsed_secs=0.065229569
2025-09-06T04:12:38.296899Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=121.207362ms, calc=14.341¬µs
2025-09-06T04:12:38.300107Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=68.437522ms elapsed_secs=0.068437522
2025-09-06T04:12:38.300223Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=124.475471ms, calc=11.14¬µs
2025-09-06T04:12:38.381654Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.918999ms elapsed_secs=0.051918999
2025-09-06T04:12:38.381765Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=108.70977ms, calc=7.858¬µs
2025-09-06T04:12:38.478863Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:12:38.479795Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:12:38.480886Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:12:38.481636Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:12:38.494973Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:12:38.495776Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:12:38.585891Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:12:38.586328Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:12:38.587184Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:12:38.587355Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:12:38.587521Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:12:38.587723Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:12:38.588488Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:12:38.588731Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:12:38.589437Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:12:38.589593Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:12:38.589667Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:12:38.589915Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:12:38.617183Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:12:38.617380Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:12:38.617998Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:12:38.618161Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:12:38.618268Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:12:38.618431Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:12:39.067780Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=336.169869ms elapsed_secs=0.336169869
2025-09-06T04:12:39.067906Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=775.108072ms, calc=9.491¬µs
2025-09-06T04:12:39.070930Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=340.292978ms elapsed_secs=0.340292978
2025-09-06T04:12:39.070998Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=778.371486ms, calc=4.499¬µs
2025-09-06T04:12:39.114550Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=332.797145ms elapsed_secs=0.332797145
2025-09-06T04:12:39.114667Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=814.361575ms, calc=8.002¬µs
2025-09-06T04:12:39.114701Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 939.194586ms
2025-09-06T04:12:39.292155Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=117.320866ms elapsed_secs=0.117320866
2025-09-06T04:12:39.292297Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 177.557122ms
2025-09-06T04:12:39.294820Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:39.498914Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=146.975106ms elapsed_secs=0.146975106
2025-09-06T04:12:43.863978Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:43.969466Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=51.941382ms elapsed_secs=0.051941382
2025-09-06T04:12:43.969619Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 105.375941ms
2025-09-06T04:12:44.076613Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.820145ms elapsed_secs=0.052820145
2025-09-06T04:12:44.076742Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=107.055055ms, calc=9.749¬µs
2025-09-06T04:12:44.079962Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=56.332226ms elapsed_secs=0.056332226
2025-09-06T04:12:44.080083Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=110.166558ms, calc=10.334¬µs
2025-09-06T04:12:44.083563Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.680174ms elapsed_secs=0.059680174
2025-09-06T04:12:44.083746Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=113.803808ms, calc=18.609¬µs
2025-09-06T04:12:44.087791Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.520844ms elapsed_secs=0.063520844
2025-09-06T04:12:44.087977Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=118.083014ms, calc=10.892¬µs
2025-09-06T04:12:44.091172Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=67.256597ms elapsed_secs=0.067256597
2025-09-06T04:12:44.091401Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=121.537883ms, calc=12.563¬µs
2025-09-06T04:12:44.094961Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.933913ms elapsed_secs=0.068933913
2025-09-06T04:12:44.095118Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=125.242258ms, calc=9.056¬µs
2025-09-06T04:12:44.176671Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=44.920005ms elapsed_secs=0.044920005
2025-09-06T04:12:44.176911Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=93.075295ms, calc=15.186¬µs
2025-09-06T04:12:44.201567Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.879749ms elapsed_secs=0.051879749
2025-09-06T04:12:44.201689Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=106.416356ms, calc=8.446¬µs
2025-09-06T04:12:44.204921Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.276453ms elapsed_secs=0.055276453
2025-09-06T04:12:44.205032Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=109.874445ms, calc=7.984¬µs
2025-09-06T04:12:44.208938Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.188279ms elapsed_secs=0.065188279
2025-09-06T04:12:44.209130Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=128.970258ms, calc=14.024¬µs
2025-09-06T04:12:44.209207Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 239.554019ms
2025-09-06T04:12:44.387874Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=115.728046ms elapsed_secs=0.115728046
2025-09-06T04:12:44.388054Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 178.79573ms
2025-09-06T04:12:44.392786Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:44.582948Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=137.604149ms elapsed_secs=0.137604149
2025-09-06T04:12:47.002121Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:47.223505Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=167.104824ms elapsed_secs=0.167104824
2025-09-06T04:12:47.223624Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 221.135968ms
2025-09-06T04:12:47.317023Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.695847ms elapsed_secs=0.045695847
2025-09-06T04:12:47.317178Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=93.368195ms, calc=11.849¬µs
2025-09-06T04:12:47.331087Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=51.860722ms elapsed_secs=0.051860722
2025-09-06T04:12:47.331515Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=107.679022ms, calc=21.234¬µs
2025-09-06T04:12:47.342914Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.45057ms elapsed_secs=0.05745057
2025-09-06T04:12:47.343164Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=119.479293ms, calc=16.248¬µs
2025-09-06T04:12:47.347746Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.981386ms elapsed_secs=0.068981386
2025-09-06T04:12:47.347952Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=124.178558ms, calc=12.251¬µs
2025-09-06T04:12:47.352556Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=72.721051ms elapsed_secs=0.072721051
2025-09-06T04:12:47.352847Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=128.998008ms, calc=13.42¬µs
2025-09-06T04:12:47.362093Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=77.178634ms elapsed_secs=0.077178634
2025-09-06T04:12:47.362263Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=138.465361ms, calc=13.817¬µs
2025-09-06T04:12:47.441301Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.935644ms elapsed_secs=0.060935644
2025-09-06T04:12:47.441550Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=124.303318ms, calc=22.456¬µs
2025-09-06T04:12:47.451936Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.378415ms elapsed_secs=0.052378415
2025-09-06T04:12:47.452112Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=108.734279ms, calc=11.923¬µs
2025-09-06T04:12:47.456355Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.13713ms elapsed_secs=0.05713713
2025-09-06T04:12:47.456774Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=113.507381ms, calc=19.774¬µs
2025-09-06T04:12:47.475905Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.104807ms elapsed_secs=0.055104807
2025-09-06T04:12:47.476256Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=113.739117ms, calc=20.864¬µs
2025-09-06T04:12:47.476360Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 252.71244ms
2025-09-06T04:12:47.592472Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=59.184064ms elapsed_secs=0.059184064
2025-09-06T04:12:47.592649Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 116.215534ms
2025-09-06T04:12:47.597203Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:47.701323Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=51.4278ms elapsed_secs=0.0514278
2025-09-06T04:12:48.534971Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:48.641722Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.231454ms elapsed_secs=0.053231454
2025-09-06T04:12:48.641855Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 106.638247ms
2025-09-06T04:12:48.748692Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.722197ms elapsed_secs=0.051722197
2025-09-06T04:12:48.748821Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=106.90591ms, calc=9.118¬µs
2025-09-06T04:12:48.752143Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.672168ms elapsed_secs=0.055672168
2025-09-06T04:12:48.752247Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=110.195077ms, calc=8.373¬µs
2025-09-06T04:12:48.755286Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=57.775035ms elapsed_secs=0.057775035
2025-09-06T04:12:48.755441Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=113.255971ms, calc=15.361¬µs
2025-09-06T04:12:48.759045Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.629178ms elapsed_secs=0.060629178
2025-09-06T04:12:48.759612Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=117.170126ms, calc=240.338¬µs
2025-09-06T04:12:48.764564Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.145355ms elapsed_secs=0.065145355
2025-09-06T04:12:48.764722Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=122.636066ms, calc=10.594¬µs
2025-09-06T04:12:48.768089Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.083889ms elapsed_secs=0.063083889
2025-09-06T04:12:48.768192Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=126.061564ms, calc=6.11¬µs
2025-09-06T04:12:48.856569Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.719423ms elapsed_secs=0.052719423
2025-09-06T04:12:48.856702Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=107.826004ms, calc=11.158¬µs
2025-09-06T04:12:48.859919Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=48.164496ms elapsed_secs=0.048164496
2025-09-06T04:12:48.859994Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=95.208948ms, calc=4.186¬µs
2025-09-06T04:12:48.871436Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.464101ms elapsed_secs=0.052464101
2025-09-06T04:12:48.871549Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=106.650593ms, calc=8.167¬µs
2025-09-06T04:12:48.874520Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.009064ms elapsed_secs=0.056009064
2025-09-06T04:12:48.874648Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=109.768774ms, calc=8.286¬µs
2025-09-06T04:12:48.874702Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 232.818144ms
2025-09-06T04:12:49.095680Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=150.475562ms elapsed_secs=0.150475562
2025-09-06T04:12:49.095870Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 221.131033ms
2025-09-06T04:12:49.100028Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:49.209179Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.645639ms elapsed_secs=0.053645639
2025-09-06T04:12:50.053011Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:50.260140Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=150.774359ms elapsed_secs=0.150774359
2025-09-06T04:12:50.260288Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 207.063718ms
2025-09-06T04:12:50.357138Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.659138ms elapsed_secs=0.045659138
2025-09-06T04:12:50.357267Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=96.740359ms, calc=9.313¬µs
2025-09-06T04:12:50.371563Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=53.071409ms elapsed_secs=0.053071409
2025-09-06T04:12:50.371691Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=111.140034ms, calc=11.246¬µs
2025-09-06T04:12:50.374751Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.657399ms elapsed_secs=0.059657399
2025-09-06T04:12:50.374842Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=114.508373ms, calc=4.367¬µs
2025-09-06T04:12:50.377898Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=61.893385ms elapsed_secs=0.061893385
2025-09-06T04:12:50.378403Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=117.82941ms, calc=11.246¬µs
2025-09-06T04:12:50.383759Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=64.673109ms elapsed_secs=0.064673109
2025-09-06T04:12:50.383934Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=123.454444ms, calc=24.445¬µs
2025-09-06T04:12:50.387010Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=63.63389ms elapsed_secs=0.06363389
2025-09-06T04:12:50.387102Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=126.605599ms, calc=5.493¬µs
2025-09-06T04:12:50.464500Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.760149ms elapsed_secs=0.051760149
2025-09-06T04:12:50.464633Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=107.298129ms, calc=8.045¬µs
2025-09-06T04:12:50.483111Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.444716ms elapsed_secs=0.052444716
2025-09-06T04:12:50.483228Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=108.334968ms, calc=8.025¬µs
2025-09-06T04:12:50.488483Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.319544ms elapsed_secs=0.056319544
2025-09-06T04:12:50.488671Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=113.703121ms, calc=13.362¬µs
2025-09-06T04:12:50.494094Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.557363ms elapsed_secs=0.054557363
2025-09-06T04:12:50.494268Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=110.275409ms, calc=9.718¬µs
2025-09-06T04:12:50.494348Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 234.03261ms
2025-09-06T04:12:50.617355Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=61.980425ms elapsed_secs=0.061980425
2025-09-06T04:12:50.617487Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 123.08106ms
2025-09-06T04:12:50.621422Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:50.820703Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=143.929401ms elapsed_secs=0.143929401
2025-09-06T04:12:51.461010Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:51.570184Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.83318ms elapsed_secs=0.05383318
2025-09-06T04:12:51.570470Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 109.19374ms
2025-09-06T04:12:51.684428Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.830765ms elapsed_secs=0.052830765
2025-09-06T04:12:51.684569Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=113.641983ms, calc=10.707¬µs
2025-09-06T04:12:51.687562Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.622867ms elapsed_secs=0.062622867
2025-09-06T04:12:51.687647Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=117.106001ms, calc=3.902¬µs
2025-09-06T04:12:51.690692Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=65.326732ms elapsed_secs=0.065326732
2025-09-06T04:12:51.690770Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=119.768506ms, calc=3.225¬µs
2025-09-06T04:12:51.694984Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=68.500145ms elapsed_secs=0.068500145
2025-09-06T04:12:51.695155Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=124.177174ms, calc=11.191¬µs
2025-09-06T04:12:51.698442Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=71.280383ms elapsed_secs=0.071280383
2025-09-06T04:12:51.698606Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=127.785717ms, calc=11.891¬µs
2025-09-06T04:12:51.702961Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.498427ms elapsed_secs=0.068498427
2025-09-06T04:12:51.703095Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=132.204769ms, calc=8.16¬µs
2025-09-06T04:12:51.791046Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.993523ms elapsed_secs=0.045993523
2025-09-06T04:12:51.791196Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=100.311745ms, calc=9.698¬µs
2025-09-06T04:12:51.798413Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.803648ms elapsed_secs=0.052803648
2025-09-06T04:12:51.798578Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=107.766002ms, calc=12.047¬µs
2025-09-06T04:12:51.811689Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.287059ms elapsed_secs=0.052287059
2025-09-06T04:12:51.811802Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=108.571421ms, calc=7.208¬µs
2025-09-06T04:12:51.816321Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.213331ms elapsed_secs=0.056213331
2025-09-06T04:12:51.816564Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=113.401743ms, calc=16.239¬µs
2025-09-06T04:12:51.816717Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 246.201144ms
2025-09-06T04:12:52.005630Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=119.023371ms elapsed_secs=0.119023371
2025-09-06T04:12:52.005802Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 188.958227ms
2025-09-06T04:12:52.010543Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:52.118781Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.76224ms elapsed_secs=0.05276224
2025-09-06T04:12:52.840412Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:52.952917Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.919473ms elapsed_secs=0.053919473
2025-09-06T04:12:52.953062Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 112.420554ms
2025-09-06T04:12:53.049456Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.041879ms elapsed_secs=0.046041879
2025-09-06T04:12:53.049580Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=96.120531ms, calc=7.713¬µs
2025-09-06T04:12:53.060993Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.473916ms elapsed_secs=0.052473916
2025-09-06T04:12:53.061126Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=108.00085ms, calc=10.353¬µs
2025-09-06T04:12:53.064532Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.253069ms elapsed_secs=0.055253069
2025-09-06T04:12:53.064603Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=111.102875ms, calc=4.926¬µs
2025-09-06T04:12:53.068225Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.607584ms elapsed_secs=0.057607584
2025-09-06T04:12:53.068485Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=114.912775ms, calc=15.699¬µs
2025-09-06T04:12:53.071906Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.611557ms elapsed_secs=0.060611557
2025-09-06T04:12:53.071999Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=118.669323ms, calc=5.398¬µs
2025-09-06T04:12:53.077029Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.98074ms elapsed_secs=0.05998074
2025-09-06T04:12:53.077162Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=123.747398ms, calc=8.755¬µs
2025-09-06T04:12:53.162685Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.887118ms elapsed_secs=0.052887118
2025-09-06T04:12:53.162820Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=113.19581ms, calc=10.244¬µs
2025-09-06T04:12:53.166993Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.735555ms elapsed_secs=0.051735555
2025-09-06T04:12:53.167075Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=105.898763ms, calc=5.381¬µs
2025-09-06T04:12:53.178563Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.446799ms elapsed_secs=0.052446799
2025-09-06T04:12:53.178886Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=110.29927ms, calc=18.613¬µs
2025-09-06T04:12:53.182873Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.529406ms elapsed_secs=0.059529406
2025-09-06T04:12:53.182955Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=114.269192ms, calc=5.039¬µs
2025-09-06T04:12:53.183009Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 229.916308ms
2025-09-06T04:12:53.303658Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=60.91398ms elapsed_secs=0.06091398
2025-09-06T04:12:53.303797Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 120.742951ms
2025-09-06T04:12:53.307597Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:53.490062Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=125.94179ms elapsed_secs=0.12594179
2025-09-06T04:12:54.379391Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:54.486348Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=51.930937ms elapsed_secs=0.051930937
2025-09-06T04:12:54.486502Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 106.866285ms
2025-09-06T04:12:54.598415Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.427768ms elapsed_secs=0.052427768
2025-09-06T04:12:54.598557Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=112.004257ms, calc=8.739¬µs
2025-09-06T04:12:54.601762Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.7186ms elapsed_secs=0.0607186
2025-09-06T04:12:54.601840Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=114.691662ms, calc=4.628¬µs
2025-09-06T04:12:54.604819Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.607923ms elapsed_secs=0.063607923
2025-09-06T04:12:54.604894Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=117.925658ms, calc=4.191¬µs
2025-09-06T04:12:54.608212Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.554074ms elapsed_secs=0.066554074
2025-09-06T04:12:54.608358Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=121.545685ms, calc=9.096¬µs
2025-09-06T04:12:54.612132Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.855988ms elapsed_secs=0.068855988
2025-09-06T04:12:54.612355Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=125.652834ms, calc=15.639¬µs
2025-09-06T04:12:54.615587Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=67.106493ms elapsed_secs=0.067106493
2025-09-06T04:12:54.615712Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=128.946033ms, calc=8.335¬µs
2025-09-06T04:12:54.714341Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.295564ms elapsed_secs=0.053295564
2025-09-06T04:12:54.714498Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=115.890517ms, calc=10.285¬µs
2025-09-06T04:12:54.719025Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.378728ms elapsed_secs=0.058378728
2025-09-06T04:12:54.719153Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=106.718993ms, calc=8.556¬µs
2025-09-06T04:12:54.723194Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.39032ms elapsed_secs=0.05639032
2025-09-06T04:12:54.723401Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=110.785962ms, calc=12.727¬µs
2025-09-06T04:12:54.726708Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.204736ms elapsed_secs=0.060204736
2025-09-06T04:12:54.726827Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=114.284024ms, calc=7.759¬µs
2025-09-06T04:12:54.726865Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 240.338422ms
2025-09-06T04:12:54.866549Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=66.526277ms elapsed_secs=0.066526277
2025-09-06T04:12:54.866701Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 139.789226ms
2025-09-06T04:12:54.872080Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:54.983104Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=51.9281ms elapsed_secs=0.0519281
2025-09-06T04:12:57.637559Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:12:57.752491Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.124431ms elapsed_secs=0.053124431
2025-09-06T04:12:57.752623Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 114.795841ms
2025-09-06T04:12:57.858820Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=46.056617ms elapsed_secs=0.046056617
2025-09-06T04:12:57.858939Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=105.560535ms, calc=8.737¬µs
2025-09-06T04:12:57.873960Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.39556ms elapsed_secs=0.05439556
2025-09-06T04:12:57.874090Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=120.969757ms, calc=9.406¬µs
2025-09-06T04:12:57.877331Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.329437ms elapsed_secs=0.066329437
2025-09-06T04:12:57.877411Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=124.73605ms, calc=5.061¬µs
2025-09-06T04:12:57.882230Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=68.088919ms elapsed_secs=0.068088919
2025-09-06T04:12:57.882389Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=128.823878ms, calc=8.809¬µs
2025-09-06T04:12:57.885509Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=73.39663ms elapsed_secs=0.07339663
2025-09-06T04:12:57.885610Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=132.751604ms, calc=5.844¬µs
2025-09-06T04:12:57.889045Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=67.541786ms elapsed_secs=0.067541786
2025-09-06T04:12:57.889126Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=136.188639ms, calc=5.122¬µs
2025-09-06T04:12:57.976426Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.247191ms elapsed_secs=0.054247191
2025-09-06T04:12:57.976744Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=117.732369ms, calc=26.682¬µs
2025-09-06T04:12:57.982188Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.211174ms elapsed_secs=0.052211174
2025-09-06T04:12:57.982269Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=108.127121ms, calc=4.738¬µs
2025-09-06T04:12:57.994227Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.352603ms elapsed_secs=0.052352603
2025-09-06T04:12:57.994351Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=108.68958ms, calc=9.306¬µs
2025-09-06T04:12:57.997556Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=58.012405ms elapsed_secs=0.058012405
2025-09-06T04:12:57.997630Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=111.906944ms, calc=4.725¬µs
2025-09-06T04:12:57.997668Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 245.018094ms
2025-09-06T04:12:58.118607Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=64.320298ms elapsed_secs=0.064320298
2025-09-06T04:12:58.118750Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 121.048179ms
2025-09-06T04:12:58.122413Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:12:58.230522Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.546723ms elapsed_secs=0.053546723
2025-09-06T04:13:35.505982Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:13:35.612284Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=52.695205ms elapsed_secs=0.052695205
2025-09-06T04:13:35.612395Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 106.192415ms
2025-09-06T04:13:35.724197Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.557788ms elapsed_secs=0.052557788
2025-09-06T04:13:35.724361Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=111.771922ms, calc=10.91¬µs
2025-09-06T04:13:35.727581Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.674458ms elapsed_secs=0.060674458
2025-09-06T04:13:35.727679Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=115.242472ms, calc=5.184¬µs
2025-09-06T04:13:35.730816Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=64.048266ms elapsed_secs=0.064048266
2025-09-06T04:13:35.730908Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=118.347975ms, calc=5.59¬µs
2025-09-06T04:13:35.735524Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=67.118781ms elapsed_secs=0.067118781
2025-09-06T04:13:35.735666Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=123.087849ms, calc=11.132¬µs
2025-09-06T04:13:35.742913Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=70.674509ms elapsed_secs=0.070674509
2025-09-06T04:13:35.743098Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=130.565132ms, calc=13.32¬µs
2025-09-06T04:13:35.746573Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=72.160004ms elapsed_secs=0.072160004
2025-09-06T04:13:35.746688Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=134.141299ms, calc=6.894¬µs
2025-09-06T04:13:35.821370Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.315137ms elapsed_secs=0.045315137
2025-09-06T04:13:35.821486Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=93.644283ms, calc=7.556¬µs
2025-09-06T04:13:35.836116Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.121381ms elapsed_secs=0.052121381
2025-09-06T04:13:35.836266Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=108.509865ms, calc=11.591¬µs
2025-09-06T04:13:35.854041Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.861133ms elapsed_secs=0.052861133
2025-09-06T04:13:35.854160Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=107.321373ms, calc=7.325¬µs
2025-09-06T04:13:35.857297Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.2641ms elapsed_secs=0.0562641
2025-09-06T04:13:35.857366Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=110.627241ms, calc=3.951¬µs
2025-09-06T04:13:35.857393Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 244.978748ms
2025-09-06T04:13:36.045441Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=119.675525ms elapsed_secs=0.119675525
2025-09-06T04:13:36.045571Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 188.14419ms
2025-09-06T04:13:36.049364Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:13:36.157958Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.928909ms elapsed_secs=0.052928909
2025-09-06T04:15:39.233497Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:15:39.234683Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:15:39.533447Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:15:39.535413Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:15:39.644713Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=51.925607ms elapsed_secs=0.051925607
2025-09-06T04:15:39.646161Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:15:39.732723Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=144.142572ms elapsed_secs=0.144142572
2025-09-06T04:15:39.755423Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=54.381502ms elapsed_secs=0.054381502
2025-09-06T04:15:39.925082Z DEBUG sqlx::query: summary="SELECT role_id FROM user_roles ‚Ä¶" db.statement="\n\nSELECT\n  role_id\nFROM\n  user_roles\nWHERE\n  tenant_id = $1\n  AND user_id = $2\n" rows_affected=0 rows_returned=0 elapsed=132.507818ms elapsed_secs=0.132507818
2025-09-06T04:15:39.926334Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:15:40.092575Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=121.350569ms elapsed_secs=0.121350569
2025-09-06T04:15:40.248870Z DEBUG sqlx::query: summary="SELECT role_id FROM user_roles ‚Ä¶" db.statement="\n\nSELECT\n  role_id\nFROM\n  user_roles\nWHERE\n  tenant_id = $1\n  AND user_id = $2\n" rows_affected=0 rows_returned=0 elapsed=103.566609ms elapsed_secs=0.103566609
2025-09-06T04:16:25.223382Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:16:25.225193Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:16:25.536725Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:16:25.743329Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=153.939024ms elapsed_secs=0.153939024
2025-09-06T04:16:25.929221Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=133.800755ms elapsed_secs=0.133800755
2025-09-06T04:16:25.931718Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:16:26.121495Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=136.623819ms elapsed_secs=0.136623819
2025-09-06T04:16:26.321765Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=146.59492ms elapsed_secs=0.14659492
2025-09-06T04:16:29.592819Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:16:29.698872Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.580366ms elapsed_secs=0.052580366
2025-09-06T04:16:29.701060Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:16:29.807564Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.13587ms elapsed_secs=0.05313587
2025-09-06T04:16:30.958690Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:16:31.072562Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=55.462603ms elapsed_secs=0.055462603
2025-09-06T04:16:31.072675Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 113.755883ms
2025-09-06T04:16:31.169425Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.06079ms elapsed_secs=0.04606079
2025-09-06T04:16:31.169542Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=96.706443ms, calc=7.675¬µs
2025-09-06T04:16:31.180794Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.554936ms elapsed_secs=0.051554936
2025-09-06T04:16:31.180929Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=108.049441ms, calc=9.589¬µs
2025-09-06T04:16:31.183961Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.580086ms elapsed_secs=0.056580086
2025-09-06T04:16:31.184048Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=111.089978ms, calc=4.122¬µs
2025-09-06T04:16:31.189667Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.510138ms elapsed_secs=0.059510138
2025-09-06T04:16:31.189907Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=116.980966ms, calc=14.311¬µs
2025-09-06T04:16:31.193266Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=65.058229ms elapsed_secs=0.065058229
2025-09-06T04:16:31.193364Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=120.416363ms, calc=7.773¬µs
2025-09-06T04:16:31.196551Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=61.71822ms elapsed_secs=0.06171822
2025-09-06T04:16:31.196641Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=123.921395ms, calc=5.097¬µs
2025-09-06T04:16:31.276183Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.429007ms elapsed_secs=0.051429007
2025-09-06T04:16:31.276302Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=106.717066ms, calc=9.193¬µs
2025-09-06T04:16:31.291153Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=52.107182ms elapsed_secs=0.052107182
2025-09-06T04:16:31.291364Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=107.258674ms, calc=15.083¬µs
2025-09-06T04:16:31.299241Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.620383ms elapsed_secs=0.055620383
2025-09-06T04:16:31.299423Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=115.231117ms, calc=14.427¬µs
2025-09-06T04:16:31.302963Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.696192ms elapsed_secs=0.053696192
2025-09-06T04:16:31.303038Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=109.623137ms, calc=4.194¬µs
2025-09-06T04:16:31.303081Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 230.382066ms
2025-09-06T04:16:31.423793Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=59.02989ms elapsed_secs=0.05902989
2025-09-06T04:16:31.423919Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 120.806409ms
2025-09-06T04:16:31.426023Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:16:31.530900Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=51.678957ms elapsed_secs=0.051678957
2025-09-06T04:18:55.958232Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:18:55.960637Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:18:56.672654Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:18:56.678582Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:18:56.688895Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:18:56.779043Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.05436ms elapsed_secs=0.05205436
2025-09-06T04:18:56.782166Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:18:56.787971Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=54.662672ms elapsed_secs=0.054662672
2025-09-06T04:18:56.797438Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.322856ms elapsed_secs=0.053322856
2025-09-06T04:18:56.892771Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=52.27426ms elapsed_secs=0.05227426
2025-09-06T04:18:57.000139Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=154.788812ms elapsed_secs=0.154788812
2025-09-06T04:18:57.105216Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=52.94143ms elapsed_secs=0.05294143
2025-09-06T04:19:01.605914Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:01.610601Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:02.629475Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:02.632397Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:02.639349Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:02.641561Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:02.733752Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=46.401942ms elapsed_secs=0.046401942
2025-09-06T04:19:02.737725Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.906296ms elapsed_secs=0.052906296
2025-09-06T04:19:02.748140Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=53.160135ms elapsed_secs=0.053160135
2025-09-06T04:19:02.851640Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=164.069128ms elapsed_secs=0.164069128
2025-09-06T04:19:02.936634Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=134.822935ms elapsed_secs=0.134822935
2025-09-06T04:19:03.039625Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=135.352592ms elapsed_secs=0.135352592
2025-09-06T04:19:05.936899Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:05.949967Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:06.997581Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:07.004369Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:07.014047Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:07.022829Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:07.107931Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=54.090038ms elapsed_secs=0.054090038
2025-09-06T04:19:07.206482Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=149.295522ms elapsed_secs=0.149295522
2025-09-06T04:19:07.234396Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=157.628855ms elapsed_secs=0.157628855
2025-09-06T04:19:07.250159Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=172.276248ms elapsed_secs=0.172276248
2025-09-06T04:19:07.408922Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=157.619487ms elapsed_secs=0.157619487
2025-09-06T04:19:07.458846Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=171.872484ms elapsed_secs=0.171872484
2025-09-06T04:19:17.194832Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:19:17.303432Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=52.940909ms elapsed_secs=0.052940909
2025-09-06T04:19:17.303596Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 108.463888ms
2025-09-06T04:19:17.409100Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.521294ms elapsed_secs=0.051521294
2025-09-06T04:19:17.409226Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=105.385248ms, calc=9.767¬µs
2025-09-06T04:19:17.412604Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=55.339096ms elapsed_secs=0.055339096
2025-09-06T04:19:17.412689Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=108.801481ms, calc=7.21¬µs
2025-09-06T04:19:17.416320Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.116889ms elapsed_secs=0.057116889
2025-09-06T04:19:17.416512Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=112.646428ms, calc=9.763¬µs
2025-09-06T04:19:17.421755Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=60.397844ms elapsed_secs=0.060397844
2025-09-06T04:19:17.421929Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=118.021241ms, calc=11.561¬µs
2025-09-06T04:19:17.425384Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.049178ms elapsed_secs=0.066049178
2025-09-06T04:19:17.425526Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=121.809726ms, calc=9.522¬µs
2025-09-06T04:19:17.428897Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=69.19547ms elapsed_secs=0.06919547
2025-09-06T04:19:17.429068Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=125.185616ms, calc=11.84¬µs
2025-09-06T04:19:17.518092Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=45.248583ms elapsed_secs=0.045248583
2025-09-06T04:19:17.518219Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=92.62957ms, calc=7.885¬µs
2025-09-06T04:19:17.534237Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=61.721819ms elapsed_secs=0.061721819
2025-09-06T04:19:17.534374Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=125.066184ms, calc=10.503¬µs
2025-09-06T04:19:17.537450Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.727286ms elapsed_secs=0.054727286
2025-09-06T04:19:17.537536Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=108.292749ms, calc=5.236¬µs
2025-09-06T04:19:17.540724Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.447508ms elapsed_secs=0.057447508
2025-09-06T04:19:17.540918Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=111.77377ms, calc=12.777¬µs
2025-09-06T04:19:17.540989Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 237.31127ms
2025-09-06T04:19:17.672803Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=67.521566ms elapsed_secs=0.067521566
2025-09-06T04:19:17.673007Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 131.979557ms
2025-09-06T04:19:17.677403Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:17.801648Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=62.564047ms elapsed_secs=0.062564047
2025-09-06T04:19:23.997891Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:24.008886Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:24.873165Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:24.875238Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:24.979629Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.53117ms elapsed_secs=0.05253117
2025-09-06T04:19:24.981919Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:24.984000Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=54.53523ms elapsed_secs=0.05453523
2025-09-06T04:19:25.090078Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.43209ms elapsed_secs=0.05343209
2025-09-06T04:19:25.181690Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=144.170187ms elapsed_secs=0.144170187
2025-09-06T04:19:25.183168Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:25.276837Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=47.220532ms elapsed_secs=0.047220532
2025-09-06T04:19:25.489077Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=160.645164ms elapsed_secs=0.160645164
2025-09-06T04:19:28.121409Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:28.125698Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:28.860794Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:28.870704Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:28.968529Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=53.190959ms elapsed_secs=0.053190959
2025-09-06T04:19:28.971744Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:28.998122Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=64.139313ms elapsed_secs=0.064139313
2025-09-06T04:19:29.078319Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.349124ms elapsed_secs=0.052349124
2025-09-06T04:19:29.101048Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=51.214099ms elapsed_secs=0.051214099
2025-09-06T04:19:29.102528Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:29.211325Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=55.411424ms elapsed_secs=0.055411424
2025-09-06T04:19:29.316747Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=52.555283ms elapsed_secs=0.052555283
2025-09-06T04:19:32.967621Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:32.970222Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /profile
2025-09-06T04:19:33.670686Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:33.678956Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:33.782486Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=55.518886ms elapsed_secs=0.055518886
2025-09-06T04:19:33.794996Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=56.987634ms elapsed_secs=0.056987634
2025-09-06T04:19:33.796041Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:33.889299Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=47.243851ms elapsed_secs=0.047243851
2025-09-06T04:19:33.892844Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /me/modules
2025-09-06T04:19:33.902236Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.540956ms elapsed_secs=0.052540956
2025-09-06T04:19:33.999902Z DEBUG sqlx::query: summary="SELECT EXISTS ( SELECT ‚Ä¶" db.statement="\n\nSELECT\n  EXISTS (\n    SELECT\n      1\n    FROM\n      user_roles ur\n      JOIN roles r ON r.tenant_id = ur.tenant_id\n      AND r.id = ur.role_id\n    WHERE\n      ur.tenant_id = $1\n      AND ur.user_id = $2\n      AND r.name = 'admin'\n  )\n" rows_affected=0 rows_returned=1 elapsed=53.731879ms elapsed_secs=0.053731879
2025-09-06T04:19:34.243600Z DEBUG sqlx::query: summary="SELECT (module_name || '.access') ‚Ä¶" db.statement="\n\nSELECT\n  (module_name || '.access') AS perm\nFROM\n  available_module\nORDER BY\n  module_name\n" rows_affected=5 rows_returned=5 elapsed=182.598676ms elapsed_secs=0.182598676
2025-09-06T04:19:35.659523Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:19:35.767852Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=53.28047ms elapsed_secs=0.05328047
2025-09-06T04:19:35.768078Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 108.188145ms
2025-09-06T04:19:35.863582Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=46.519974ms elapsed_secs=0.046519974
2025-09-06T04:19:35.863709Z DEBUG milan::module::loan::handler::report: ‚è± contract 2f5d601c-5699-4a42-a43c-d9561127175d: load=95.021483ms, calc=9.551¬µs
2025-09-06T04:19:35.875426Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.91457ms elapsed_secs=0.05191457
2025-09-06T04:19:35.875600Z DEBUG milan::module::loan::handler::report: ‚è± contract 5a60cd4c-6877-417f-9f61-2ccc6984d133: load=107.448293ms, calc=11.582¬µs
2025-09-06T04:19:35.879753Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=56.126811ms elapsed_secs=0.056126811
2025-09-06T04:19:35.879910Z DEBUG milan::module::loan::handler::report: ‚è± contract 8e85d33b-49de-463d-8058-fbe7b24051a4: load=111.38291ms, calc=10.387¬µs
2025-09-06T04:19:35.884189Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=59.742519ms elapsed_secs=0.059742519
2025-09-06T04:19:35.884314Z DEBUG milan::module::loan::handler::report: ‚è± contract f04e2bb9-58c7-4c75-a311-9aad583dbb1d: load=115.715494ms, calc=7.727¬µs
2025-09-06T04:19:35.887341Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=2 rows_returned=2 elapsed=63.180081ms elapsed_secs=0.063180081
2025-09-06T04:19:35.887422Z DEBUG milan::module::loan::handler::report: ‚è± contract 7170b271-677a-4ae8-b668-ecc058733e84: load=118.768025ms, calc=4.92¬µs
2025-09-06T04:19:35.891773Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=66.973244ms elapsed_secs=0.066973244
2025-09-06T04:19:35.892020Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=123.378123ms, calc=13.056¬µs
2025-09-06T04:19:35.972828Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.117302ms elapsed_secs=0.054117302
2025-09-06T04:19:35.973050Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=109.277183ms, calc=13.922¬µs
2025-09-06T04:19:35.984540Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=53.326174ms elapsed_secs=0.053326174
2025-09-06T04:19:35.984693Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=109.03915ms, calc=8.91¬µs
2025-09-06T04:19:35.998387Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=51.945427ms elapsed_secs=0.051945427
2025-09-06T04:19:35.998530Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=106.275187ms, calc=9.683¬µs
2025-09-06T04:19:36.019067Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=62.858462ms elapsed_secs=0.062858462
2025-09-06T04:19:36.019239Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=127.091939ms, calc=12.369¬µs
2025-09-06T04:19:36.019317Z DEBUG milan::module::loan::handler::report: ‚è± total load+calc: 251.200755ms
2025-09-06T04:19:36.146674Z DEBUG sqlx::query: summary="WITH v(tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nWITH v(\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\n) AS (\n  VALUES\n    ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11),\n    (\n      $12,\n      $13,\n      $14,\n      $15,\n      $16,\n      $17,\n      $18,\n      $19,\n      $20,\n      $21,\n      $22\n    ),\n    (\n      $23,\n      $24,\n      $25,\n      $26,\n      $27,\n      $28,\n      $29,\n      $30,\n      $31,\n      $32,\n      $33\n    ),\n    (\n      $34,\n      $35,\n      $36,\n      $37,\n      $38,\n      $39,\n      $40,\n      $41,\n      $42,\n      $43,\n      $44\n    ),\n    (\n      $45,\n      $46,\n      $47,\n      $48,\n      $49,\n      $50,\n      $51,\n      $52,\n      $53,\n      $54,\n      $55\n    ),\n    (\n      $56,\n      $57,\n      $58,\n      $59,\n      $60,\n      $61,\n      $62,\n      $63,\n      $64,\n      $65,\n      $66\n    ),\n    (\n      $67,\n      $68,\n      $69,\n      $70,\n      $71,\n      $72,\n      $73,\n      $74,\n      $75,\n      $76,\n      $77\n    ),\n    (\n      $78,\n      $79,\n      $80,\n      $81,\n      $82,\n      $83,\n      $84,\n      $85,\n      $86,\n      $87,\n      $88\n    ),\n    (\n      $89,\n      $90,\n      $91,\n      $92,\n      $93,\n      $94,\n      $95,\n      $96,\n      $97,\n      $98,\n      $99\n    ),\n    (\n      $100,\n      $101,\n      $102,\n      $103,\n      $104,\n      $105,\n      $106,\n      $107,\n      $108,\n      $109,\n      $110\n    )\n)\nINSERT INTO\n  loan_report (\n    tenant_id,\n    contract_id,\n    contact_id,\n    date,\n    current_principal,\n    current_interest,\n    accumulated_interest,\n    total_paid_interest,\n    total_paid_principal,\n    payoff_due,\n    state\n  )\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  v ON CONFLICT (tenant_id, contract_id, date) DO\nUPDATE\nSET\n  current_principal = EXCLUDED.current_principal,\n  current_interest = EXCLUDED.current_interest,\n  accumulated_interest = EXCLUDED.accumulated_interest,\n  total_paid_interest = EXCLUDED.total_paid_interest,\n  total_paid_principal = EXCLUDED.total_paid_principal,\n  payoff_due = EXCLUDED.payoff_due,\n  state = EXCLUDED.state\n" rows_affected=10 rows_returned=0 elapsed=66.017873ms elapsed_secs=0.066017873
2025-09-06T04:19:36.146835Z DEBUG milan::module::loan::handler::report: ‚è± write_report (UPSERT): 127.464178ms
2025-09-06T04:19:36.151062Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report
2025-09-06T04:19:36.256068Z DEBUG sqlx::query: summary="SELECT tenant_id, contract_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  tenant_id,\n  contract_id,\n  contact_id,\n  date,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_paid_principal,\n  payoff_due,\n  state\nFROM\n  loan_report\nWHERE\n  tenant_id = $1\nORDER BY\n  date DESC,\n  contract_id\n" rows_affected=10 rows_returned=10 elapsed=52.050223ms elapsed_secs=0.052050223
2025-09-06T04:28:42.718113Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T04:28:42.864846Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:42.865269Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:42.971211Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:42.971501Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:42.972220Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:42.972390Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:42.972619Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:42.972873Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:43.240381Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:43.241020Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:43.351504Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:43.351791Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:43.352612Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:43.352820Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:43.353011Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:43.353327Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:43.621252Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:43.621925Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:43.729252Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:43.729339Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:43.729541Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:43.729597Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:43.729650Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:43.729713Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:44.018004Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:44.018897Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:44.125456Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:44.125721Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:44.126567Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:44.126813Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:44.126941Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:44.127122Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:44.445223Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:44.445911Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:44.540248Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:44.540376Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:44.540807Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:44.540871Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:44.540953Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:44.541068Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:44.948795Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:44.948968Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:45.055192Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:45.055447Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:45.056206Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:45.056403Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:45.056653Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:45.057057Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:45.634285Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:45.635050Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:45.744471Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:45.744780Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:45.745557Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:45.745767Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:45.745940Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:45.746237Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:46.636867Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:46.637120Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:46.758176Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:46.758494Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:46.759379Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:46.759589Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:46.759691Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:46.759904Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:48.296944Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:48.297666Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:48.409376Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:48.409665Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:48.410401Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:48.410600Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:48.411209Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:48.411575Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:51.224555Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:51.225309Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:51.331868Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:51.332177Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:51.332938Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:51.333167Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:51.333382Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:51.333659Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:28:56.737635Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:28:56.738294Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:28:56.846261Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:28:56.846532Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:28:56.847271Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:28:56.847449Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:28:56.847617Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:28:56.847924Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:29:03.114116Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:29:03.114844Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:29:03.221605Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:29:03.221873Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:29:03.222630Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:29:03.222819Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:29:03.223054Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:29:03.223345Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:29:12.473820Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:29:12.474614Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:29:12.582451Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:29:12.582759Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:29:12.583539Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:29:12.583794Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:29:12.584003Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:29:12.584333Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:29:19.263871Z  WARN sqlx_postgres::options::parse: ignoring unrecognized connect parameter key=ssl value=true
2025-09-06T04:29:19.377281Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:29:19.377557Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:29:19.488456Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:29:19.488565Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:29:19.488747Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:29:19.488785Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:29:19.488835Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:29:19.488883Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:46.481085Z DEBUG milan::core::auth: üîê Middleware nh·∫≠n request: /report/pivot-now
2025-09-06T04:31:46.806040Z DEBUG sqlx::query: summary="SELECT id, tenant_id, contact_id, ‚Ä¶" db.statement="\n\nSELECT\n  id,\n  tenant_id,\n  contact_id,\n  contract_number,\n  interest_rate,\n  term_months,\n  date_start,\n  date_end,\n  storage_fee_rate,\n  storage_fee,\n  current_principal,\n  current_interest,\n  accumulated_interest,\n  total_paid_interest,\n  total_settlement_amount,\n  state,\n  created_at,\n  updated_at,\n  created_by,\n  assignee_id,\n  shared_with,\n  0 :: int8 AS \"total_paid_principal!\",\n  0 :: int8 AS \"payoff_due!\"\nFROM\n  loan_contract\nWHERE\n  tenant_id = $1\nORDER BY\n  date_start DESC\n" rows_affected=10 rows_returned=10 elapsed=229.500416ms elapsed_secs=0.229500416
2025-09-06T04:31:46.806510Z DEBUG milan::module::loan::handler::report: ‚è± list_contracts: 319.520725ms
2025-09-06T04:31:46.945236Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.945539Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:46.948766Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.949069Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:46.949858Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.950306Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:46.952931Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.953359Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:46.955133Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.955322Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:46.960507Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:46.961418Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.045942Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.046199Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.046898Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.047045Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.047128Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.047331Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.051279Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.051583Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.051921Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.052020Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.052180Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.052420Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.055142Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.055335Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.055602Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.055667Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.055839Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.056158Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.060932Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.061022Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.061175Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.061205Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.061256Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.061350Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.065303Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.065810Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.066442Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.066540Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.066660Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.066836Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.067382Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.067542Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.067972Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.068123Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.068251Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.068416Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.277531Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.277824Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.303755Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.303925Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.353067Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.353465Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.355522Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.356678Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.358358Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.358808Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.379911Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.380050Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.380595Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.380687Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.380760Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.380857Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.410930Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.411034Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.411251Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.411300Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.411419Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.411491Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.459689Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.459861Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.460448Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.460577Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.460658Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.460844Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.462132Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.462421Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.463257Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.463579Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.463839Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.464176Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.464966Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.465216Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.465915Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.466056Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.466206Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.466440Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.543957Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=295.072824ms elapsed_secs=0.295072824
2025-09-06T04:31:47.544110Z DEBUG milan::module::loan::handler::report: ‚è± contract 82d83fcf-0131-4662-b7b7-8edfc67b6f82: load=736.930797ms, calc=12.853¬µs
2025-09-06T04:31:47.663051Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.663783Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.695815Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.696077Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.732959Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.733121Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.764519Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.765335Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.767850Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:47.768582Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:47.770893Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.770982Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.771239Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.771296Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.771377Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.771515Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.801099Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=197.731628ms elapsed_secs=0.197731628
2025-09-06T04:31:47.801320Z DEBUG milan::module::loan::handler::report: ‚è± contract ccc9902b-04cd-4cfd-ae70-da14ba075e34: load=257.143797ms, calc=13.582¬µs
2025-09-06T04:31:47.802815Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.802868Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.803009Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.803040Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.803084Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.803138Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.843583Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.843920Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.844939Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.845210Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.845460Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.845862Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.869751Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.869854Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.870055Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.870099Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.870147Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.870223Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.878666Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:47.878841Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:47.879459Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:47.879606Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:47.879687Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:47.879831Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:47.914353Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=54.679262ms elapsed_secs=0.054679262
2025-09-06T04:31:47.914487Z DEBUG milan::module::loan::handler::report: ‚è± contract 67ea5dd0-4b28-42bb-ae4a-e8a527236745: load=113.086265ms, calc=6.727¬µs
2025-09-06T04:31:48.033484Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=57.502141ms elapsed_secs=0.057502141
2025-09-06T04:31:48.033615Z DEBUG milan::module::loan::handler::report: ‚è± contract d789b460-776e-4d10-99dd-337f06c1e234: load=119.08723ms, calc=8.673¬µs
2025-09-06T04:31:48.038300Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.038443Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.093591Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.093860Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.126895Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.127085Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.127406Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.127525Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.127598Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.127711Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.134732Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.135560Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.147229Z DEBUG sqlx::query: summary="SELECT lt.id, lt.contract_id, lt.tenant_id, ‚Ä¶" db.statement="\n\nSELECT\n  lt.id,\n  lt.contract_id,\n  lt.tenant_id,\n  lt.contact_id,\n  lt.transaction_type,\n  lt.amount,\n  lt.date AS \"date!\",\n  lt.note,\n  0 :: int4 AS \"days_from_prev!\",\n  0 :: int8 AS \"interest_for_period!\",\n  0 :: int8 AS \"accumulated_interest!\",\n  0 :: int8 AS \"principal_balance!\",\n  0 :: int8 AS \"principal_applied!\",\n  0 :: int8 AS \"interest_applied!\",\n  lt.created_at AS \"created_at!\",\n  lt.updated_at AS \"updated_at!\"\nFROM\n  loan_transaction lt\nWHERE\n  lt.tenant_id = $1\n  AND lt.contract_id = $2\nORDER BY\n  lt.date ASC,\n  lt.id ASC\n" rows_affected=1 rows_returned=1 elapsed=55.142911ms elapsed_secs=0.055142911
2025-09-06T04:31:48.147346Z DEBUG milan::module::loan::handler::report: ‚è± contract 9365fb9e-14b3-430a-a1b2-5f7705816160: load=113.676654ms, calc=8.44¬µs
2025-09-06T04:31:48.163774Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.164679Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.169088Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.169975Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.201153Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.201284Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.201723Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.201795Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.201872Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.201997Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.242924Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.243244Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.244013Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.244169Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.244324Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.244736Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.271980Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.272310Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.273310Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.273537Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.273766Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.274083Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.274847Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.274945Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.275263Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.275326Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.275391Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.275484Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.483580Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.484696Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.539640Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.539922Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.567254Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.568032Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.612154Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.612642Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.614853Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:48.615610Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:48.621743Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.621834Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.622024Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.622086Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.622312Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.622685Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.646153Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.646248Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.646433Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.646472Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.646543Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.646614Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.673011Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.673291Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.673871Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.673998Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.674190Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.674408Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.721592Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.722024Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.722853Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.722898Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.722935Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.723007Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:48.724832Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:48.724901Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:48.725068Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:48.725107Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:48.725145Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:48.725323Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.050625Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.051502Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.061833Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.062017Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.068287Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.069261Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.136885Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.137195Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.144048Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.144992Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.151820Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.151931Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.152169Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.152233Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.152306Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.152577Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.170723Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.170821Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.171050Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.171100Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.171166Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.171229Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.171411Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.171469Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.171711Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.171781Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.171825Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.171957Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.237852Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.237994Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.238618Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.238786Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.238951Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.239259Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.253032Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.253385Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.254354Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.254702Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.254943Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.255288Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.698217Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.698827Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.742560Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.742992Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.743730Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.744364Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.791229Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.791444Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.792064Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.792156Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.792249Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.792417Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.808908Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.809185Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.822462Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:49.822811Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:49.849182Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.849600Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.850498Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.850754Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.850992Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.851345Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.858289Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.858374Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.858537Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.858577Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.858612Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.858667Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.905036Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.905202Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.905844Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.906090Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.906366Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.906685Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:49.926286Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:49.926397Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:49.926601Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:49.926644Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:49.926752Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:49.926989Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:50.679274Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:50.679716Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:50.753352Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:50.753912Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:50.762294Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:50.763184Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:50.777258Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:50.778328Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:50.788165Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:50.788375Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:50.788790Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:50.788907Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:50.789008Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:50.789147Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:50.842441Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:50.842620Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:50.859707Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:50.859798Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:50.859990Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:50.860035Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:50.860072Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:50.860123Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:50.868443Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:50.868643Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:50.868917Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:50.868999Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:50.869065Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:50.869138Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:50.891345Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:50.891440Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:50.891612Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:50.891644Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:50.891678Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:50.891728Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:50.968685Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:50.968933Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:50.969484Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:50.969629Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:50.969770Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:50.969926Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:52.324636Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:52.325113Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:52.385964Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:52.386443Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:52.399195Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:52.399906Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:52.403298Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:52.404097Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:52.431477Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:52.431625Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:52.432182Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:52.432322Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:52.432401Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:52.432485Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:52.493596Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:52.493855Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:52.494817Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:52.495000Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:52.495308Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:52.495614Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:52.496948Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:52.497023Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:52.497377Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:52.497467Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:52.497677Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:52.497940Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:52.506853Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:52.507189Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:52.508138Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:52.508351Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:52.508541Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:52.508833Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:52.522749Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:52.523085Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:52.634723Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:52.635031Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:52.635573Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:52.635738Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:52.635936Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:52.636134Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:55.250203Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:55.250655Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:55.322802Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:55.323165Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:55.335008Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:55.335631Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:55.340357Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:55.341212Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:55.357856Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:55.357948Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:55.358113Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:55.358144Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:55.358180Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:55.358233Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:55.435068Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:55.435482Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:55.436505Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:55.436772Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:55.437028Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:55.437391Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:55.444151Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:55.444616Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:55.445575Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:55.445790Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:55.445943Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:55.446281Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:55.453937Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:31:55.454838Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:31:55.455838Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:55.456074Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:55.456811Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:55.456964Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:55.457109Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:55.457358Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:31:55.566757Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:31:55.567096Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:31:55.567907Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:31:55.568011Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:31:55.568176Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:31:55.568405Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:00.775137Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:00.775663Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:00.810142Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:00.810408Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:00.819641Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:00.820524Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:00.826461Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:00.826641Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:00.892190Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:00.892420Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:00.893001Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:00.893148Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:00.893300Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:00.893552Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:00.902499Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:00.902788Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:00.903553Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:00.903736Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:00.903879Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:00.904191Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:00.926304Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:00.926424Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:00.926714Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:00.926797Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:00.927038Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:00.927343Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:00.935240Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:00.935357Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:00.935701Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:00.935947Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:00.936189Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:00.936496Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:00.947249Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:00.947388Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:01.054050Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:01.054252Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:01.054955Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:01.055069Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:01.055137Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:01.055307Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:10.061841Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:10.062261Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:10.070046Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:10.070720Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:10.092651Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:10.092806Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:10.110594Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:10.110909Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:10.162388Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:10.162670Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:10.163425Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:10.163790Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:10.164032Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:10.164338Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:10.171503Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:10.171732Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:10.172121Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:10.172195Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:10.172283Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:10.172421Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:10.181076Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:10.181439Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:10.182603Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:10.182702Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:10.182784Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:10.182893Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:10.212580Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:10.212744Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:10.213321Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:10.213396Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:10.213478Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:10.213579Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
2025-09-06T04:32:10.233965Z DEBUG rustls::client::hs: No cached session for DnsName("ap-southeast-1.e4c6174f-6538-4e47-93bf-0a2503819047.aws.yugabyte.cloud")    
2025-09-06T04:32:10.234501Z DEBUG rustls::client::hs: Not resuming any session    
2025-09-06T04:32:10.343528Z DEBUG rustls::client::hs: Using ciphersuite TLS13_AES_256_GCM_SHA384    
2025-09-06T04:32:10.343873Z DEBUG rustls::client::tls13: Not resuming    
2025-09-06T04:32:10.344656Z DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: []    
2025-09-06T04:32:10.344796Z DEBUG rustls::client::hs: ALPN protocol is None    
2025-09-06T04:32:10.344880Z DEBUG rustls::client::tls13: Got CertificateRequest CertificateRequestPayloadTLS13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, Unknown(2057), Unknown(2058), Unknown(2059), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, Unknown(771), Unknown(769)]), AuthorityNames([DistinguishedName(305b31153013060355040a130c597567616279746520496e633142304006035504030c392a2e65346336313734662d363533382d346534372d393362662d3061323530333831393034372e6177732e79756761627974652e636c6f7564), DistinguishedName(30818b310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312b302906035504031322597567616279746520436c6f7564205375626f7264696e6174652043412070726f64), DistinguishedName(308184310b3009060355040613025553310b3009060355040813024341311230100603550407130953756e6e7976616c6531153013060355040a130c597567616279746520496e6331173015060355040b130e597567616279746520436c6f7564312430220603550403131b597567616279746520436c6f756420526f6f742043412070726f64)])] }    
2025-09-06T04:32:10.345065Z DEBUG rustls::client::common: Client auth requested but no cert/sigscheme available    
